(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function D_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bd={exports:{}},ci={};var Cy;function M_(){if(Cy)return ci;Cy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:n,type:i,key:d,ref:o!==void 0?o:null,props:u}}return ci.Fragment=t,ci.jsx=a,ci.jsxs=a,ci}var Ry;function L_(){return Ry||(Ry=1,bd.exports=M_()),bd.exports}var c=L_(),wd={exports:{}},ui={},Sd={exports:{}},_d={};var ky;function U_(){return ky||(ky=1,(function(n){function t(H,K){var ee=H.length;H.push(K);e:for(;0<ee;){var xe=ee-1>>>1,Se=H[xe];if(0<o(Se,K))H[xe]=K,H[ee]=Se,ee=xe;else break e}}function a(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var K=H[0],ee=H.pop();if(ee!==K){H[0]=ee;e:for(var xe=0,Se=H.length,O=Se>>>1;xe<O;){var I=2*(xe+1)-1,X=H[I],Z=I+1,de=H[Z];if(0>o(X,ee))Z<Se&&0>o(de,X)?(H[xe]=de,H[Z]=ee,xe=Z):(H[xe]=X,H[I]=ee,xe=I);else if(Z<Se&&0>o(de,ee))H[xe]=de,H[Z]=ee,xe=Z;else break e}}return K}function o(H,K){var ee=H.sortIndex-K.sortIndex;return ee!==0?ee:H.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var p=[],g=[],x=1,y=null,v=3,w=!1,S=!1,T=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var K=a(g);K!==null;){if(K.callback===null)i(g);else if(K.startTime<=H)i(g),K.sortIndex=K.expirationTime,t(p,K);else break;K=a(g)}}function B(H){if(T=!1,M(H),!S)if(a(p)!==null)S=!0,$||($=!0,ie());else{var K=a(g);K!==null&&yt(B,K.startTime-H)}}var $=!1,Y=-1,F=5,W=-1;function me(){return j?!0:!(n.unstable_now()-W<F)}function Pe(){if(j=!1,$){var H=n.unstable_now();W=H;var K=!0;try{e:{S=!1,T&&(T=!1,A(Y),Y=-1),w=!0;var ee=v;try{t:{for(M(H),y=a(p);y!==null&&!(y.expirationTime>H&&me());){var xe=y.callback;if(typeof xe=="function"){y.callback=null,v=y.priorityLevel;var Se=xe(y.expirationTime<=H);if(H=n.unstable_now(),typeof Se=="function"){y.callback=Se,M(H),K=!0;break t}y===a(p)&&i(p),M(H)}else i(p);y=a(p)}if(y!==null)K=!0;else{var O=a(g);O!==null&&yt(B,O.startTime-H),K=!1}}break e}finally{y=null,v=ee,w=!1}K=void 0}}finally{K?ie():$=!1}}}var ie;if(typeof E=="function")ie=function(){E(Pe)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,nt=Ue.port2;Ue.port1.onmessage=Pe,ie=function(){nt.postMessage(null)}}else ie=function(){C(Pe,0)};function yt(H,K){Y=C(function(){H(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(H){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ee=v;v=K;try{return H()}finally{v=ee}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=v;v=H;try{return K()}finally{v=ee}},n.unstable_scheduleCallback=function(H,K,ee){var xe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?xe+ee:xe):ee=xe,H){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ee+Se,H={id:x++,callback:K,priorityLevel:H,startTime:ee,expirationTime:Se,sortIndex:-1},ee>xe?(H.sortIndex=ee,t(g,H),a(p)===null&&H===a(g)&&(T?(A(Y),Y=-1):T=!0,yt(B,ee-xe))):(H.sortIndex=Se,t(p,H),S||w||(S=!0,$||($=!0,ie()))),H},n.unstable_shouldYield=me,n.unstable_wrapCallback=function(H){var K=v;return function(){var ee=v;v=K;try{return H.apply(this,arguments)}finally{v=ee}}}})(_d)),_d}var Oy;function z_(){return Oy||(Oy=1,Sd.exports=U_()),Sd.exports}var jd={exports:{}},ue={};var Dy;function B_(){if(Dy)return ue;Dy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,j={};function C(O,I,X){this.props=O,this.context=I,this.refs=j,this.updater=X||S}C.prototype.isReactComponent={},C.prototype.setState=function(O,I){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,I,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function A(){}A.prototype=C.prototype;function E(O,I,X){this.props=O,this.context=I,this.refs=j,this.updater=X||S}var M=E.prototype=new A;M.constructor=E,T(M,C.prototype),M.isPureReactComponent=!0;var B=Array.isArray;function $(){}var Y={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function W(O,I,X){var Z=X.ref;return{$$typeof:n,type:O,key:I,ref:Z!==void 0?Z:null,props:X}}function me(O,I){return W(O.type,I,O.props)}function Pe(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function ie(O){var I={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return I[X]})}var Ue=/\/+/g;function nt(O,I){return typeof O=="object"&&O!==null&&O.key!=null?ie(""+O.key):I.toString(36)}function yt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then($,$):(O.status="pending",O.then(function(I){O.status==="pending"&&(O.status="fulfilled",O.value=I)},function(I){O.status==="pending"&&(O.status="rejected",O.reason=I)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,I,X,Z,de){var pe=typeof O;(pe==="undefined"||pe==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(pe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case n:case t:Ee=!0;break;case x:return Ee=O._init,H(Ee(O._payload),I,X,Z,de)}}if(Ee)return de=de(O),Ee=Z===""?"."+nt(O,0):Z,B(de)?(X="",Ee!=null&&(X=Ee.replace(Ue,"$&/")+"/"),H(de,I,X,"",function(gr){return gr})):de!=null&&(Pe(de)&&(de=me(de,X+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(Ue,"$&/")+"/")+Ee)),I.push(de)),1;Ee=0;var bt=Z===""?".":Z+":";if(B(O))for(var Ye=0;Ye<O.length;Ye++)Z=O[Ye],pe=bt+nt(Z,Ye),Ee+=H(Z,I,X,pe,de);else if(Ye=w(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(Z=O.next()).done;)Z=Z.value,pe=bt+nt(Z,Ye++),Ee+=H(Z,I,X,pe,de);else if(pe==="object"){if(typeof O.then=="function")return H(yt(O),I,X,Z,de);throw I=String(O),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(O,I,X){if(O==null)return O;var Z=[],de=0;return H(O,Z,"","",function(pe){return I.call(X,pe,de++)}),Z}function ee(O){if(O._status===-1){var I=O._result;I=I(),I.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=I)}if(O._status===1)return O._result.default;throw O._result}var xe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Se={map:K,forEach:function(O,I,X){K(O,function(){I.apply(this,arguments)},X)},count:function(O){var I=0;return K(O,function(){I++}),I},toArray:function(O){return K(O,function(I){return I})||[]},only:function(O){if(!Pe(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ue.Activity=y,ue.Children=Se,ue.Component=C,ue.Fragment=a,ue.Profiler=o,ue.PureComponent=E,ue.StrictMode=i,ue.Suspense=p,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ue.__COMPILER_RUNTIME={__proto__:null,c:function(O){return Y.H.useMemoCache(O)}},ue.cache=function(O){return function(){return O.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(O,I,X){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=T({},O.props),de=O.key;if(I!=null)for(pe in I.key!==void 0&&(de=""+I.key),I)!F.call(I,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&I.ref===void 0||(Z[pe]=I[pe]);var pe=arguments.length-2;if(pe===1)Z.children=X;else if(1<pe){for(var Ee=Array(pe),bt=0;bt<pe;bt++)Ee[bt]=arguments[bt+2];Z.children=Ee}return W(O.type,de,Z)},ue.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},ue.createElement=function(O,I,X){var Z,de={},pe=null;if(I!=null)for(Z in I.key!==void 0&&(pe=""+I.key),I)F.call(I,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(de[Z]=I[Z]);var Ee=arguments.length-2;if(Ee===1)de.children=X;else if(1<Ee){for(var bt=Array(Ee),Ye=0;Ye<Ee;Ye++)bt[Ye]=arguments[Ye+2];de.children=bt}if(O&&O.defaultProps)for(Z in Ee=O.defaultProps,Ee)de[Z]===void 0&&(de[Z]=Ee[Z]);return W(O,pe,de)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(O){return{$$typeof:f,render:O}},ue.isValidElement=Pe,ue.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:ee}},ue.memo=function(O,I){return{$$typeof:g,type:O,compare:I===void 0?null:I}},ue.startTransition=function(O){var I=Y.T,X={};Y.T=X;try{var Z=O(),de=Y.S;de!==null&&de(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then($,xe)}catch(pe){xe(pe)}finally{I!==null&&X.types!==null&&(I.types=X.types),Y.T=I}},ue.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ue.use=function(O){return Y.H.use(O)},ue.useActionState=function(O,I,X){return Y.H.useActionState(O,I,X)},ue.useCallback=function(O,I){return Y.H.useCallback(O,I)},ue.useContext=function(O){return Y.H.useContext(O)},ue.useDebugValue=function(){},ue.useDeferredValue=function(O,I){return Y.H.useDeferredValue(O,I)},ue.useEffect=function(O,I){return Y.H.useEffect(O,I)},ue.useEffectEvent=function(O){return Y.H.useEffectEvent(O)},ue.useId=function(){return Y.H.useId()},ue.useImperativeHandle=function(O,I,X){return Y.H.useImperativeHandle(O,I,X)},ue.useInsertionEffect=function(O,I){return Y.H.useInsertionEffect(O,I)},ue.useLayoutEffect=function(O,I){return Y.H.useLayoutEffect(O,I)},ue.useMemo=function(O,I){return Y.H.useMemo(O,I)},ue.useOptimistic=function(O,I){return Y.H.useOptimistic(O,I)},ue.useReducer=function(O,I,X){return Y.H.useReducer(O,I,X)},ue.useRef=function(O){return Y.H.useRef(O)},ue.useState=function(O){return Y.H.useState(O)},ue.useSyncExternalStore=function(O,I,X){return Y.H.useSyncExternalStore(O,I,X)},ue.useTransition=function(){return Y.H.useTransition()},ue.version="19.2.4",ue}var My;function zh(){return My||(My=1,jd.exports=B_()),jd.exports}var Td={exports:{}},xt={};var Ly;function P_(){if(Ly)return xt;Ly=1;var n=zh();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:g,implementation:x}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xt.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,x)},xt.flushSync=function(p){var g=d.T,x=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=g,i.p=x,i.d.f()}},xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},xt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,y=f(x,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:w}):x==="script"&&i.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=f(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,y=f(x,g.crossOrigin);i.d.L(p,x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=f(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},xt.requestFormReset=function(p){i.d.r(p)},xt.unstable_batchedUpdates=function(p,g){return p(g)},xt.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},xt.version="19.2.4",xt}var Uy;function V_(){if(Uy)return Td.exports;Uy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Td.exports=P_(),Td.exports}var zy;function H_(){if(zy)return ui;zy=1;var n=z_(),t=zh(),a=V_();function i(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function d(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function f(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(i(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(i(188));return s!==e?null:e}for(var r=e,l=s;;){var h=r.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===r)return p(h),e;if(m===l)return p(h),s;m=m.sibling}throw Error(i(188))}if(r.return!==l.return)r=h,l=m;else{for(var b=!1,_=h.child;_;){if(_===r){b=!0,r=h,l=m;break}if(_===l){b=!0,l=h,r=m;break}_=_.sibling}if(!b){for(_=m.child;_;){if(_===r){b=!0,r=m,l=h;break}if(_===l){b=!0,l=m,r=h;break}_=_.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==l)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:s}function x(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=x(e),s!==null)return s;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Pe=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=Pe&&e[Pe]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case B:return"Suspense";case $:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case E:return e.displayName||"Context";case A:return(e._context.displayName||"Context")+".Consumer";case M:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return s=e.displayName||null,s!==null?s:nt(e.type)||"Memo";case F:s=e._payload,e=e._init;try{return nt(e(s))}catch{}}return null}var yt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},xe=[],Se=-1;function O(e){return{current:e}}function I(e){0>Se||(e.current=xe[Se],xe[Se]=null,Se--)}function X(e,s){Se++,xe[Se]=e.current,e.current=s}var Z=O(null),de=O(null),pe=O(null),Ee=O(null);function bt(e,s){switch(X(pe,s),X(de,e),X(Z,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Qg(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Qg(s),e=Zg(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(Z),X(Z,e)}function Ye(){I(Z),I(de),I(pe)}function gr(e){e.memoizedState!==null&&X(Ee,e);var s=Z.current,r=Zg(s,e.type);s!==r&&(X(de,e),X(Z,r))}function Ki(e){de.current===e&&(I(Z),I(de)),Ee.current===e&&(I(Ee),ri._currentValue=ee)}var nc,Af;function Es(e){if(nc===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);nc=s&&s[1]||"",Af=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nc+e+Af}var sc=!1;function ac(e,s){if(!e||sc)return"";sc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(P){var z=P}Reflect.construct(e,[],G)}else{try{G.call()}catch(P){z=P}e.call(G.prototype)}}else{try{throw Error()}catch(P){z=P}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(P){if(P&&z&&typeof P.stack=="string")return[P.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],_=m[1];if(b&&_){var R=b.split(`
`),U=_.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===U.length)for(l=R.length-1,h=U.length-1;1<=l&&0<=h&&R[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==U[h]){var V=`
`+R[l].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=l&&0<=h);break}}}finally{sc=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Es(r):""}function uw(e,s){switch(e.tag){case 26:case 27:case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return e.child!==s&&s!==null?Es("Suspense Fallback"):Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return ac(e.type,!1);case 11:return ac(e.type.render,!1);case 1:return ac(e.type,!0);case 31:return Es("Activity");default:return""}}function Cf(e){try{var s="",r=null;do s+=uw(e,r),r=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var rc=Object.prototype.hasOwnProperty,ic=n.unstable_scheduleCallback,lc=n.unstable_cancelCallback,dw=n.unstable_shouldYield,hw=n.unstable_requestPaint,Ot=n.unstable_now,fw=n.unstable_getCurrentPriorityLevel,Rf=n.unstable_ImmediatePriority,kf=n.unstable_UserBlockingPriority,Yi=n.unstable_NormalPriority,mw=n.unstable_LowPriority,Of=n.unstable_IdlePriority,pw=n.log,gw=n.unstable_setDisableYieldValue,yr=null,Dt=null;function Wn(e){if(typeof pw=="function"&&gw(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(yr,e)}catch{}}var Mt=Math.clz32?Math.clz32:vw,yw=Math.log,xw=Math.LN2;function vw(e){return e>>>=0,e===0?32:31-(yw(e)/xw|0)|0}var Fi=256,Xi=262144,Wi=4194304;function As(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,s,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~m,l!==0?h=As(l):(b&=_,b!==0?h=As(b):r||(r=_&~e,r!==0&&(h=As(r))))):(_=l&~m,_!==0?h=As(_):b!==0?h=As(b):r||(r=l&~e,r!==0&&(h=As(r)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,r=s&-s,m>=r||m===32&&(r&4194048)!==0)?s:h}function xr(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function bw(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Df(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function oc(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function vr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ww(e,s,r,l,h,m){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var _=e.entanglements,R=e.expirationTimes,U=e.hiddenUpdates;for(r=b&~r;0<r;){var V=31-Mt(r),G=1<<V;_[V]=0,R[V]=-1;var z=U[V];if(z!==null)for(U[V]=null,V=0;V<z.length;V++){var P=z[V];P!==null&&(P.lane&=-536870913)}r&=~G}l!==0&&Mf(e,l,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~s))}function Mf(e,s,r){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Mt(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Lf(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var l=31-Mt(r),h=1<<l;h&s|e[l]&s&&(e[l]|=s),r&=~h}}function Uf(e,s){var r=s&-s;return r=(r&42)!==0?1:cc(r),(r&(e.suspendedLanes|s))!==0?0:r}function cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zf(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Sy(e.type))}function Bf(e,s){var r=K.p;try{return K.p=e,s()}finally{K.p=r}}var Jn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Jn,Tt="__reactProps$"+Jn,ia="__reactContainer$"+Jn,dc="__reactEvents$"+Jn,Sw="__reactListeners$"+Jn,_w="__reactHandles$"+Jn,Pf="__reactResources$"+Jn,br="__reactMarker$"+Jn;function hc(e){delete e[ct],delete e[Tt],delete e[dc],delete e[Sw],delete e[_w]}function la(e){var s=e[ct];if(s)return s;for(var r=e.parentNode;r;){if(s=r[ia]||r[ct]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=iy(e);e!==null;){if(r=e[ct])return r;e=iy(e)}return s}e=r,r=e.parentNode}return null}function oa(e){if(e=e[ct]||e[ia]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function wr(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(i(33))}function ca(e){var s=e[Pf];return s||(s=e[Pf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function it(e){e[br]=!0}var Vf=new Set,Hf={};function Cs(e,s){ua(e,s),ua(e+"Capture",s)}function ua(e,s){for(Hf[e]=s,e=0;e<s.length;e++)Vf.add(s[e])}var jw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qf={},$f={};function Tw(e){return rc.call($f,e)?!0:rc.call(qf,e)?!1:jw.test(e)?$f[e]=!0:(qf[e]=!0,!1)}function Qi(e,s,r){if(Tw(s))if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+r)}}function Zi(e,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+r)}}function En(e,s,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(s,r,""+l)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gf(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nw(e,s,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){r=""+b,m.call(this,b)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function fc(e){if(!e._valueTracker){var s=Gf(e)?"checked":"value";e._valueTracker=Nw(e,s,""+e[s])}}function If(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),l="";return e&&(l=Gf(e)?e.checked?"true":"false":e.value),e=l,e!==r?(s.setValue(e),!0):!1}function el(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ew=/[\n"\\]/g;function Kt(e){return e.replace(Ew,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mc(e,s,r,l,h,m,b,_){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),s!=null?b==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+It(s)):e.value!==""+It(s)&&(e.value=""+It(s)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),s!=null?pc(e,b,It(s)):r!=null?pc(e,b,It(r)):l!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+It(_):e.removeAttribute("name")}function Kf(e,s,r,l,h,m,b,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){fc(e);return}r=r!=null?""+It(r):"",s=s!=null?""+It(s):r,_||s===e.value||(e.value=s),e.defaultValue=s}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),fc(e)}function pc(e,s,r){s==="number"&&el(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function da(e,s,r,l){if(e=e.options,s){s={};for(var h=0;h<r.length;h++)s["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=s.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+It(r),s=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function Yf(e,s,r){if(s!=null&&(s=""+It(s),s!==e.value&&(e.value=s),r==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=r!=null?""+It(r):""}function Ff(e,s,r,l){if(s==null){if(l!=null){if(r!=null)throw Error(i(92));if(yt(l)){if(1<l.length)throw Error(i(93));l=l[0]}r=l}r==null&&(r=""),s=r}r=It(s),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),fc(e)}function ha(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var Aw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xf(e,s,r){var l=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,r):typeof r!="number"||r===0||Aw.has(s)?s==="float"?e.cssFloat=r:e[s]=(""+r).trim():e[s]=r+"px"}function Wf(e,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in s)l=s[h],s.hasOwnProperty(h)&&r[h]!==l&&Xf(e,h,l)}else for(var m in s)s.hasOwnProperty(m)&&Xf(e,m,s[m])}function gc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(e){return Rw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var yc=null;function xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fa=null,ma=null;function Jf(e){var s=oa(e);if(s&&(e=s.stateNode)){var r=e[Tt]||null;e:switch(e=s.stateNode,s.type){case"input":if(mc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Kt(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var l=r[s];if(l!==e&&l.form===e.form){var h=l[Tt]||null;if(!h)throw Error(i(90));mc(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<r.length;s++)l=r[s],l.form===e.form&&If(l)}break e;case"textarea":Yf(e,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&da(e,!!r.multiple,s,!1)}}}var vc=!1;function Qf(e,s,r){if(vc)return e(s,r);vc=!0;try{var l=e(s);return l}finally{if(vc=!1,(fa!==null||ma!==null)&&(ql(),fa&&(s=fa,e=ma,ma=fa=null,Jf(s),e)))for(s=0;s<e.length;s++)Jf(e[s])}}function Sr(e,s){var r=e.stateNode;if(r===null)return null;var l=r[Tt]||null;if(l===null)return null;r=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=!1;if(Cn)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){bc=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{bc=!1}var Qn=null,wc=null,nl=null;function Zf(){if(nl)return nl;var e,s=wc,r=s.length,l,h="value"in Qn?Qn.value:Qn.textContent,m=h.length;for(e=0;e<r&&s[e]===h[e];e++);var b=r-e;for(l=1;l<=b&&s[r-l]===h[m-l];l++);return nl=h.slice(e,1<l?1-l:void 0)}function sl(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function em(){return!1}function Nt(e){function s(r,l,h,m,b){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(r=e[_],this[_]=r?r(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?al:em,this.isPropagationStopped=em,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),s}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=Nt(Rs),jr=y({},Rs,{view:0,detail:0}),kw=Nt(jr),Sc,_c,Tr,il=y({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tr&&(Tr&&e.type==="mousemove"?(Sc=e.screenX-Tr.screenX,_c=e.screenY-Tr.screenY):_c=Sc=0,Tr=e),Sc)},movementY:function(e){return"movementY"in e?e.movementY:_c}}),tm=Nt(il),Ow=y({},il,{dataTransfer:0}),Dw=Nt(Ow),Mw=y({},jr,{relatedTarget:0}),jc=Nt(Mw),Lw=y({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Uw=Nt(Lw),zw=y({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bw=Nt(zw),Pw=y({},Rs,{data:0}),nm=Nt(Pw),Vw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $w(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=qw[e])?!!s[e]:!1}function Tc(){return $w}var Gw=y({},jr,{key:function(e){if(e.key){var s=Vw[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iw=Nt(Gw),Kw=y({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=Nt(Kw),Yw=y({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),Fw=Nt(Yw),Xw=y({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ww=Nt(Xw),Jw=y({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qw=Nt(Jw),Zw=y({},Rs,{newState:0,oldState:0}),eS=Nt(Zw),tS=[9,13,27,32],Nc=Cn&&"CompositionEvent"in window,Nr=null;Cn&&"documentMode"in document&&(Nr=document.documentMode);var nS=Cn&&"TextEvent"in window&&!Nr,am=Cn&&(!Nc||Nr&&8<Nr&&11>=Nr),rm=" ",im=!1;function lm(e,s){switch(e){case"keyup":return tS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function sS(e,s){switch(e){case"compositionend":return om(s);case"keypress":return s.which!==32?null:(im=!0,rm);case"textInput":return e=s.data,e===rm&&im?null:e;default:return null}}function aS(e,s){if(pa)return e==="compositionend"||!Nc&&lm(e,s)?(e=Zf(),nl=wc=Qn=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return am&&s.locale!=="ko"?null:s.data;default:return null}}var rS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!rS[e.type]:s==="textarea"}function um(e,s,r,l){fa?ma?ma.push(l):ma=[l]:fa=l,s=Xl(s,"onChange"),0<s.length&&(r=new rl("onChange","change",null,r,l),e.push({event:r,listeners:s}))}var Er=null,Ar=null;function iS(e){Kg(e,0)}function ll(e){var s=wr(e);if(If(s))return e}function dm(e,s){if(e==="change")return s}var hm=!1;if(Cn){var Ec;if(Cn){var Ac="oninput"in document;if(!Ac){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),Ac=typeof fm.oninput=="function"}Ec=Ac}else Ec=!1;hm=Ec&&(!document.documentMode||9<document.documentMode)}function mm(){Er&&(Er.detachEvent("onpropertychange",pm),Ar=Er=null)}function pm(e){if(e.propertyName==="value"&&ll(Ar)){var s=[];um(s,Ar,e,xc(e)),Qf(iS,s)}}function lS(e,s,r){e==="focusin"?(mm(),Er=s,Ar=r,Er.attachEvent("onpropertychange",pm)):e==="focusout"&&mm()}function oS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(Ar)}function cS(e,s){if(e==="click")return ll(s)}function uS(e,s){if(e==="input"||e==="change")return ll(s)}function dS(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Lt=typeof Object.is=="function"?Object.is:dS;function Cr(e,s){if(Lt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),l=Object.keys(s);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!rc.call(s,h)||!Lt(e[h],s[h]))return!1}return!0}function gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ym(e,s){var r=gm(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=s&&l>=s)return{node:r,offset:s-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gm(r)}}function xm(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?xm(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function vm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=el(e.document);s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=el(e.document)}return s}function Cc(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var hS=Cn&&"documentMode"in document&&11>=document.documentMode,ga=null,Rc=null,Rr=null,kc=!1;function bm(e,s,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kc||ga==null||ga!==el(l)||(l=ga,"selectionStart"in l&&Cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rr&&Cr(Rr,l)||(Rr=l,l=Xl(Rc,"onSelect"),0<l.length&&(s=new rl("onSelect","select",null,s,r),e.push({event:s,listeners:l}),s.target=ga)))}function ks(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var ya={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Oc={},wm={};Cn&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Os(e){if(Oc[e])return Oc[e];if(!ya[e])return e;var s=ya[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in wm)return Oc[e]=s[r];return e}var Sm=Os("animationend"),_m=Os("animationiteration"),jm=Os("animationstart"),fS=Os("transitionrun"),mS=Os("transitionstart"),pS=Os("transitioncancel"),Tm=Os("transitionend"),Nm=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function sn(e,s){Nm.set(e,s),Cs(s,[e])}var ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],xa=0,Mc=0;function cl(){for(var e=xa,s=Mc=xa=0;s<e;){var r=Yt[s];Yt[s++]=null;var l=Yt[s];Yt[s++]=null;var h=Yt[s];Yt[s++]=null;var m=Yt[s];if(Yt[s++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}m!==0&&Em(r,h,m)}}function ul(e,s,r,l){Yt[xa++]=e,Yt[xa++]=s,Yt[xa++]=r,Yt[xa++]=l,Mc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lc(e,s,r,l){return ul(e,s,r,l),dl(e)}function Ds(e,s){return ul(e,null,null,s),dl(e)}function Em(e,s,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,m=e.return;m!==null;)m.childLanes|=r,l=m.alternate,l!==null&&(l.childLanes|=r),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&s!==null&&(h=31-Mt(r),e=m.hiddenUpdates,l=e[h],l===null?e[h]=[s]:l.push(s),s.lane=r|536870912),m):null}function dl(e){if(50<Qr)throw Qr=0,Gu=null,Error(i(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var va={};function gS(e,s,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,s,r,l){return new gS(e,s,r,l)}function Uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,s){var r=e.alternate;return r===null?(r=Ut(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Am(e,s){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,s=r.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function hl(e,s,r,l,h,m){var b=0;if(l=e,typeof e=="function")Uc(e)&&(b=1);else if(typeof e=="string")b=w_(e,r,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Ut(31,r,s,h),e.elementType=W,e.lanes=m,e;case T:return Ms(r.children,h,m,s);case j:b=8,h|=24;break;case C:return e=Ut(12,r,s,h|2),e.elementType=C,e.lanes=m,e;case B:return e=Ut(13,r,s,h),e.elementType=B,e.lanes=m,e;case $:return e=Ut(19,r,s,h),e.elementType=$,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:b=10;break e;case A:b=9;break e;case M:b=11;break e;case Y:b=14;break e;case F:b=16,l=null;break e}b=29,r=Error(i(130,e===null?"null":typeof e,"")),l=null}return s=Ut(b,r,s,h),s.elementType=e,s.type=l,s.lanes=m,s}function Ms(e,s,r,l){return e=Ut(7,e,l,s),e.lanes=r,e}function zc(e,s,r){return e=Ut(6,e,null,s),e.lanes=r,e}function Cm(e){var s=Ut(18,null,null,0);return s.stateNode=e,s}function Bc(e,s,r){return s=Ut(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Rm=new WeakMap;function Ft(e,s){if(typeof e=="object"&&e!==null){var r=Rm.get(e);return r!==void 0?r:(s={value:e,source:s,stack:Cf(s)},Rm.set(e,s),s)}return{value:e,source:s,stack:Cf(s)}}var ba=[],wa=0,fl=null,kr=0,Xt=[],Wt=0,Zn=null,xn=1,vn="";function kn(e,s){ba[wa++]=kr,ba[wa++]=fl,fl=e,kr=s}function km(e,s,r){Xt[Wt++]=xn,Xt[Wt++]=vn,Xt[Wt++]=Zn,Zn=e;var l=xn;e=vn;var h=32-Mt(l)-1;l&=~(1<<h),r+=1;var m=32-Mt(s)+h;if(30<m){var b=h-h%5;m=(l&(1<<b)-1).toString(32),l>>=b,h-=b,xn=1<<32-Mt(s)+h|r<<h|l,vn=m+e}else xn=1<<m|r<<h|l,vn=e}function Pc(e){e.return!==null&&(kn(e,1),km(e,1,0))}function Vc(e){for(;e===fl;)fl=ba[--wa],ba[wa]=null,kr=ba[--wa],ba[wa]=null;for(;e===Zn;)Zn=Xt[--Wt],Xt[Wt]=null,vn=Xt[--Wt],Xt[Wt]=null,xn=Xt[--Wt],Xt[Wt]=null}function Om(e,s){Xt[Wt++]=xn,Xt[Wt++]=vn,Xt[Wt++]=Zn,xn=s.id,vn=s.overflow,Zn=e}var ut=null,ze=null,we=!1,es=null,Jt=!1,Hc=Error(i(519));function ts(e){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Or(Ft(s,e)),Hc}function Dm(e){var s=e.stateNode,r=e.type,l=e.memoizedProps;switch(s[ct]=e,s[Tt]=l,r){case"dialog":ye("cancel",s),ye("close",s);break;case"iframe":case"object":case"embed":ye("load",s);break;case"video":case"audio":for(r=0;r<ei.length;r++)ye(ei[r],s);break;case"source":ye("error",s);break;case"img":case"image":case"link":ye("error",s),ye("load",s);break;case"details":ye("toggle",s);break;case"input":ye("invalid",s),Kf(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ye("invalid",s);break;case"textarea":ye("invalid",s),Ff(s,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||l.suppressHydrationWarning===!0||Wg(s.textContent,r)?(l.popover!=null&&(ye("beforetoggle",s),ye("toggle",s)),l.onScroll!=null&&ye("scroll",s),l.onScrollEnd!=null&&ye("scrollend",s),l.onClick!=null&&(s.onclick=An),s=!0):s=!1,s||ts(e,!0)}function Mm(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ut=ut.return}}function Sa(e){if(e!==ut)return!1;if(!we)return Mm(e),we=!0,!1;var s=e.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||rd(e.type,e.memoizedProps)),r=!r),r&&ze&&ts(e),Mm(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ze=ry(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ze=ry(e)}else s===27?(s=ze,ps(e.type)?(e=ud,ud=null,ze=e):ze=s):ze=ut?Zt(e.stateNode.nextSibling):null;return!0}function Ls(){ze=ut=null,we=!1}function qc(){var e=es;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),es=null),e}function Or(e){es===null?es=[e]:es.push(e)}var $c=O(null),Us=null,On=null;function ns(e,s,r){X($c,s._currentValue),s._currentValue=r}function Dn(e){e._currentValue=$c.current,I($c)}function Gc(e,s,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===r)break;e=e.return}}function Ic(e,s,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=h;for(var R=0;R<s.length;R++)if(_.context===s[R]){m.lanes|=r,_=m.alternate,_!==null&&(_.lanes|=r),Gc(m.return,r,e),l||(b=null);break e}m=_.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),Gc(b,r,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function _a(e,s,r,l){e=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var _=h.type;Lt(h.pendingProps.value,b.value)||(e!==null?e.push(_):e=[_])}}else if(h===Ee.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ri):e=[ri])}h=h.return}e!==null&&Ic(s,e,r,l),s.flags|=262144}function ml(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zs(e){Us=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return Lm(Us,e)}function pl(e,s){return Us===null&&zs(e),Lm(e,s)}function Lm(e,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},On===null){if(e===null)throw Error(i(308));On=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else On=On.next=s;return r}var yS=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(r){return r()})}},xS=n.unstable_scheduleCallback,vS=n.unstable_NormalPriority,We={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new yS,data:new Map,refCount:0}}function Dr(e){e.refCount--,e.refCount===0&&xS(vS,function(){e.controller.abort()})}var Mr=null,Yc=0,ja=0,Ta=null;function bS(e,s){if(Mr===null){var r=Mr=[];Yc=0,ja=Wu(),Ta={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Yc++,s.then(Um,Um),s}function Um(){if(--Yc===0&&Mr!==null){Ta!==null&&(Ta.status="fulfilled");var e=Mr;Mr=null,ja=0,Ta=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function wS(e,s){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var h=0;h<r.length;h++)(0,r[h])(s)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var zm=H.S;H.S=function(e,s){bg=Ot(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&bS(e,s),zm!==null&&zm(e,s)};var Bs=O(null);function Fc(){var e=Bs.current;return e!==null?e:De.pooledCache}function gl(e,s){s===null?X(Bs,Bs.current):X(Bs,s.pool)}function Bm(){var e=Fc();return e===null?null:{parent:We._currentValue,pool:e}}var Na=Error(i(460)),Xc=Error(i(474)),yl=Error(i(542)),xl={then:function(){}};function Pm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vm(e,s,r){switch(r=e[r],r===void 0?e.push(s):r!==s&&(s.then(An,An),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,qm(e),e;default:if(typeof s.status=="string")s.then(An,An);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=l}},function(l){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,qm(e),e}throw Vs=s,Na}}function Ps(e){try{var s=e._init;return s(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vs=r,Na):r}}var Vs=null;function Hm(){if(Vs===null)throw Error(i(459));var e=Vs;return Vs=null,e}function qm(e){if(e===Na||e===yl)throw Error(i(483))}var Ea=null,Lr=0;function vl(e){var s=Lr;return Lr+=1,Ea===null&&(Ea=[]),Vm(Ea,e,s)}function Ur(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function bl(e,s){throw s.$$typeof===v?Error(i(525)):(e=Object.prototype.toString.call(s),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function $m(e){function s(D,k){if(e){var L=D.deletions;L===null?(D.deletions=[k],D.flags|=16):L.push(k)}}function r(D,k){if(!e)return null;for(;k!==null;)s(D,k),k=k.sibling;return null}function l(D){for(var k=new Map;D!==null;)D.key!==null?k.set(D.key,D):k.set(D.index,D),D=D.sibling;return k}function h(D,k){return D=Rn(D,k),D.index=0,D.sibling=null,D}function m(D,k,L){return D.index=L,e?(L=D.alternate,L!==null?(L=L.index,L<k?(D.flags|=67108866,k):L):(D.flags|=67108866,k)):(D.flags|=1048576,k)}function b(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function _(D,k,L,q){return k===null||k.tag!==6?(k=zc(L,D.mode,q),k.return=D,k):(k=h(k,L),k.return=D,k)}function R(D,k,L,q){var ae=L.type;return ae===T?V(D,k,L.props.children,q,L.key):k!==null&&(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===F&&Ps(ae)===k.type)?(k=h(k,L.props),Ur(k,L),k.return=D,k):(k=hl(L.type,L.key,L.props,null,D.mode,q),Ur(k,L),k.return=D,k)}function U(D,k,L,q){return k===null||k.tag!==4||k.stateNode.containerInfo!==L.containerInfo||k.stateNode.implementation!==L.implementation?(k=Bc(L,D.mode,q),k.return=D,k):(k=h(k,L.children||[]),k.return=D,k)}function V(D,k,L,q,ae){return k===null||k.tag!==7?(k=Ms(L,D.mode,q,ae),k.return=D,k):(k=h(k,L),k.return=D,k)}function G(D,k,L){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=zc(""+k,D.mode,L),k.return=D,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return L=hl(k.type,k.key,k.props,null,D.mode,L),Ur(L,k),L.return=D,L;case S:return k=Bc(k,D.mode,L),k.return=D,k;case F:return k=Ps(k),G(D,k,L)}if(yt(k)||ie(k))return k=Ms(k,D.mode,L,null),k.return=D,k;if(typeof k.then=="function")return G(D,vl(k),L);if(k.$$typeof===E)return G(D,pl(D,k),L);bl(D,k)}return null}function z(D,k,L,q){var ae=k!==null?k.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ae!==null?null:_(D,k,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return L.key===ae?R(D,k,L,q):null;case S:return L.key===ae?U(D,k,L,q):null;case F:return L=Ps(L),z(D,k,L,q)}if(yt(L)||ie(L))return ae!==null?null:V(D,k,L,q,null);if(typeof L.then=="function")return z(D,k,vl(L),q);if(L.$$typeof===E)return z(D,k,pl(D,L),q);bl(D,L)}return null}function P(D,k,L,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return D=D.get(L)||null,_(k,D,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return D=D.get(q.key===null?L:q.key)||null,R(k,D,q,ae);case S:return D=D.get(q.key===null?L:q.key)||null,U(k,D,q,ae);case F:return q=Ps(q),P(D,k,L,q,ae)}if(yt(q)||ie(q))return D=D.get(L)||null,V(k,D,q,ae,null);if(typeof q.then=="function")return P(D,k,L,vl(q),ae);if(q.$$typeof===E)return P(D,k,L,pl(k,q),ae);bl(k,q)}return null}function J(D,k,L,q){for(var ae=null,_e=null,te=k,fe=k=0,be=null;te!==null&&fe<L.length;fe++){te.index>fe?(be=te,te=null):be=te.sibling;var je=z(D,te,L[fe],q);if(je===null){te===null&&(te=be);break}e&&te&&je.alternate===null&&s(D,te),k=m(je,k,fe),_e===null?ae=je:_e.sibling=je,_e=je,te=be}if(fe===L.length)return r(D,te),we&&kn(D,fe),ae;if(te===null){for(;fe<L.length;fe++)te=G(D,L[fe],q),te!==null&&(k=m(te,k,fe),_e===null?ae=te:_e.sibling=te,_e=te);return we&&kn(D,fe),ae}for(te=l(te);fe<L.length;fe++)be=P(te,D,fe,L[fe],q),be!==null&&(e&&be.alternate!==null&&te.delete(be.key===null?fe:be.key),k=m(be,k,fe),_e===null?ae=be:_e.sibling=be,_e=be);return e&&te.forEach(function(bs){return s(D,bs)}),we&&kn(D,fe),ae}function le(D,k,L,q){if(L==null)throw Error(i(151));for(var ae=null,_e=null,te=k,fe=k=0,be=null,je=L.next();te!==null&&!je.done;fe++,je=L.next()){te.index>fe?(be=te,te=null):be=te.sibling;var bs=z(D,te,je.value,q);if(bs===null){te===null&&(te=be);break}e&&te&&bs.alternate===null&&s(D,te),k=m(bs,k,fe),_e===null?ae=bs:_e.sibling=bs,_e=bs,te=be}if(je.done)return r(D,te),we&&kn(D,fe),ae;if(te===null){for(;!je.done;fe++,je=L.next())je=G(D,je.value,q),je!==null&&(k=m(je,k,fe),_e===null?ae=je:_e.sibling=je,_e=je);return we&&kn(D,fe),ae}for(te=l(te);!je.done;fe++,je=L.next())je=P(te,D,fe,je.value,q),je!==null&&(e&&je.alternate!==null&&te.delete(je.key===null?fe:je.key),k=m(je,k,fe),_e===null?ae=je:_e.sibling=je,_e=je);return e&&te.forEach(function(O_){return s(D,O_)}),we&&kn(D,fe),ae}function Oe(D,k,L,q){if(typeof L=="object"&&L!==null&&L.type===T&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case w:e:{for(var ae=L.key;k!==null;){if(k.key===ae){if(ae=L.type,ae===T){if(k.tag===7){r(D,k.sibling),q=h(k,L.props.children),q.return=D,D=q;break e}}else if(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===F&&Ps(ae)===k.type){r(D,k.sibling),q=h(k,L.props),Ur(q,L),q.return=D,D=q;break e}r(D,k);break}else s(D,k);k=k.sibling}L.type===T?(q=Ms(L.props.children,D.mode,q,L.key),q.return=D,D=q):(q=hl(L.type,L.key,L.props,null,D.mode,q),Ur(q,L),q.return=D,D=q)}return b(D);case S:e:{for(ae=L.key;k!==null;){if(k.key===ae)if(k.tag===4&&k.stateNode.containerInfo===L.containerInfo&&k.stateNode.implementation===L.implementation){r(D,k.sibling),q=h(k,L.children||[]),q.return=D,D=q;break e}else{r(D,k);break}else s(D,k);k=k.sibling}q=Bc(L,D.mode,q),q.return=D,D=q}return b(D);case F:return L=Ps(L),Oe(D,k,L,q)}if(yt(L))return J(D,k,L,q);if(ie(L)){if(ae=ie(L),typeof ae!="function")throw Error(i(150));return L=ae.call(L),le(D,k,L,q)}if(typeof L.then=="function")return Oe(D,k,vl(L),q);if(L.$$typeof===E)return Oe(D,k,pl(D,L),q);bl(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,k!==null&&k.tag===6?(r(D,k.sibling),q=h(k,L),q.return=D,D=q):(r(D,k),q=zc(L,D.mode,q),q.return=D,D=q),b(D)):r(D,k)}return function(D,k,L,q){try{Lr=0;var ae=Oe(D,k,L,q);return Ea=null,ae}catch(te){if(te===Na||te===yl)throw te;var _e=Ut(29,te,null,D.mode);return _e.lanes=q,_e.return=D,_e}}}var Hs=$m(!0),Gm=$m(!1),ss=!1;function Wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rs(e,s,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Te&2)!==0){var h=l.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),l.pending=s,s=dl(e),Em(e,null,r),s}return ul(e,l,s,r),dl(e)}function zr(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,r|=l,s.lanes=r,Lf(e,r)}}function Qc(e,s){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?h=m=s:m=m.next=s}else h=m=s;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}var Zc=!1;function Br(){if(Zc){var e=Ta;if(e!==null)throw e}}function Pr(e,s,r,l){Zc=!1;var h=e.updateQueue;ss=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var R=_,U=R.next;R.next=null,b===null?m=U:b.next=U,b=R;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==b&&(_===null?V.firstBaseUpdate=U:_.next=U,V.lastBaseUpdate=R))}if(m!==null){var G=h.baseState;b=0,V=U=R=null,_=m;do{var z=_.lane&-536870913,P=z!==_.lane;if(P?(ve&z)===z:(l&z)===z){z!==0&&z===ja&&(Zc=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var J=e,le=_;z=s;var Oe=r;switch(le.tag){case 1:if(J=le.payload,typeof J=="function"){G=J.call(Oe,G,z);break e}G=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=le.payload,z=typeof J=="function"?J.call(Oe,G,z):J,z==null)break e;G=y({},G,z);break e;case 2:ss=!0}}z=_.callback,z!==null&&(e.flags|=64,P&&(e.flags|=8192),P=h.callbacks,P===null?h.callbacks=[z]:P.push(z))}else P={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(U=V=P,R=G):V=V.next=P,b|=z;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;P=_,_=P.next,P.next=null,h.lastBaseUpdate=P,h.shared.pending=null}}while(!0);V===null&&(R=G),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=V,m===null&&(h.shared.lanes=0),us|=b,e.lanes=b,e.memoizedState=G}}function Im(e,s){if(typeof e!="function")throw Error(i(191,e));e.call(s)}function Km(e,s){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Im(r[e],s)}var Aa=O(null),wl=O(0);function Ym(e,s){e=qn,X(wl,e),X(Aa,s),qn=e|s.baseLanes}function eu(){X(wl,qn),X(Aa,Aa.current)}function tu(){qn=wl.current,I(Aa),I(wl)}var zt=O(null),Qt=null;function is(e){var s=e.alternate;X(Fe,Fe.current&1),X(zt,e),Qt===null&&(s===null||Aa.current!==null||s.memoizedState!==null)&&(Qt=e)}function nu(e){X(Fe,Fe.current),X(zt,e),Qt===null&&(Qt=e)}function Fm(e){e.tag===22?(X(Fe,Fe.current),X(zt,e),Qt===null&&(Qt=e)):ls()}function ls(){X(Fe,Fe.current),X(zt,zt.current)}function Bt(e){I(zt),Qt===e&&(Qt=null),I(Fe)}var Fe=O(0);function Sl(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||od(r)||cd(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mn=0,he=null,Re=null,Je=null,_l=!1,Ca=!1,qs=!1,jl=0,Vr=0,Ra=null,SS=0;function $e(){throw Error(i(321))}function su(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!Lt(e[r],s[r]))return!1;return!0}function au(e,s,r,l,h,m){return Mn=m,he=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=e===null||e.memoizedState===null?kp:vu,qs=!1,m=r(l,h),qs=!1,Ca&&(m=Wm(s,r,l,h)),Xm(e),m}function Xm(e){H.H=$r;var s=Re!==null&&Re.next!==null;if(Mn=0,Je=Re=he=null,_l=!1,Vr=0,Ra=null,s)throw Error(i(300));e===null||Qe||(e=e.dependencies,e!==null&&ml(e)&&(Qe=!0))}function Wm(e,s,r,l){he=e;var h=0;do{if(Ca&&(Ra=null),Vr=0,Ca=!1,25<=h)throw Error(i(301));if(h+=1,Je=Re=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=Op,m=s(r,l)}while(Ca);return m}function _S(){var e=H.H,s=e.useState()[0];return s=typeof s.then=="function"?Hr(s):s,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(he.flags|=1024),s}function ru(){var e=jl!==0;return jl=0,e}function iu(e,s,r){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~r}function lu(e){if(_l){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}_l=!1}Mn=0,Je=Re=he=null,Ca=!1,Vr=jl=0,Ra=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?he.memoizedState=Je=e:Je=Je.next=e,Je}function Xe(){if(Re===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var s=Je===null?he.memoizedState:Je.next;if(s!==null)Je=s,Re=e;else{if(e===null)throw he.alternate===null?Error(i(467)):Error(i(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Je===null?he.memoizedState=Je=e:Je=Je.next=e}return Je}function Tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hr(e){var s=Vr;return Vr+=1,Ra===null&&(Ra=[]),e=Vm(Ra,e,s),s=he,(Je===null?s.memoizedState:Je.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?kp:vu),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hr(e);if(e.$$typeof===E)return dt(e)}throw Error(i(438,String(e)))}function ou(e){var s=null,r=he.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Tl(),he.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(e),l=0;l<e;l++)r[l]=me;return s.index++,r}function Ln(e,s){return typeof s=="function"?s(e):s}function El(e){var s=Xe();return cu(s,Re,e)}function cu(e,s,r){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var h=e.baseQueue,m=l.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}s.baseQueue=h=m,l.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{s=h.next;var _=b=null,R=null,U=s,V=!1;do{var G=U.lane&-536870913;if(G!==U.lane?(ve&G)===G:(Mn&G)===G){var z=U.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),G===ja&&(V=!0);else if((Mn&z)===z){U=U.next,z===ja&&(V=!0);continue}else G={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(_=R=G,b=m):R=R.next=G,he.lanes|=z,us|=z;G=U.action,qs&&r(m,G),m=U.hasEagerState?U.eagerState:r(m,G)}else z={lane:G,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(_=R=z,b=m):R=R.next=z,he.lanes|=G,us|=G;U=U.next}while(U!==null&&U!==s);if(R===null?b=m:R.next=_,!Lt(m,e.memoizedState)&&(Qe=!0,V&&(r=Ta,r!==null)))throw r;e.memoizedState=m,e.baseState=b,e.baseQueue=R,l.lastRenderedState=m}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function uu(e){var s=Xe(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,m=s.memoizedState;if(h!==null){r.pending=null;var b=h=h.next;do m=e(m,b.action),b=b.next;while(b!==h);Lt(m,s.memoizedState)||(Qe=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),r.lastRenderedState=m}return[m,l]}function Jm(e,s,r){var l=he,h=Xe(),m=we;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=s();var b=!Lt((Re||h).memoizedState,r);if(b&&(h.memoizedState=r,Qe=!0),h=h.queue,fu(ep.bind(null,l,h,e),[e]),h.getSnapshot!==s||b||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Zm.bind(null,l,h,r,s),null),De===null)throw Error(i(349));m||(Mn&127)!==0||Qm(l,s,r)}return r}function Qm(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=he.updateQueue,s===null?(s=Tl(),he.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function Zm(e,s,r,l){s.value=r,s.getSnapshot=l,tp(s)&&np(e)}function ep(e,s,r){return r(function(){tp(s)&&np(e)})}function tp(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!Lt(e,r)}catch{return!0}}function np(e){var s=Ds(e,2);s!==null&&kt(s,e,2)}function du(e){var s=wt();if(typeof e=="function"){var r=e;if(e=r(),qs){Wn(!0);try{r()}finally{Wn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},s}function sp(e,s,r,l){return e.baseState=r,cu(e,Re,typeof l=="function"?l:Ln)}function jS(e,s,r,l,h){if(Rl(e))throw Error(i(485));if(e=s.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};H.T!==null?r(!0):m.isTransition=!1,l(m),r=s.pending,r===null?(m.next=s.pending=m,ap(s,m)):(m.next=r.next,s.pending=r.next=m)}}function ap(e,s){var r=s.action,l=s.payload,h=e.state;if(s.isTransition){var m=H.T,b={};H.T=b;try{var _=r(h,l),R=H.S;R!==null&&R(b,_),rp(e,s,_)}catch(U){hu(e,s,U)}finally{m!==null&&b.types!==null&&(m.types=b.types),H.T=m}}else try{m=r(h,l),rp(e,s,m)}catch(U){hu(e,s,U)}}function rp(e,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ip(e,s,l)},function(l){return hu(e,s,l)}):ip(e,s,r)}function ip(e,s,r){s.status="fulfilled",s.value=r,lp(s),e.state=r,s=e.pending,s!==null&&(r=s.next,r===s?e.pending=null:(r=r.next,s.next=r,ap(e,r)))}function hu(e,s,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=r,lp(s),s=s.next;while(s!==l)}e.action=null}function lp(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function op(e,s){return s}function cp(e,s){if(we){var r=De.formState;if(r!==null){e:{var l=he;if(we){if(ze){t:{for(var h=ze,m=Jt;h.nodeType!==8;){if(!m){h=null;break t}if(h=Zt(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ze=Zt(h.nextSibling),l=h.data==="F!";break e}}ts(l)}l=!1}l&&(s=r[0])}}return r=wt(),r.memoizedState=r.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:s},r.queue=l,r=Ap.bind(null,he,l),l.dispatch=r,l=du(!1),m=xu.bind(null,he,!1,l.queue),l=wt(),h={state:s,dispatch:null,action:e,pending:null},l.queue=h,r=jS.bind(null,he,h,m,r),h.dispatch=r,l.memoizedState=e,[s,r,!1]}function up(e){var s=Xe();return dp(s,Re,e)}function dp(e,s,r){if(s=cu(e,s,op)[0],e=El(Ln)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Hr(s)}catch(b){throw b===Na?yl:b}else l=s;s=Xe();var h=s.queue,m=h.dispatch;return r!==s.memoizedState&&(he.flags|=2048,ka(9,{destroy:void 0},TS.bind(null,h,r),null)),[l,m,e]}function TS(e,s){e.action=s}function hp(e){var s=Xe(),r=Re;if(r!==null)return dp(s,r,e);Xe(),s=s.memoizedState,r=Xe();var l=r.queue.dispatch;return r.memoizedState=e,[s,l,!1]}function ka(e,s,r,l){return e={tag:e,create:r,deps:l,inst:s,next:null},s=he.updateQueue,s===null&&(s=Tl(),he.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,s.lastEffect=e),e}function fp(){return Xe().memoizedState}function Al(e,s,r,l){var h=wt();he.flags|=e,h.memoizedState=ka(1|s,{destroy:void 0},r,l===void 0?null:l)}function Cl(e,s,r,l){var h=Xe();l=l===void 0?null:l;var m=h.memoizedState.inst;Re!==null&&l!==null&&su(l,Re.memoizedState.deps)?h.memoizedState=ka(s,m,r,l):(he.flags|=e,h.memoizedState=ka(1|s,m,r,l))}function mp(e,s){Al(8390656,8,e,s)}function fu(e,s){Cl(2048,8,e,s)}function NS(e){he.flags|=4;var s=he.updateQueue;if(s===null)s=Tl(),he.updateQueue=s,s.events=[e];else{var r=s.events;r===null?s.events=[e]:r.push(e)}}function pp(e){var s=Xe().memoizedState;return NS({ref:s,nextImpl:e}),function(){if((Te&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function gp(e,s){return Cl(4,2,e,s)}function yp(e,s){return Cl(4,4,e,s)}function xp(e,s){if(typeof s=="function"){e=e();var r=s(e);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function vp(e,s,r){r=r!=null?r.concat([e]):null,Cl(4,4,xp.bind(null,s,e),r)}function mu(){}function bp(e,s){var r=Xe();s=s===void 0?null:s;var l=r.memoizedState;return s!==null&&su(s,l[1])?l[0]:(r.memoizedState=[e,s],e)}function wp(e,s){var r=Xe();s=s===void 0?null:s;var l=r.memoizedState;if(s!==null&&su(s,l[1]))return l[0];if(l=e(),qs){Wn(!0);try{e()}finally{Wn(!1)}}return r.memoizedState=[l,s],l}function pu(e,s,r){return r===void 0||(Mn&1073741824)!==0&&(ve&261930)===0?e.memoizedState=s:(e.memoizedState=r,e=Sg(),he.lanes|=e,us|=e,r)}function Sp(e,s,r,l){return Lt(r,s)?r:Aa.current!==null?(e=pu(e,r,l),Lt(e,s)||(Qe=!0),e):(Mn&42)===0||(Mn&1073741824)!==0&&(ve&261930)===0?(Qe=!0,e.memoizedState=r):(e=Sg(),he.lanes|=e,us|=e,s)}function _p(e,s,r,l,h){var m=K.p;K.p=m!==0&&8>m?m:8;var b=H.T,_={};H.T=_,xu(e,!1,s,r);try{var R=h(),U=H.S;if(U!==null&&U(_,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var V=wS(R,l);qr(e,s,V,Ht(e))}else qr(e,s,l,Ht(e))}catch(G){qr(e,s,{then:function(){},status:"rejected",reason:G},Ht())}finally{K.p=m,b!==null&&_.types!==null&&(b.types=_.types),H.T=b}}function ES(){}function gu(e,s,r,l){if(e.tag!==5)throw Error(i(476));var h=jp(e).queue;_p(e,h,s,ee,r===null?ES:function(){return Tp(e),r(l)})}function jp(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:ee},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:r},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Tp(e){var s=jp(e);s.next===null&&(s=e.alternate.memoizedState),qr(e,s.next.queue,{},Ht())}function yu(){return dt(ri)}function Np(){return Xe().memoizedState}function Ep(){return Xe().memoizedState}function AS(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var r=Ht();e=as(r);var l=rs(s,e,r);l!==null&&(kt(l,s,r),zr(l,s,r)),s={cache:Kc()},e.payload=s;return}s=s.return}}function CS(e,s,r){var l=Ht();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Rl(e)?Cp(s,r):(r=Lc(e,s,r,l),r!==null&&(kt(r,e,l),Rp(r,s,l)))}function Ap(e,s,r){var l=Ht();qr(e,s,r,l)}function qr(e,s,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rl(e))Cp(s,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,_=m(b,r);if(h.hasEagerState=!0,h.eagerState=_,Lt(_,b))return ul(e,s,h,0),De===null&&cl(),!1}catch{}if(r=Lc(e,s,h,l),r!==null)return kt(r,e,l),Rp(r,s,l),!0}return!1}function xu(e,s,r,l){if(l={lane:2,revertLane:Wu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rl(e)){if(s)throw Error(i(479))}else s=Lc(e,r,l,2),s!==null&&kt(s,e,2)}function Rl(e){var s=e.alternate;return e===he||s!==null&&s===he}function Cp(e,s){Ca=_l=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function Rp(e,s,r){if((r&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,r|=l,s.lanes=r,Lf(e,r)}}var $r={readContext:dt,use:Nl,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};$r.useEffectEvent=$e;var kp={readContext:dt,use:Nl,useCallback:function(e,s){return wt().memoizedState=[e,s===void 0?null:s],e},useContext:dt,useEffect:mp,useImperativeHandle:function(e,s,r){r=r!=null?r.concat([e]):null,Al(4194308,4,xp.bind(null,s,e),r)},useLayoutEffect:function(e,s){return Al(4194308,4,e,s)},useInsertionEffect:function(e,s){Al(4,2,e,s)},useMemo:function(e,s){var r=wt();s=s===void 0?null:s;var l=e();if(qs){Wn(!0);try{e()}finally{Wn(!1)}}return r.memoizedState=[l,s],l},useReducer:function(e,s,r){var l=wt();if(r!==void 0){var h=r(s);if(qs){Wn(!0);try{r(s)}finally{Wn(!1)}}}else h=s;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=CS.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var s=wt();return e={current:e},s.memoizedState=e},useState:function(e){e=du(e);var s=e.queue,r=Ap.bind(null,he,s);return s.dispatch=r,[e.memoizedState,r]},useDebugValue:mu,useDeferredValue:function(e,s){var r=wt();return pu(r,e,s)},useTransition:function(){var e=du(!1);return e=_p.bind(null,he,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,r){var l=he,h=wt();if(we){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),De===null)throw Error(i(349));(ve&127)!==0||Qm(l,s,r)}h.memoizedState=r;var m={value:r,getSnapshot:s};return h.queue=m,mp(ep.bind(null,l,m,e),[e]),l.flags|=2048,ka(9,{destroy:void 0},Zm.bind(null,l,m,r,s),null),r},useId:function(){var e=wt(),s=De.identifierPrefix;if(we){var r=vn,l=xn;r=(l&~(1<<32-Mt(l)-1)).toString(32)+r,s="_"+s+"R_"+r,r=jl++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=SS++,s="_"+s+"r_"+r.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:yu,useFormState:cp,useActionState:cp,useOptimistic:function(e){var s=wt();s.memoizedState=s.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=xu.bind(null,he,!0,r),r.dispatch=s,[e,s]},useMemoCache:ou,useCacheRefresh:function(){return wt().memoizedState=AS.bind(null,he)},useEffectEvent:function(e){var s=wt(),r={impl:e};return s.memoizedState=r,function(){if((Te&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}},vu={readContext:dt,use:Nl,useCallback:bp,useContext:dt,useEffect:fu,useImperativeHandle:vp,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:wp,useReducer:El,useRef:fp,useState:function(){return El(Ln)},useDebugValue:mu,useDeferredValue:function(e,s){var r=Xe();return Sp(r,Re.memoizedState,e,s)},useTransition:function(){var e=El(Ln)[0],s=Xe().memoizedState;return[typeof e=="boolean"?e:Hr(e),s]},useSyncExternalStore:Jm,useId:Np,useHostTransitionStatus:yu,useFormState:up,useActionState:up,useOptimistic:function(e,s){var r=Xe();return sp(r,Re,e,s)},useMemoCache:ou,useCacheRefresh:Ep};vu.useEffectEvent=pp;var Op={readContext:dt,use:Nl,useCallback:bp,useContext:dt,useEffect:fu,useImperativeHandle:vp,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:wp,useReducer:uu,useRef:fp,useState:function(){return uu(Ln)},useDebugValue:mu,useDeferredValue:function(e,s){var r=Xe();return Re===null?pu(r,e,s):Sp(r,Re.memoizedState,e,s)},useTransition:function(){var e=uu(Ln)[0],s=Xe().memoizedState;return[typeof e=="boolean"?e:Hr(e),s]},useSyncExternalStore:Jm,useId:Np,useHostTransitionStatus:yu,useFormState:hp,useActionState:hp,useOptimistic:function(e,s){var r=Xe();return Re!==null?sp(r,Re,e,s):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ou,useCacheRefresh:Ep};Op.useEffectEvent=pp;function bu(e,s,r,l){s=e.memoizedState,r=r(l,s),r=r==null?s:y({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wu={enqueueSetState:function(e,s,r){e=e._reactInternals;var l=Ht(),h=as(l);h.payload=s,r!=null&&(h.callback=r),s=rs(e,h,l),s!==null&&(kt(s,e,l),zr(s,e,l))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var l=Ht(),h=as(l);h.tag=1,h.payload=s,r!=null&&(h.callback=r),s=rs(e,h,l),s!==null&&(kt(s,e,l),zr(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=Ht(),l=as(r);l.tag=2,s!=null&&(l.callback=s),s=rs(e,l,r),s!==null&&(kt(s,e,r),zr(s,e,r))}};function Dp(e,s,r,l,h,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,b):s.prototype&&s.prototype.isPureReactComponent?!Cr(r,l)||!Cr(h,m):!0}function Mp(e,s,r,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,l),s.state!==e&&wu.enqueueReplaceState(s,s.state,null)}function $s(e,s){var r=s;if("ref"in s){r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}if(e=e.defaultProps){r===s&&(r=y({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Lp(e){ol(e)}function Up(e){console.error(e)}function zp(e){ol(e)}function kl(e,s){try{var r=e.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Bp(e,s,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Su(e,s,r){return r=as(r),r.tag=3,r.payload={element:null},r.callback=function(){kl(e,s)},r}function Pp(e){return e=as(e),e.tag=3,e}function Vp(e,s,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;e.payload=function(){return h(m)},e.callback=function(){Bp(s,r,l)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Bp(s,r,l),typeof h!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function RS(e,s,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=r.alternate,s!==null&&_a(s,r,h,!0),r=zt.current,r!==null){switch(r.tag){case 31:case 13:return Qt===null?$l():r.alternate===null&&Ge===0&&(Ge=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===xl?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([l]):s.add(l),Yu(e,l,h)),!1;case 22:return r.flags|=65536,l===xl?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([l]):r.add(l)),Yu(e,l,h)),!1}throw Error(i(435,r.tag))}return Yu(e,l,h),$l(),!1}if(we)return s=zt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,l!==Hc&&(e=Error(i(422),{cause:l}),Or(Ft(e,r)))):(l!==Hc&&(s=Error(i(423),{cause:l}),Or(Ft(s,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ft(l,r),h=Su(e.stateNode,l,h),Qc(e,h),Ge!==4&&(Ge=2)),!1;var m=Error(i(520),{cause:l});if(m=Ft(m,r),Jr===null?Jr=[m]:Jr.push(m),Ge!==4&&(Ge=2),s===null)return!0;l=Ft(l,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Su(r.stateNode,l,e),Qc(r,e),!1;case 1:if(s=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ds===null||!ds.has(m))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Pp(h),Vp(h,e,r,l),Qc(r,h),!1}r=r.return}while(r!==null);return!1}var _u=Error(i(461)),Qe=!1;function ht(e,s,r,l){s.child=e===null?Gm(s,null,r,l):Hs(s,e.child,r,l)}function Hp(e,s,r,l,h){r=r.render;var m=s.ref;if("ref"in l){var b={};for(var _ in l)_!=="ref"&&(b[_]=l[_])}else b=l;return zs(s),l=au(e,s,r,b,m,h),_=ru(),e!==null&&!Qe?(iu(e,s,h),Un(e,s,h)):(we&&_&&Pc(s),s.flags|=1,ht(e,s,l,h),s.child)}function qp(e,s,r,l,h){if(e===null){var m=r.type;return typeof m=="function"&&!Uc(m)&&m.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=m,$p(e,s,m,l,h)):(e=hl(r.type,null,l,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!ku(e,h)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:Cr,r(b,l)&&e.ref===s.ref)return Un(e,s,h)}return s.flags|=1,e=Rn(m,l),e.ref=s.ref,e.return=s,s.child=e}function $p(e,s,r,l,h){if(e!==null){var m=e.memoizedProps;if(Cr(m,l)&&e.ref===s.ref)if(Qe=!1,s.pendingProps=l=m,ku(e,h))(e.flags&131072)!==0&&(Qe=!0);else return s.lanes=e.lanes,Un(e,s,h)}return ju(e,s,r,l,h)}function Gp(e,s,r,l){var h=l.children,m=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,e!==null){for(l=s.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,s.child=null;return Ip(e,s,m,r,l)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&gl(s,m!==null?m.cachePool:null),m!==null?Ym(s,m):eu(),Fm(s);else return l=s.lanes=536870912,Ip(e,s,m!==null?m.baseLanes|r:r,r,l)}else m!==null?(gl(s,m.cachePool),Ym(s,m),ls(),s.memoizedState=null):(e!==null&&gl(s,null),eu(),ls());return ht(e,s,h,r),s.child}function Gr(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ip(e,s,r,l,h){var m=Fc();return m=m===null?null:{parent:We._currentValue,pool:m},s.memoizedState={baseLanes:r,cachePool:m},e!==null&&gl(s,null),eu(),Fm(s),e!==null&&_a(e,s,l,!0),s.childLanes=h,null}function Ol(e,s){return s=Ml({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Kp(e,s,r){return Hs(s,e.child,null,r),e=Ol(s,s.pendingProps),e.flags|=2,Bt(s),s.memoizedState=null,e}function kS(e,s,r){var l=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(we){if(l.mode==="hidden")return e=Ol(s,l),s.lanes=536870912,Gr(null,e);if(nu(s),(e=ze)?(e=ay(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:xn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},r=Cm(e),r.return=s,s.child=r,ut=s,ze=null)):e=null,e===null)throw ts(s);return s.lanes=536870912,null}return Ol(s,l)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(nu(s),h)if(s.flags&256)s.flags&=-257,s=Kp(e,s,r);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(i(558));else if(Qe||_a(e,s,r,!1),h=(r&e.childLanes)!==0,Qe||h){if(l=De,l!==null&&(b=Uf(l,r),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ds(e,b),kt(l,e,b),_u;$l(),s=Kp(e,s,r)}else e=m.treeContext,ze=Zt(b.nextSibling),ut=s,we=!0,es=null,Jt=!1,e!==null&&Om(s,e),s=Ol(s,l),s.flags|=4096;return s}return e=Rn(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Dl(e,s){var r=s.ref;if(r===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(s.flags|=4194816)}}function ju(e,s,r,l,h){return zs(s),r=au(e,s,r,l,void 0,h),l=ru(),e!==null&&!Qe?(iu(e,s,h),Un(e,s,h)):(we&&l&&Pc(s),s.flags|=1,ht(e,s,r,h),s.child)}function Yp(e,s,r,l,h,m){return zs(s),s.updateQueue=null,r=Wm(s,l,r,h),Xm(e),l=ru(),e!==null&&!Qe?(iu(e,s,m),Un(e,s,m)):(we&&l&&Pc(s),s.flags|=1,ht(e,s,r,m),s.child)}function Fp(e,s,r,l,h){if(zs(s),s.stateNode===null){var m=va,b=r.contextType;typeof b=="object"&&b!==null&&(m=dt(b)),m=new r(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wu,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Wc(s),b=r.contextType,m.context=typeof b=="object"&&b!==null?dt(b):va,m.state=s.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(bu(s,r,b,l),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&wu.enqueueReplaceState(m,m.state,null),Pr(s,l,m,h),Br(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){m=s.stateNode;var _=s.memoizedProps,R=$s(r,_);m.props=R;var U=m.context,V=r.contextType;b=va,typeof V=="object"&&V!==null&&(b=dt(V));var G=r.getDerivedStateFromProps;V=typeof G=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||U!==b)&&Mp(s,m,l,b),ss=!1;var z=s.memoizedState;m.state=z,Pr(s,l,m,h),Br(),U=s.memoizedState,_||z!==U||ss?(typeof G=="function"&&(bu(s,r,G,l),U=s.memoizedState),(R=ss||Dp(s,r,R,l,z,U,b))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=U),m.props=l,m.state=U,m.context=b,l=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,Jc(e,s),b=s.memoizedProps,V=$s(r,b),m.props=V,G=s.pendingProps,z=m.context,U=r.contextType,R=va,typeof U=="object"&&U!==null&&(R=dt(U)),_=r.getDerivedStateFromProps,(U=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==G||z!==R)&&Mp(s,m,l,R),ss=!1,z=s.memoizedState,m.state=z,Pr(s,l,m,h),Br();var P=s.memoizedState;b!==G||z!==P||ss||e!==null&&e.dependencies!==null&&ml(e.dependencies)?(typeof _=="function"&&(bu(s,r,_,l),P=s.memoizedState),(V=ss||Dp(s,r,V,l,z,P,R)||e!==null&&e.dependencies!==null&&ml(e.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,P,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,P,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&z===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&z===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=P),m.props=l,m.state=P,m.context=R,l=V):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&z===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&z===e.memoizedState||(s.flags|=1024),l=!1)}return m=l,Dl(e,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&l?(s.child=Hs(s,e.child,null,h),s.child=Hs(s,null,r,h)):ht(e,s,r,h),s.memoizedState=m.state,e=s.child):e=Un(e,s,h),e}function Xp(e,s,r,l){return Ls(),s.flags|=256,ht(e,s,r,l),s.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nu(e){return{baseLanes:e,cachePool:Bm()}}function Eu(e,s,r){return e=e!==null?e.childLanes&~r:0,s&&(e|=Vt),e}function Wp(e,s,r){var l=s.pendingProps,h=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,e===null){if(we){if(h?is(s):ls(),(e=ze)?(e=ay(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:xn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},r=Cm(e),r.return=s,s.child=r,ut=s,ze=null)):e=null,e===null)throw ts(s);return cd(e)?s.lanes=32:s.lanes=536870912,null}var _=l.children;return l=l.fallback,h?(ls(),h=s.mode,_=Ml({mode:"hidden",children:_},h),l=Ms(l,h,r,null),_.return=s,l.return=s,_.sibling=l,s.child=_,l=s.child,l.memoizedState=Nu(r),l.childLanes=Eu(e,b,r),s.memoizedState=Tu,Gr(null,l)):(is(s),Au(s,_))}var R=e.memoizedState;if(R!==null&&(_=R.dehydrated,_!==null)){if(m)s.flags&256?(is(s),s.flags&=-257,s=Cu(e,s,r)):s.memoizedState!==null?(ls(),s.child=e.child,s.flags|=128,s=null):(ls(),_=l.fallback,h=s.mode,l=Ml({mode:"visible",children:l.children},h),_=Ms(_,h,r,null),_.flags|=2,l.return=s,_.return=s,l.sibling=_,s.child=l,Hs(s,e.child,null,r),l=s.child,l.memoizedState=Nu(r),l.childLanes=Eu(e,b,r),s.memoizedState=Tu,s=Gr(null,l));else if(is(s),cd(_)){if(b=_.nextSibling&&_.nextSibling.dataset,b)var U=b.dgst;b=U,l=Error(i(419)),l.stack="",l.digest=b,Or({value:l,source:null,stack:null}),s=Cu(e,s,r)}else if(Qe||_a(e,s,r,!1),b=(r&e.childLanes)!==0,Qe||b){if(b=De,b!==null&&(l=Uf(b,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Ds(e,l),kt(b,e,l),_u;od(_)||$l(),s=Cu(e,s,r)}else od(_)?(s.flags|=192,s.child=e.child,s=null):(e=R.treeContext,ze=Zt(_.nextSibling),ut=s,we=!0,es=null,Jt=!1,e!==null&&Om(s,e),s=Au(s,l.children),s.flags|=4096);return s}return h?(ls(),_=l.fallback,h=s.mode,R=e.child,U=R.sibling,l=Rn(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,U!==null?_=Rn(U,_):(_=Ms(_,h,r,null),_.flags|=2),_.return=s,l.return=s,l.sibling=_,s.child=l,Gr(null,l),l=s.child,_=e.child.memoizedState,_===null?_=Nu(r):(h=_.cachePool,h!==null?(R=We._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Bm(),_={baseLanes:_.baseLanes|r,cachePool:h}),l.memoizedState=_,l.childLanes=Eu(e,b,r),s.memoizedState=Tu,Gr(e.child,l)):(is(s),r=e.child,e=r.sibling,r=Rn(r,{mode:"visible",children:l.children}),r.return=s,r.sibling=null,e!==null&&(b=s.deletions,b===null?(s.deletions=[e],s.flags|=16):b.push(e)),s.child=r,s.memoizedState=null,r)}function Au(e,s){return s=Ml({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ml(e,s){return e=Ut(22,e,null,s),e.lanes=0,e}function Cu(e,s,r){return Hs(s,e.child,null,r),e=Au(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Jp(e,s,r){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Gc(e.return,s,r)}function Ru(e,s,r,l,h,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=r,b.tailMode=h,b.treeForkCount=m)}function Qp(e,s,r){var l=s.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var b=Fe.current,_=(b&2)!==0;if(_?(b=b&1|2,s.flags|=128):b&=1,X(Fe,b),ht(e,s,l,r),l=we?kr:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,r,s);else if(e.tag===19)Jp(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=s.child,h=null;r!==null;)e=r.alternate,e!==null&&Sl(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=s.child,s.child=null):(h=r.sibling,r.sibling=null),Ru(s,!1,h,r,m,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Sl(e)===null){s.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Ru(s,!0,r,null,m,l);break;case"together":Ru(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Un(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),us|=s.lanes,(r&s.childLanes)===0)if(e!==null){if(_a(e,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(i(153));if(s.child!==null){for(e=s.child,r=Rn(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Rn(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function ku(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&ml(e)))}function OS(e,s,r){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),ns(s,We,e.memoizedState.cache),Ls();break;case 27:case 5:gr(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,nu(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(is(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Wp(e,s,r):(is(s),e=Un(e,s,r),e!==null?e.sibling:null);is(s);break;case 19:var h=(e.flags&128)!==0;if(l=(r&s.childLanes)!==0,l||(_a(e,s,r,!1),l=(r&s.childLanes)!==0),h){if(l)return Qp(e,s,r);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Fe,Fe.current),l)break;return null;case 22:return s.lanes=0,Gp(e,s,r,s.pendingProps);case 24:ns(s,We,e.memoizedState.cache)}return Un(e,s,r)}function Zp(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps)Qe=!0;else{if(!ku(e,r)&&(s.flags&128)===0)return Qe=!1,OS(e,s,r);Qe=(e.flags&131072)!==0}else Qe=!1,we&&(s.flags&1048576)!==0&&km(s,kr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(e=Ps(s.elementType),s.type=e,typeof e=="function")Uc(e)?(l=$s(e,l),s.tag=1,s=Fp(null,s,e,l,r)):(s.tag=0,s=ju(null,s,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===M){s.tag=11,s=Hp(null,s,e,l,r);break e}else if(h===Y){s.tag=14,s=qp(null,s,e,l,r);break e}}throw s=nt(e)||e,Error(i(306,s,""))}}return s;case 0:return ju(e,s,s.type,s.pendingProps,r);case 1:return l=s.type,h=$s(l,s.pendingProps),Fp(e,s,l,h,r);case 3:e:{if(bt(s,s.stateNode.containerInfo),e===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;h=m.element,Jc(e,s),Pr(s,l,null,r);var b=s.memoizedState;if(l=b.cache,ns(s,We,l),l!==m.cache&&Ic(s,[We],r,!0),Br(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Xp(e,s,l,r);break e}else if(l!==h){h=Ft(Error(i(424)),s),Or(h),s=Xp(e,s,l,r);break e}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ze=Zt(e.firstChild),ut=s,we=!0,es=null,Jt=!0,r=Gm(s,null,l,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ls(),l===h){s=Un(e,s,r);break e}ht(e,s,l,r)}s=s.child}return s;case 26:return Dl(e,s),e===null?(r=uy(s.type,null,s.pendingProps,null))?s.memoizedState=r:we||(r=s.type,e=s.pendingProps,l=Wl(pe.current).createElement(r),l[ct]=s,l[Tt]=e,ft(l,r,e),it(l),s.stateNode=l):s.memoizedState=uy(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return gr(s),e===null&&we&&(l=s.stateNode=ly(s.type,s.pendingProps,pe.current),ut=s,Jt=!0,h=ze,ps(s.type)?(ud=h,ze=Zt(l.firstChild)):ze=h),ht(e,s,s.pendingProps.children,r),Dl(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&we&&((h=l=ze)&&(l=o_(l,s.type,s.pendingProps,Jt),l!==null?(s.stateNode=l,ut=s,ze=Zt(l.firstChild),Jt=!1,h=!0):h=!1),h||ts(s)),gr(s),h=s.type,m=s.pendingProps,b=e!==null?e.memoizedProps:null,l=m.children,rd(h,m)?l=null:b!==null&&rd(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=au(e,s,_S,null,null,r),ri._currentValue=h),Dl(e,s),ht(e,s,l,r),s.child;case 6:return e===null&&we&&((e=r=ze)&&(r=c_(r,s.pendingProps,Jt),r!==null?(s.stateNode=r,ut=s,ze=null,e=!0):e=!1),e||ts(s)),null;case 13:return Wp(e,s,r);case 4:return bt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Hs(s,null,l,r):ht(e,s,l,r),s.child;case 11:return Hp(e,s,s.type,s.pendingProps,r);case 7:return ht(e,s,s.pendingProps,r),s.child;case 8:return ht(e,s,s.pendingProps.children,r),s.child;case 12:return ht(e,s,s.pendingProps.children,r),s.child;case 10:return l=s.pendingProps,ns(s,s.type,l.value),ht(e,s,l.children,r),s.child;case 9:return h=s.type._context,l=s.pendingProps.children,zs(s),h=dt(h),l=l(h),s.flags|=1,ht(e,s,l,r),s.child;case 14:return qp(e,s,s.type,s.pendingProps,r);case 15:return $p(e,s,s.type,s.pendingProps,r);case 19:return Qp(e,s,r);case 31:return kS(e,s,r);case 22:return Gp(e,s,r,s.pendingProps);case 24:return zs(s),l=dt(We),e===null?(h=Fc(),h===null&&(h=De,m=Kc(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=r),h=m),s.memoizedState={parent:l,cache:h},Wc(s),ns(s,We,h)):((e.lanes&r)!==0&&(Jc(e,s),Pr(s,null,null,r),Br()),h=e.memoizedState,m=s.memoizedState,h.parent!==l?(h={parent:l,cache:l},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ns(s,We,l)):(l=m.cache,ns(s,We,l),l!==h.cache&&Ic(s,[We],r,!0))),ht(e,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function zn(e){e.flags|=4}function Ou(e,s,r,l,h){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ng())e.flags|=8192;else throw Vs=xl,Xc}else e.flags&=-16777217}function eg(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!py(s))if(Ng())e.flags|=8192;else throw Vs=xl,Xc}function Ll(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Df():536870912,e.lanes|=s,La|=s)}function Ir(e,s){if(!we)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(s)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,s}function DS(e,s,r){var l=s.pendingProps;switch(Vc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(s),null;case 1:return Be(s),null;case 3:return r=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Dn(We),Ye(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Sa(s)?zn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qc())),Be(s),null;case 26:var h=s.type,m=s.memoizedState;return e===null?(zn(s),m!==null?(Be(s),eg(s,m)):(Be(s),Ou(s,h,null,l,r))):m?m!==e.memoizedState?(zn(s),Be(s),eg(s,m)):(Be(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&zn(s),Be(s),Ou(s,h,e,l,r)),null;case 27:if(Ki(s),r=pe.current,h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&zn(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Be(s),null}e=Z.current,Sa(s)?Dm(s):(e=ly(h,l,r),s.stateNode=e,zn(s))}return Be(s),null;case 5:if(Ki(s),h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&zn(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Be(s),null}if(m=Z.current,Sa(s))Dm(s);else{var b=Wl(pe.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?b.createElement(h,{is:l.is}):b.createElement(h)}}m[ct]=s,m[Tt]=l;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(ft(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zn(s)}}return Be(s),Ou(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,r),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&zn(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(e=pe.current,Sa(s)){if(e=s.stateNode,r=s.memoizedProps,l=null,h=ut,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ct]=s,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Wg(e.nodeValue,r)),e||ts(s,!0)}else e=Wl(e).createTextNode(l),e[ct]=s,s.stateNode=e}return Be(s),null;case 31:if(r=s.memoizedState,e===null||e.memoizedState!==null){if(l=Sa(s),r!==null){if(e===null){if(!l)throw Error(i(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ct]=s}else Ls(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),e=!1}else r=qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return s.flags&256?(Bt(s),s):(Bt(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Be(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(s),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[ct]=s}else Ls(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Be(s),h=!1}else h=qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Bt(s),s):(Bt(s),null)}return Bt(s),(s.flags&128)!==0?(s.lanes=r,s):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=s.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),r!==e&&r&&(s.child.flags|=8192),Ll(s,s.updateQueue),Be(s),null);case 4:return Ye(),e===null&&ed(s.stateNode.containerInfo),Be(s),null;case 10:return Dn(s.type),Be(s),null;case 19:if(I(Fe),l=s.memoizedState,l===null)return Be(s),null;if(h=(s.flags&128)!==0,m=l.rendering,m===null)if(h)Ir(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=Sl(e),m!==null){for(s.flags|=128,Ir(l,!1),e=m.updateQueue,s.updateQueue=e,Ll(s,e),s.subtreeFlags=0,e=r,r=s.child;r!==null;)Am(r,e),r=r.sibling;return X(Fe,Fe.current&1|2),we&&kn(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&Ot()>Vl&&(s.flags|=128,h=!0,Ir(l,!1),s.lanes=4194304)}else{if(!h)if(e=Sl(m),e!==null){if(s.flags|=128,h=!0,e=e.updateQueue,s.updateQueue=e,Ll(s,e),Ir(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!we)return Be(s),null}else 2*Ot()-l.renderingStartTime>Vl&&r!==536870912&&(s.flags|=128,h=!0,Ir(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(e=l.last,e!==null?e.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ot(),e.sibling=null,r=Fe.current,X(Fe,h?r&1|2:r&1),we&&kn(s,l.treeForkCount),e):(Be(s),null);case 22:case 23:return Bt(s),tu(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(r&536870912)!==0&&(s.flags&128)===0&&(Be(s),s.subtreeFlags&6&&(s.flags|=8192)):Be(s),r=s.updateQueue,r!==null&&Ll(s,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==r&&(s.flags|=2048),e!==null&&I(Bs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Dn(We),Be(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function MS(e,s){switch(Vc(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Dn(We),Ye(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Ki(s),null;case 31:if(s.memoizedState!==null){if(Bt(s),s.alternate===null)throw Error(i(340));Ls()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Bt(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ls()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return I(Fe),null;case 4:return Ye(),null;case 10:return Dn(s.type),null;case 22:case 23:return Bt(s),tu(),e!==null&&I(Bs),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Dn(We),null;case 25:return null;default:return null}}function tg(e,s){switch(Vc(s),s.tag){case 3:Dn(We),Ye();break;case 26:case 27:case 5:Ki(s);break;case 4:Ye();break;case 31:s.memoizedState!==null&&Bt(s);break;case 13:Bt(s);break;case 19:I(Fe);break;case 10:Dn(s.type);break;case 22:case 23:Bt(s),tu(),e!==null&&I(Bs);break;case 24:Dn(We)}}function Kr(e,s){try{var r=s.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var m=r.create,b=r.inst;l=m(),b.destroy=l}r=r.next}while(r!==h)}}catch(_){Ce(s,s.return,_)}}function os(e,s,r){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&e)===e){var b=l.inst,_=b.destroy;if(_!==void 0){b.destroy=void 0,h=s;var R=r,U=_;try{U()}catch(V){Ce(h,R,V)}}}l=l.next}while(l!==m)}}catch(V){Ce(s,s.return,V)}}function ng(e){var s=e.updateQueue;if(s!==null){var r=e.stateNode;try{Km(s,r)}catch(l){Ce(e,e.return,l)}}}function sg(e,s,r){r.props=$s(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Ce(e,s,l)}}function Yr(e,s){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Ce(e,s,h)}}function bn(e,s){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ce(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ce(e,s,h)}else r.current=null}function ag(e){var s=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ce(e,e.return,h)}}function Du(e,s,r){try{var l=e.stateNode;n_(l,e.type,r,s),l[Tt]=s}catch(h){Ce(e,e.return,h)}}function rg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ps(e.type)||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,s,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(e),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=An));else if(l!==4&&(l===27&&ps(e.type)&&(r=e.stateNode,s=null),e=e.child,e!==null))for(Lu(e,s,r),e=e.sibling;e!==null;)Lu(e,s,r),e=e.sibling}function Ul(e,s,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(l!==4&&(l===27&&ps(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ul(e,s,r),e=e.sibling;e!==null;)Ul(e,s,r),e=e.sibling}function ig(e){var s=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);ft(s,l,r),s[ct]=e,s[Tt]=r}catch(m){Ce(e,e.return,m)}}var Bn=!1,Ze=!1,Uu=!1,lg=typeof WeakSet=="function"?WeakSet:Set,lt=null;function LS(e,s){if(e=e.containerInfo,sd=so,e=vm(e),Cc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var b=0,_=-1,R=-1,U=0,V=0,G=e,z=null;t:for(;;){for(var P;G!==r||h!==0&&G.nodeType!==3||(_=b+h),G!==m||l!==0&&G.nodeType!==3||(R=b+l),G.nodeType===3&&(b+=G.nodeValue.length),(P=G.firstChild)!==null;)z=G,G=P;for(;;){if(G===e)break t;if(z===r&&++U===h&&(_=b),z===m&&++V===l&&(R=b),(P=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=P}r=_===-1||R===-1?null:{start:_,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ad={focusedElem:e,selectionRange:r},so=!1,lt=s;lt!==null;)if(s=lt,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,lt=e;else for(;lt!==null;){switch(s=lt,m=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,r=s,h=m.memoizedProps,m=m.memoizedState,l=r.stateNode;try{var J=$s(r.type,h);e=l.getSnapshotBeforeUpdate(J,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ce(r,r.return,le)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,r=e.nodeType,r===9)ld(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=s.sibling,e!==null){e.return=s.return,lt=e;break}lt=s.return}}function og(e,s,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Vn(e,r),l&4&&Kr(5,r);break;case 1:if(Vn(e,r),l&4)if(e=r.stateNode,s===null)try{e.componentDidMount()}catch(b){Ce(r,r.return,b)}else{var h=$s(r.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ce(r,r.return,b)}}l&64&&ng(r),l&512&&Yr(r,r.return);break;case 3:if(Vn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Km(e,s)}catch(b){Ce(r,r.return,b)}}break;case 27:s===null&&l&4&&ig(r);case 26:case 5:Vn(e,r),s===null&&l&4&&ag(r),l&512&&Yr(r,r.return);break;case 12:Vn(e,r);break;case 31:Vn(e,r),l&4&&dg(e,r);break;case 13:Vn(e,r),l&4&&hg(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=GS.bind(null,r),u_(e,r))));break;case 22:if(l=r.memoizedState!==null||Bn,!l){s=s!==null&&s.memoizedState!==null||Ze,h=Bn;var m=Ze;Bn=l,(Ze=s)&&!m?Hn(e,r,(r.subtreeFlags&8772)!==0):Vn(e,r),Bn=h,Ze=m}break;case 30:break;default:Vn(e,r)}}function cg(e){var s=e.alternate;s!==null&&(e.alternate=null,cg(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&hc(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Et=!1;function Pn(e,s,r){for(r=r.child;r!==null;)ug(e,s,r),r=r.sibling}function ug(e,s,r){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(yr,r)}catch{}switch(r.tag){case 26:Ze||bn(r,s),Pn(e,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||bn(r,s);var l=Ve,h=Et;ps(r.type)&&(Ve=r.stateNode,Et=!1),Pn(e,s,r),ni(r.stateNode),Ve=l,Et=h;break;case 5:Ze||bn(r,s);case 6:if(l=Ve,h=Et,Ve=null,Pn(e,s,r),Ve=l,Et=h,Ve!==null)if(Et)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(r.stateNode)}catch(m){Ce(r,s,m)}else try{Ve.removeChild(r.stateNode)}catch(m){Ce(r,s,m)}break;case 18:Ve!==null&&(Et?(e=Ve,ny(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),$a(e)):ny(Ve,r.stateNode));break;case 4:l=Ve,h=Et,Ve=r.stateNode.containerInfo,Et=!0,Pn(e,s,r),Ve=l,Et=h;break;case 0:case 11:case 14:case 15:os(2,r,s),Ze||os(4,r,s),Pn(e,s,r);break;case 1:Ze||(bn(r,s),l=r.stateNode,typeof l.componentWillUnmount=="function"&&sg(r,s,l)),Pn(e,s,r);break;case 21:Pn(e,s,r);break;case 22:Ze=(l=Ze)||r.memoizedState!==null,Pn(e,s,r),Ze=l;break;default:Pn(e,s,r)}}function dg(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(r){Ce(s,s.return,r)}}}function hg(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(r){Ce(s,s.return,r)}}function US(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new lg),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new lg),s;default:throw Error(i(435,e.tag))}}function zl(e,s){var r=US(e);s.forEach(function(l){if(!r.has(l)){r.add(l);var h=IS.bind(null,e,l);l.then(h,h)}})}function At(e,s){var r=s.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],m=e,b=s,_=b;e:for(;_!==null;){switch(_.tag){case 27:if(ps(_.type)){Ve=_.stateNode,Et=!1;break e}break;case 5:Ve=_.stateNode,Et=!1;break e;case 3:case 4:Ve=_.stateNode.containerInfo,Et=!0;break e}_=_.return}if(Ve===null)throw Error(i(160));ug(m,b,h),Ve=null,Et=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)fg(s,e),s=s.sibling}var an=null;function fg(e,s){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(s,e),Ct(e),l&4&&(os(3,e,e.return),Kr(3,e),os(5,e,e.return));break;case 1:At(s,e),Ct(e),l&512&&(Ze||r===null||bn(r,r.return)),l&64&&Bn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=an;if(At(s,e),Ct(e),l&512&&(Ze||r===null||bn(r,r.return)),l&4){var m=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[br]||m[ct]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),ft(m,l,r),m[ct]=e,it(m),l=m;break e;case"link":var b=fy("link","href",h).get(l+(r.href||""));if(b){for(var _=0;_<b.length;_++)if(m=b[_],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(_,1);break t}}m=h.createElement(l),ft(m,l,r),h.head.appendChild(m);break;case"meta":if(b=fy("meta","content",h).get(l+(r.content||""))){for(_=0;_<b.length;_++)if(m=b[_],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(_,1);break t}}m=h.createElement(l),ft(m,l,r),h.head.appendChild(m);break;default:throw Error(i(468,l))}m[ct]=e,it(m),l=m}e.stateNode=l}else my(h,e.type,e.stateNode);else e.stateNode=hy(h,l,e.memoizedProps);else m!==l?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,l===null?my(h,e.type,e.stateNode):hy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Du(e,e.memoizedProps,r.memoizedProps)}break;case 27:At(s,e),Ct(e),l&512&&(Ze||r===null||bn(r,r.return)),r!==null&&l&4&&Du(e,e.memoizedProps,r.memoizedProps);break;case 5:if(At(s,e),Ct(e),l&512&&(Ze||r===null||bn(r,r.return)),e.flags&32){h=e.stateNode;try{ha(h,"")}catch(J){Ce(e,e.return,J)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Du(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Uu=!0);break;case 6:if(At(s,e),Ct(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(J){Ce(e,e.return,J)}}break;case 3:if(Zl=null,h=an,an=Jl(s.containerInfo),At(s,e),an=h,Ct(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{$a(s.containerInfo)}catch(J){Ce(e,e.return,J)}Uu&&(Uu=!1,mg(e));break;case 4:l=an,an=Jl(e.stateNode.containerInfo),At(s,e),Ct(e),an=l;break;case 12:At(s,e),Ct(e);break;case 31:At(s,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zl(e,l)));break;case 13:At(s,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Pl=Ot()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zl(e,l)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,U=Bn,V=Ze;if(Bn=U||h,Ze=V||R,At(s,e),Ze=V,Bn=U,Ct(e),l&8192)e:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(r===null||R||Bn||Ze||Gs(e)),r=null,s=e;;){if(s.tag===5||s.tag===26){if(r===null){R=r=s;try{if(m=R.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{_=R.stateNode;var G=R.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(J){Ce(R,R.return,J)}}}else if(s.tag===6){if(r===null){R=s;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(J){Ce(R,R.return,J)}}}else if(s.tag===18){if(r===null){R=s;try{var P=R.stateNode;h?sy(P,!0):sy(R.stateNode,!1)}catch(J){Ce(R,R.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,zl(e,r))));break;case 19:At(s,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zl(e,l)));break;case 30:break;case 21:break;default:At(s,e),Ct(e)}}function Ct(e){var s=e.flags;if(s&2){try{for(var r,l=e.return;l!==null;){if(rg(l)){r=l;break}l=l.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var h=r.stateNode,m=Mu(e);Ul(e,m,h);break;case 5:var b=r.stateNode;r.flags&32&&(ha(b,""),r.flags&=-33);var _=Mu(e);Ul(e,_,b);break;case 3:case 4:var R=r.stateNode.containerInfo,U=Mu(e);Lu(e,U,R);break;default:throw Error(i(161))}}catch(V){Ce(e,e.return,V)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function mg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;mg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Vn(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)og(e,s.alternate,s),s=s.sibling}function Gs(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:os(4,s,s.return),Gs(s);break;case 1:bn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&sg(s,s.return,r),Gs(s);break;case 27:ni(s.stateNode);case 26:case 5:bn(s,s.return),Gs(s);break;case 22:s.memoizedState===null&&Gs(s);break;case 30:Gs(s);break;default:Gs(s)}e=e.sibling}}function Hn(e,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,h=e,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:Hn(h,m,r),Kr(4,m);break;case 1:if(Hn(h,m,r),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ce(l,l.return,U)}if(l=m,h=l.updateQueue,h!==null){var _=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Im(R[h],_)}catch(U){Ce(l,l.return,U)}}r&&b&64&&ng(m),Yr(m,m.return);break;case 27:ig(m);case 26:case 5:Hn(h,m,r),r&&l===null&&b&4&&ag(m),Yr(m,m.return);break;case 12:Hn(h,m,r);break;case 31:Hn(h,m,r),r&&b&4&&dg(h,m);break;case 13:Hn(h,m,r),r&&b&4&&hg(h,m);break;case 22:m.memoizedState===null&&Hn(h,m,r),Yr(m,m.return);break;case 30:break;default:Hn(h,m,r)}s=s.sibling}}function zu(e,s){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Dr(r))}function Bu(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Dr(e))}function rn(e,s,r,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pg(e,s,r,l),s=s.sibling}function pg(e,s,r,l){var h=s.flags;switch(s.tag){case 0:case 11:case 15:rn(e,s,r,l),h&2048&&Kr(9,s);break;case 1:rn(e,s,r,l);break;case 3:rn(e,s,r,l),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Dr(e)));break;case 12:if(h&2048){rn(e,s,r,l),e=s.stateNode;try{var m=s.memoizedProps,b=m.id,_=m.onPostCommit;typeof _=="function"&&_(b,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ce(s,s.return,R)}}else rn(e,s,r,l);break;case 31:rn(e,s,r,l);break;case 13:rn(e,s,r,l);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?rn(e,s,r,l):Fr(e,s):m._visibility&2?rn(e,s,r,l):(m._visibility|=2,Oa(e,s,r,l,(s.subtreeFlags&10256)!==0||!1)),h&2048&&zu(b,s);break;case 24:rn(e,s,r,l),h&2048&&Bu(s.alternate,s);break;default:rn(e,s,r,l)}}function Oa(e,s,r,l,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=e,b=s,_=r,R=l,U=b.flags;switch(b.tag){case 0:case 11:case 15:Oa(m,b,_,R,h),Kr(8,b);break;case 23:break;case 22:var V=b.stateNode;b.memoizedState!==null?V._visibility&2?Oa(m,b,_,R,h):Fr(m,b):(V._visibility|=2,Oa(m,b,_,R,h)),h&&U&2048&&zu(b.alternate,b);break;case 24:Oa(m,b,_,R,h),h&&U&2048&&Bu(b.alternate,b);break;default:Oa(m,b,_,R,h)}s=s.sibling}}function Fr(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=e,l=s,h=l.flags;switch(l.tag){case 22:Fr(r,l),h&2048&&zu(l.alternate,l);break;case 24:Fr(r,l),h&2048&&Bu(l.alternate,l);break;default:Fr(r,l)}s=s.sibling}}var Xr=8192;function Da(e,s,r){if(e.subtreeFlags&Xr)for(e=e.child;e!==null;)gg(e,s,r),e=e.sibling}function gg(e,s,r){switch(e.tag){case 26:Da(e,s,r),e.flags&Xr&&e.memoizedState!==null&&S_(r,an,e.memoizedState,e.memoizedProps);break;case 5:Da(e,s,r);break;case 3:case 4:var l=an;an=Jl(e.stateNode.containerInfo),Da(e,s,r),an=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Xr,Xr=16777216,Da(e,s,r),Xr=l):Da(e,s,r));break;default:Da(e,s,r)}}function yg(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Wr(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];lt=l,vg(l,e)}yg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xg(e),e=e.sibling}function xg(e){switch(e.tag){case 0:case 11:case 15:Wr(e),e.flags&2048&&os(9,e,e.return);break;case 3:Wr(e);break;case 12:Wr(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Bl(e)):Wr(e);break;default:Wr(e)}}function Bl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var l=s[r];lt=l,vg(l,e)}yg(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:os(8,s,s.return),Bl(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Bl(s));break;default:Bl(s)}e=e.sibling}}function vg(e,s){for(;lt!==null;){var r=lt;switch(r.tag){case 0:case 11:case 15:os(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,lt=l;else e:for(r=e;lt!==null;){l=lt;var h=l.sibling,m=l.return;if(cg(l),l===r){lt=null;break e}if(h!==null){h.return=m,lt=h;break e}lt=m}}}var zS={getCacheForType:function(e){var s=dt(We),r=s.data.get(e);return r===void 0&&(r=e(),s.data.set(e,r)),r},cacheSignal:function(){return dt(We).controller.signal}},BS=typeof WeakMap=="function"?WeakMap:Map,Te=0,De=null,ge=null,ve=0,Ae=0,Pt=null,cs=!1,Ma=!1,Pu=!1,qn=0,Ge=0,us=0,Is=0,Vu=0,Vt=0,La=0,Jr=null,Rt=null,Hu=!1,Pl=0,bg=0,Vl=1/0,Hl=null,ds=null,st=0,hs=null,Ua=null,$n=0,qu=0,$u=null,wg=null,Qr=0,Gu=null;function Ht(){return(Te&2)!==0&&ve!==0?ve&-ve:H.T!==null?Wu():zf()}function Sg(){if(Vt===0)if((ve&536870912)===0||we){var e=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),Vt=e}else Vt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Vt}function kt(e,s,r){(e===De&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(za(e,0),fs(e,ve,Vt,!1)),vr(e,r),((Te&2)===0||e!==De)&&(e===De&&((Te&2)===0&&(Is|=r),Ge===4&&fs(e,ve,Vt,!1)),wn(e))}function _g(e,s,r){if((Te&6)!==0)throw Error(i(327));var l=!r&&(s&127)===0&&(s&e.expiredLanes)===0||xr(e,s),h=l?HS(e,s):Ku(e,s,!0),m=l;do{if(h===0){Ma&&!l&&fs(e,s,0,!1);break}else{if(r=e.current.alternate,m&&!PS(r)){h=Ku(e,s,!1),m=!1;continue}if(h===2){if(m=s,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var _=e;h=Jr;var R=_.current.memoizedState.isDehydrated;if(R&&(za(_,b).flags|=256),b=Ku(_,b,!1),b!==2){if(Pu&&!R){_.errorRecoveryDisabledLanes|=m,Is|=m,h=4;break e}m=Rt,Rt=h,m!==null&&(Rt===null?Rt=m:Rt.push.apply(Rt,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){za(e,0),fs(e,s,0,!0);break}e:{switch(l=e,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:fs(l,s,Vt,!cs);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Pl+300-Ot(),10<h)){if(fs(l,s,Vt,!cs),Ji(l,0,!0)!==0)break e;$n=s,l.timeoutHandle=ey(jg.bind(null,l,r,Rt,Hl,Hu,s,Vt,Is,La,cs,m,"Throttled",-0,0),h);break e}jg(l,r,Rt,Hl,Hu,s,Vt,Is,La,cs,m,null,-0,0)}}break}while(!0);wn(e)}function jg(e,s,r,l,h,m,b,_,R,U,V,G,z,P){if(e.timeoutHandle=-1,G=s.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},gg(s,m,G);var J=(m&62914560)===m?Pl-Ot():(m&4194048)===m?bg-Ot():0;if(J=__(G,J),J!==null){$n=m,e.cancelPendingCommit=J(Og.bind(null,e,s,m,r,l,h,b,_,R,V,G,null,z,P)),fs(e,m,b,!U);return}}Og(e,s,m,r,l,h,b,_,R)}function PS(e){for(var s=e;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],m=h.getSnapshot;h=h.value;try{if(!Lt(m(),h))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fs(e,s,r,l){s&=~Vu,s&=~Is,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var h=s;0<h;){var m=31-Mt(h),b=1<<m;l[m]=-1,h&=~b}r!==0&&Mf(e,r,s)}function ql(){return(Te&6)===0?(Zr(0),!1):!0}function Iu(){if(ge!==null){if(Ae===0)var e=ge.return;else e=ge,On=Us=null,lu(e),Ea=null,Lr=0,e=ge;for(;e!==null;)tg(e.alternate,e),e=e.return;ge=null}}function za(e,s){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,r_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),$n=0,Iu(),De=e,ge=r=Rn(e.current,null),ve=s,Ae=0,Pt=null,cs=!1,Ma=xr(e,s),Pu=!1,La=Vt=Vu=Is=us=Ge=0,Rt=Jr=null,Hu=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var h=31-Mt(l),m=1<<h;s|=e[h],l&=~m}return qn=s,cl(),r}function Tg(e,s){he=null,H.H=$r,s===Na||s===yl?(s=Hm(),Ae=3):s===Xc?(s=Hm(),Ae=4):Ae=s===_u?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pt=s,ge===null&&(Ge=1,kl(e,Ft(s,e.current)))}function Ng(){var e=zt.current;return e===null?!0:(ve&4194048)===ve?Qt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Qt:!1}function Eg(){var e=H.H;return H.H=$r,e===null?$r:e}function Ag(){var e=H.A;return H.A=zS,e}function $l(){Ge=4,cs||(ve&4194048)!==ve&&zt.current!==null||(Ma=!0),(us&134217727)===0&&(Is&134217727)===0||De===null||fs(De,ve,Vt,!1)}function Ku(e,s,r){var l=Te;Te|=2;var h=Eg(),m=Ag();(De!==e||ve!==s)&&(Hl=null,za(e,s)),s=!1;var b=Ge;e:do try{if(Ae!==0&&ge!==null){var _=ge,R=Pt;switch(Ae){case 8:Iu(),b=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(s=!0);var U=Ae;if(Ae=0,Pt=null,Ba(e,_,R,U),r&&Ma){b=0;break e}break;default:U=Ae,Ae=0,Pt=null,Ba(e,_,R,U)}}VS(),b=Ge;break}catch(V){Tg(e,V)}while(!0);return s&&e.shellSuspendCounter++,On=Us=null,Te=l,H.H=h,H.A=m,ge===null&&(De=null,ve=0,cl()),b}function VS(){for(;ge!==null;)Cg(ge)}function HS(e,s){var r=Te;Te|=2;var l=Eg(),h=Ag();De!==e||ve!==s?(Hl=null,Vl=Ot()+500,za(e,s)):Ma=xr(e,s);e:do try{if(Ae!==0&&ge!==null){s=ge;var m=Pt;t:switch(Ae){case 1:Ae=0,Pt=null,Ba(e,s,m,1);break;case 2:case 9:if(Pm(m)){Ae=0,Pt=null,Rg(s);break}s=function(){Ae!==2&&Ae!==9||De!==e||(Ae=7),wn(e)},m.then(s,s);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Pm(m)?(Ae=0,Pt=null,Rg(s)):(Ae=0,Pt=null,Ba(e,s,m,7));break;case 5:var b=null;switch(ge.tag){case 26:b=ge.memoizedState;case 5:case 27:var _=ge;if(b?py(b):_.stateNode.complete){Ae=0,Pt=null;var R=_.sibling;if(R!==null)ge=R;else{var U=_.return;U!==null?(ge=U,Gl(U)):ge=null}break t}}Ae=0,Pt=null,Ba(e,s,m,5);break;case 6:Ae=0,Pt=null,Ba(e,s,m,6);break;case 8:Iu(),Ge=6;break e;default:throw Error(i(462))}}qS();break}catch(V){Tg(e,V)}while(!0);return On=Us=null,H.H=l,H.A=h,Te=r,ge!==null?0:(De=null,ve=0,cl(),Ge)}function qS(){for(;ge!==null&&!dw();)Cg(ge)}function Cg(e){var s=Zp(e.alternate,e,qn);e.memoizedProps=e.pendingProps,s===null?Gl(e):ge=s}function Rg(e){var s=e,r=s.alternate;switch(s.tag){case 15:case 0:s=Yp(r,s,s.pendingProps,s.type,void 0,ve);break;case 11:s=Yp(r,s,s.pendingProps,s.type.render,s.ref,ve);break;case 5:lu(s);default:tg(r,s),s=ge=Am(s,qn),s=Zp(r,s,qn)}e.memoizedProps=e.pendingProps,s===null?Gl(e):ge=s}function Ba(e,s,r,l){On=Us=null,lu(s),Ea=null,Lr=0;var h=s.return;try{if(RS(e,h,s,r,ve)){Ge=1,kl(e,Ft(r,e.current)),ge=null;return}}catch(m){if(h!==null)throw ge=h,m;Ge=1,kl(e,Ft(r,e.current)),ge=null;return}s.flags&32768?(we||l===1?e=!0:Ma||(ve&536870912)!==0?e=!1:(cs=e=!0,(l===2||l===9||l===3||l===6)&&(l=zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),kg(s,e)):Gl(s)}function Gl(e){var s=e;do{if((s.flags&32768)!==0){kg(s,cs);return}e=s.return;var r=DS(s.alternate,s,qn);if(r!==null){ge=r;return}if(s=s.sibling,s!==null){ge=s;return}ge=s=e}while(s!==null);Ge===0&&(Ge=5)}function kg(e,s){do{var r=MS(e.alternate,e);if(r!==null){r.flags&=32767,ge=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(e=e.sibling,e!==null)){ge=e;return}ge=e=r}while(e!==null);Ge=6,ge=null}function Og(e,s,r,l,h,m,b,_,R){e.cancelPendingCommit=null;do Il();while(st!==0);if((Te&6)!==0)throw Error(i(327));if(s!==null){if(s===e.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Mc,ww(e,r,m,b,_,R),e===De&&(ge=De=null,ve=0),Ua=s,hs=e,$n=r,qu=m,$u=h,wg=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,KS(Yi,function(){return zg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=K.p,K.p=2,b=Te,Te|=4;try{LS(e,s,r)}finally{Te=b,K.p=h,H.T=l}}st=1,Dg(),Mg(),Lg()}}function Dg(){if(st===1){st=0;var e=hs,s=Ua,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=K.p;K.p=2;var h=Te;Te|=4;try{fg(s,e);var m=ad,b=vm(e.containerInfo),_=m.focusedElem,R=m.selectionRange;if(b!==_&&_&&_.ownerDocument&&xm(_.ownerDocument.documentElement,_)){if(R!==null&&Cc(_)){var U=R.start,V=R.end;if(V===void 0&&(V=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(V,_.value.length);else{var G=_.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var P=z.getSelection(),J=_.textContent.length,le=Math.min(R.start,J),Oe=R.end===void 0?le:Math.min(R.end,J);!P.extend&&le>Oe&&(b=Oe,Oe=le,le=b);var D=ym(_,le),k=ym(_,Oe);if(D&&k&&(P.rangeCount!==1||P.anchorNode!==D.node||P.anchorOffset!==D.offset||P.focusNode!==k.node||P.focusOffset!==k.offset)){var L=G.createRange();L.setStart(D.node,D.offset),P.removeAllRanges(),le>Oe?(P.addRange(L),P.extend(k.node,k.offset)):(L.setEnd(k.node,k.offset),P.addRange(L))}}}}for(G=[],P=_;P=P.parentNode;)P.nodeType===1&&G.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<G.length;_++){var q=G[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}so=!!sd,ad=sd=null}finally{Te=h,K.p=l,H.T=r}}e.current=s,st=2}}function Mg(){if(st===2){st=0;var e=hs,s=Ua,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=K.p;K.p=2;var h=Te;Te|=4;try{og(e,s.alternate,s)}finally{Te=h,K.p=l,H.T=r}}st=3}}function Lg(){if(st===4||st===3){st=0,hw();var e=hs,s=Ua,r=$n,l=wg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?st=5:(st=0,Ua=hs=null,Ug(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ds=null),uc(r),s=s.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(yr,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=H.T,h=K.p,K.p=2,H.T=null;try{for(var m=e.onRecoverableError,b=0;b<l.length;b++){var _=l[b];m(_.value,{componentStack:_.stack})}}finally{H.T=s,K.p=h}}($n&3)!==0&&Il(),wn(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Gu?Qr++:(Qr=0,Gu=e):Qr=0,Zr(0)}}function Ug(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Dr(s)))}function Il(){return Dg(),Mg(),Lg(),zg()}function zg(){if(st!==5)return!1;var e=hs,s=qu;qu=0;var r=uc($n),l=H.T,h=K.p;try{K.p=32>r?32:r,H.T=null,r=$u,$u=null;var m=hs,b=$n;if(st=0,Ua=hs=null,$n=0,(Te&6)!==0)throw Error(i(331));var _=Te;if(Te|=4,xg(m.current),pg(m,m.current,b,r),Te=_,Zr(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(yr,m)}catch{}return!0}finally{K.p=h,H.T=l,Ug(e,s)}}function Bg(e,s,r){s=Ft(r,s),s=Su(e.stateNode,s,2),e=rs(e,s,2),e!==null&&(vr(e,2),wn(e))}function Ce(e,s,r){if(e.tag===3)Bg(e,e,r);else for(;s!==null;){if(s.tag===3){Bg(s,e,r);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ds===null||!ds.has(l))){e=Ft(r,e),r=Pp(2),l=rs(s,r,2),l!==null&&(Vp(r,l,s,e),vr(l,2),wn(l));break}}s=s.return}}function Yu(e,s,r){var l=e.pingCache;if(l===null){l=e.pingCache=new BS;var h=new Set;l.set(s,h)}else h=l.get(s),h===void 0&&(h=new Set,l.set(s,h));h.has(r)||(Pu=!0,h.add(r),e=$S.bind(null,e,s,r),s.then(e,e))}function $S(e,s,r){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,De===e&&(ve&r)===r&&(Ge===4||Ge===3&&(ve&62914560)===ve&&300>Ot()-Pl?(Te&2)===0&&za(e,0):Vu|=r,La===ve&&(La=0)),wn(e)}function Pg(e,s){s===0&&(s=Df()),e=Ds(e,s),e!==null&&(vr(e,s),wn(e))}function GS(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Pg(e,r)}function IS(e,s){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Pg(e,r)}function KS(e,s){return ic(e,s)}var Kl=null,Pa=null,Fu=!1,Yl=!1,Xu=!1,ms=0;function wn(e){e!==Pa&&e.next===null&&(Pa===null?Kl=Pa=e:Pa=Pa.next=e),Yl=!0,Fu||(Fu=!0,FS())}function Zr(e,s){if(!Xu&&Yl){Xu=!0;do for(var r=!1,l=Kl;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var b=l.suspendedLanes,_=l.pingedLanes;m=(1<<31-Mt(42|e)+1)-1,m&=h&~(b&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,$g(l,m))}else m=ve,m=Ji(l,l===De?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||xr(l,m)||(r=!0,$g(l,m));l=l.next}while(r);Xu=!1}}function YS(){Vg()}function Vg(){Yl=Fu=!1;var e=0;ms!==0&&a_()&&(e=ms);for(var s=Ot(),r=null,l=Kl;l!==null;){var h=l.next,m=Hg(l,s);m===0?(l.next=null,r===null?Kl=h:r.next=h,h===null&&(Pa=r)):(r=l,(e!==0||(m&3)!==0)&&(Yl=!0)),l=h}st!==0&&st!==5||Zr(e),ms!==0&&(ms=0)}function Hg(e,s){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-Mt(m),_=1<<b,R=h[b];R===-1?((_&r)===0||(_&l)!==0)&&(h[b]=bw(_,s)):R<=s&&(e.expiredLanes|=_),m&=~_}if(s=De,r=ve,r=Ji(e,e===s?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===s&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lc(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||xr(e,r)){if(s=r&-r,s===e.callbackPriority)return s;switch(l!==null&&lc(l),uc(r)){case 2:case 8:r=kf;break;case 32:r=Yi;break;case 268435456:r=Of;break;default:r=Yi}return l=qg.bind(null,e),r=ic(r,l),e.callbackPriority=s,e.callbackNode=r,s}return l!==null&&l!==null&&lc(l),e.callbackPriority=2,e.callbackNode=null,2}function qg(e,s){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Il()&&e.callbackNode!==r)return null;var l=ve;return l=Ji(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_g(e,l,s),Hg(e,Ot()),e.callbackNode!=null&&e.callbackNode===r?qg.bind(null,e):null)}function $g(e,s){if(Il())return null;_g(e,s,!0)}function FS(){i_(function(){(Te&6)!==0?ic(Rf,YS):Vg()})}function Wu(){if(ms===0){var e=ja;e===0&&(e=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),ms=e}return ms}function Gg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tl(""+e)}function Ig(e,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,e.id&&r.setAttribute("form",e.id),s.parentNode.insertBefore(r,s),e=new FormData(e),r.parentNode.removeChild(r),e}function XS(e,s,r,l,h){if(s==="submit"&&r&&r.stateNode===h){var m=Gg((h[Tt]||null).action),b=l.submitter;b&&(s=(s=b[Tt]||null)?Gg(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var _=new rl("action","action",null,l,h);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ms!==0){var R=b?Ig(h,b):new FormData(h);gu(r,{pending:!0,data:R,method:h.method,action:m},null,R)}}else typeof m=="function"&&(_.preventDefault(),R=b?Ig(h,b):new FormData(h),gu(r,{pending:!0,data:R,method:h.method,action:m},m,R))},currentTarget:h}]})}}for(var Ju=0;Ju<Dc.length;Ju++){var Qu=Dc[Ju],WS=Qu.toLowerCase(),JS=Qu[0].toUpperCase()+Qu.slice(1);sn(WS,"on"+JS)}sn(Sm,"onAnimationEnd"),sn(_m,"onAnimationIteration"),sn(jm,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(fS,"onTransitionRun"),sn(mS,"onTransitionStart"),sn(pS,"onTransitionCancel"),sn(Tm,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ei));function Kg(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var b=l.length-1;0<=b;b--){var _=l[b],R=_.instance,U=_.currentTarget;if(_=_.listener,R!==m&&h.isPropagationStopped())break e;m=_,h.currentTarget=U;try{m(h)}catch(V){ol(V)}h.currentTarget=null,m=R}else for(b=0;b<l.length;b++){if(_=l[b],R=_.instance,U=_.currentTarget,_=_.listener,R!==m&&h.isPropagationStopped())break e;m=_,h.currentTarget=U;try{m(h)}catch(V){ol(V)}h.currentTarget=null,m=R}}}}function ye(e,s){var r=s[dc];r===void 0&&(r=s[dc]=new Set);var l=e+"__bubble";r.has(l)||(Yg(s,e,2,!1),r.add(l))}function Zu(e,s,r){var l=0;s&&(l|=4),Yg(r,e,l,s)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Fl]){e[Fl]=!0,Vf.forEach(function(r){r!=="selectionchange"&&(QS.has(r)||Zu(r,!1,e),Zu(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Fl]||(s[Fl]=!0,Zu("selectionchange",!1,s))}}function Yg(e,s,r,l){switch(Sy(s)){case 2:var h=N_;break;case 8:h=E_;break;default:h=pd}r=h.bind(null,s,r,e),h=void 0,!bc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(s,r,{capture:!0,passive:h}):e.addEventListener(s,r,!0):h!==void 0?e.addEventListener(s,r,{passive:h}):e.addEventListener(s,r,!1)}function td(e,s,r,l,h){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var _=l.stateNode.containerInfo;if(_===h)break;if(b===4)for(b=l.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;_!==null;){if(b=la(_),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){l=m=b;continue e}_=_.parentNode}}l=l.return}Qf(function(){var U=m,V=xc(r),G=[];e:{var z=Nm.get(e);if(z!==void 0){var P=rl,J=e;switch(e){case"keypress":if(sl(r)===0)break e;case"keydown":case"keyup":P=Iw;break;case"focusin":J="focus",P=jc;break;case"focusout":J="blur",P=jc;break;case"beforeblur":case"afterblur":P=jc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Fw;break;case Sm:case _m:case jm:P=Uw;break;case Tm:P=Ww;break;case"scroll":case"scrollend":P=kw;break;case"wheel":P=Qw;break;case"copy":case"cut":case"paste":P=Bw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=sm;break;case"toggle":case"beforetoggle":P=eS}var le=(s&4)!==0,Oe=!le&&(e==="scroll"||e==="scrollend"),D=le?z!==null?z+"Capture":null:z;le=[];for(var k=U,L;k!==null;){var q=k;if(L=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||L===null||D===null||(q=Sr(k,D),q!=null&&le.push(ti(k,q,L))),Oe)break;k=k.return}0<le.length&&(z=new P(z,J,null,r,V),G.push({event:z,listeners:le}))}}if((s&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",z&&r!==yc&&(J=r.relatedTarget||r.fromElement)&&(la(J)||J[ia]))break e;if((P||z)&&(z=V.window===V?V:(z=V.ownerDocument)?z.defaultView||z.parentWindow:window,P?(J=r.relatedTarget||r.toElement,P=U,J=J?la(J):null,J!==null&&(Oe=u(J),le=J.tag,J!==Oe||le!==5&&le!==27&&le!==6)&&(J=null)):(P=null,J=U),P!==J)){if(le=tm,q="onMouseLeave",D="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(le=sm,q="onPointerLeave",D="onPointerEnter",k="pointer"),Oe=P==null?z:wr(P),L=J==null?z:wr(J),z=new le(q,k+"leave",P,r,V),z.target=Oe,z.relatedTarget=L,q=null,la(V)===U&&(le=new le(D,k+"enter",J,r,V),le.target=L,le.relatedTarget=Oe,q=le),Oe=q,P&&J)t:{for(le=ZS,D=P,k=J,L=0,q=D;q;q=le(q))L++;q=0;for(var ae=k;ae;ae=le(ae))q++;for(;0<L-q;)D=le(D),L--;for(;0<q-L;)k=le(k),q--;for(;L--;){if(D===k||k!==null&&D===k.alternate){le=D;break t}D=le(D),k=le(k)}le=null}else le=null;P!==null&&Fg(G,z,P,le,!1),J!==null&&Oe!==null&&Fg(G,Oe,J,le,!0)}}e:{if(z=U?wr(U):window,P=z.nodeName&&z.nodeName.toLowerCase(),P==="select"||P==="input"&&z.type==="file")var _e=dm;else if(cm(z))if(hm)_e=uS;else{_e=oS;var te=lS}else P=z.nodeName,!P||P.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&gc(U.elementType)&&(_e=dm):_e=cS;if(_e&&(_e=_e(e,U))){um(G,_e,r,V);break e}te&&te(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&pc(z,"number",z.value)}switch(te=U?wr(U):window,e){case"focusin":(cm(te)||te.contentEditable==="true")&&(ga=te,Rc=U,Rr=null);break;case"focusout":Rr=Rc=ga=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,bm(G,r,V);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":bm(G,r,V)}var fe;if(Nc)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else pa?lm(e,r)&&(be="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(be="onCompositionStart");be&&(am&&r.locale!=="ko"&&(pa||be!=="onCompositionStart"?be==="onCompositionEnd"&&pa&&(fe=Zf()):(Qn=V,wc="value"in Qn?Qn.value:Qn.textContent,pa=!0)),te=Xl(U,be),0<te.length&&(be=new nm(be,e,null,r,V),G.push({event:be,listeners:te}),fe?be.data=fe:(fe=om(r),fe!==null&&(be.data=fe)))),(fe=nS?sS(e,r):aS(e,r))&&(be=Xl(U,"onBeforeInput"),0<be.length&&(te=new nm("onBeforeInput","beforeinput",null,r,V),G.push({event:te,listeners:be}),te.data=fe)),XS(G,e,U,r,V)}Kg(G,s)})}function ti(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Xl(e,s){for(var r=s+"Capture",l=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Sr(e,r),h!=null&&l.unshift(ti(e,h,m)),h=Sr(e,s),h!=null&&l.push(ti(e,h,m))),e.tag===3)return l;e=e.return}return[]}function ZS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fg(e,s,r,l,h){for(var m=s._reactName,b=[];r!==null&&r!==l;){var _=r,R=_.alternate,U=_.stateNode;if(_=_.tag,R!==null&&R===l)break;_!==5&&_!==26&&_!==27||U===null||(R=U,h?(U=Sr(r,m),U!=null&&b.unshift(ti(r,U,R))):h||(U=Sr(r,m),U!=null&&b.push(ti(r,U,R)))),r=r.return}b.length!==0&&e.push({event:s,listeners:b})}var e_=/\r\n?/g,t_=/\u0000|\uFFFD/g;function Xg(e){return(typeof e=="string"?e:""+e).replace(e_,`
`).replace(t_,"")}function Wg(e,s){return s=Xg(s),Xg(e)===s}function ke(e,s,r,l,h,m){switch(r){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||ha(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&ha(e,""+l);break;case"className":Zi(e,"class",l);break;case"tabIndex":Zi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(e,r,l);break;case"style":Wf(e,l,m);break;case"data":if(s!=="object"){Zi(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=tl(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(s!=="input"&&ke(e,s,"name",h.name,h,null),ke(e,s,"formEncType",h.formEncType,h,null),ke(e,s,"formMethod",h.formMethod,h,null),ke(e,s,"formTarget",h.formTarget,h,null)):(ke(e,s,"encType",h.encType,h,null),ke(e,s,"method",h.method,h,null),ke(e,s,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=tl(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=An);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=tl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Qi(e,"popover",l);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Cw.get(r)||r,Qi(e,r,l))}}function nd(e,s,r,l,h,m){switch(r){case"style":Wf(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof l=="string"?ha(e,l):(typeof l=="number"||typeof l=="bigint")&&ha(e,""+l);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),s=r.slice(2,h?r.length-7:void 0),m=e[Tt]||null,m=m!=null?m[r]:null,typeof m=="function"&&e.removeEventListener(s,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(s,l,h);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Qi(e,r,l)}}}function ft(e,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var l=!1,h=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ke(e,s,m,b,r,null)}}h&&ke(e,s,"srcSet",r.srcSet,r,null),l&&ke(e,s,"src",r.src,r,null);return;case"input":ye("invalid",e);var _=m=b=h=null,R=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var V=r[l];if(V!=null)switch(l){case"name":h=V;break;case"type":b=V;break;case"checked":R=V;break;case"defaultChecked":U=V;break;case"value":m=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,s));break;default:ke(e,s,l,V,r,null)}}Kf(e,m,_,R,U,b,h,!1);return;case"select":ye("invalid",e),l=b=m=null;for(h in r)if(r.hasOwnProperty(h)&&(_=r[h],_!=null))switch(h){case"value":m=_;break;case"defaultValue":b=_;break;case"multiple":l=_;default:ke(e,s,h,_,r,null)}s=m,r=b,e.multiple=!!l,s!=null?da(e,!!l,s,!1):r!=null&&da(e,!!l,r,!0);return;case"textarea":ye("invalid",e),m=h=l=null;for(b in r)if(r.hasOwnProperty(b)&&(_=r[b],_!=null))switch(b){case"value":l=_;break;case"defaultValue":h=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:ke(e,s,b,_,r,null)}Ff(e,l,h,m);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ke(e,s,R,l,r,null));return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(l=0;l<ei.length;l++)ye(ei[l],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ke(e,s,U,l,r,null)}return;default:if(gc(s)){for(V in r)r.hasOwnProperty(V)&&(l=r[V],l!==void 0&&nd(e,s,V,l,r,void 0));return}}for(_ in r)r.hasOwnProperty(_)&&(l=r[_],l!=null&&ke(e,s,_,l,r,null))}function n_(e,s,r,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,_=null,R=null,U=null,V=null;for(P in r){var G=r[P];if(r.hasOwnProperty(P)&&G!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":R=G;default:l.hasOwnProperty(P)||ke(e,s,P,null,l,G)}}for(var z in l){var P=l[z];if(G=r[z],l.hasOwnProperty(z)&&(P!=null||G!=null))switch(z){case"type":m=P;break;case"name":h=P;break;case"checked":U=P;break;case"defaultChecked":V=P;break;case"value":b=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,s));break;default:P!==G&&ke(e,s,z,P,l,G)}}mc(e,b,_,R,U,V,m,h);return;case"select":P=b=_=z=null;for(m in r)if(R=r[m],r.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":P=R;default:l.hasOwnProperty(m)||ke(e,s,m,null,l,R)}for(h in l)if(m=l[h],R=r[h],l.hasOwnProperty(h)&&(m!=null||R!=null))switch(h){case"value":z=m;break;case"defaultValue":_=m;break;case"multiple":b=m;default:m!==R&&ke(e,s,h,m,l,R)}s=_,r=b,l=P,z!=null?da(e,!!r,z,!1):!!l!=!!r&&(s!=null?da(e,!!r,s,!0):da(e,!!r,r?[]:"",!1));return;case"textarea":P=z=null;for(_ in r)if(h=r[_],r.hasOwnProperty(_)&&h!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ke(e,s,_,null,l,h)}for(b in l)if(h=l[b],m=r[b],l.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":z=h;break;case"defaultValue":P=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&ke(e,s,b,h,l,m)}Yf(e,z,P);return;case"option":for(var J in r)z=r[J],r.hasOwnProperty(J)&&z!=null&&!l.hasOwnProperty(J)&&(J==="selected"?e.selected=!1:ke(e,s,J,null,l,z));for(R in l)z=l[R],P=r[R],l.hasOwnProperty(R)&&z!==P&&(z!=null||P!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ke(e,s,R,z,l,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in r)z=r[le],r.hasOwnProperty(le)&&z!=null&&!l.hasOwnProperty(le)&&ke(e,s,le,null,l,z);for(U in l)if(z=l[U],P=r[U],l.hasOwnProperty(U)&&z!==P&&(z!=null||P!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,s));break;default:ke(e,s,U,z,l,P)}return;default:if(gc(s)){for(var Oe in r)z=r[Oe],r.hasOwnProperty(Oe)&&z!==void 0&&!l.hasOwnProperty(Oe)&&nd(e,s,Oe,void 0,l,z);for(V in l)z=l[V],P=r[V],!l.hasOwnProperty(V)||z===P||z===void 0&&P===void 0||nd(e,s,V,z,l,P);return}}for(var D in r)z=r[D],r.hasOwnProperty(D)&&z!=null&&!l.hasOwnProperty(D)&&ke(e,s,D,null,l,z);for(G in l)z=l[G],P=r[G],!l.hasOwnProperty(G)||z===P||z==null&&P==null||ke(e,s,G,z,l,P)}function Jg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],m=h.transferSize,b=h.initiatorType,_=h.duration;if(m&&_&&Jg(b)){for(b=0,_=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],U=R.startTime;if(U>_)break;var V=R.transferSize,G=R.initiatorType;V&&Jg(G)&&(R=R.responseEnd,b+=V*(R<_?1:(_-U)/(R-U)))}if(--l,s+=8*(m+b)/(h.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sd=null,ad=null;function Wl(e){return e.nodeType===9?e:e.ownerDocument}function Qg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zg(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function rd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var id=null;function a_(){var e=window.event;return e&&e.type==="popstate"?e===id?!1:(id=e,!0):(id=null,!1)}var ey=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,i_=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(e){return ty.resolve(null).then(e).catch(l_)}:ey;function l_(e){setTimeout(function(){throw e})}function ps(e){return e==="head"}function ny(e,s){var r=s,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),$a(s);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ni(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ni(r);for(var m=r.firstChild;m;){var b=m.nextSibling,_=m.nodeName;m[br]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=b}}else r==="body"&&ni(e.ownerDocument.body);r=h}while(r);$a(s)}function sy(e,s){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function ld(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ld(r),hc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function o_(e,s,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[br])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function c_(e,s,r){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Zt(e.nextSibling),e===null))return null;return e}function ay(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Zt(e.nextSibling),e===null))return null;return e}function od(e){return e.data==="$?"||e.data==="$~"}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function u_(e,s){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||r.readyState!=="loading")s();else{var l=function(){s(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zt(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var ud=null;function ry(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(s===0)return Zt(e.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}e=e.nextSibling}return null}function iy(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return e;s--}else r!=="/$"&&r!=="/&"||s++}e=e.previousSibling}return null}function ly(e,s,r){switch(s=Wl(r),e){case"html":if(e=s.documentElement,!e)throw Error(i(452));return e;case"head":if(e=s.head,!e)throw Error(i(453));return e;case"body":if(e=s.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ni(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);hc(e)}var en=new Map,oy=new Set;function Jl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gn=K.d;K.d={f:d_,r:h_,D:f_,C:m_,L:p_,m:g_,X:x_,S:y_,M:v_};function d_(){var e=Gn.f(),s=ql();return e||s}function h_(e){var s=oa(e);s!==null&&s.tag===5&&s.type==="form"?Tp(s):Gn.r(e)}var Va=typeof document>"u"?null:document;function cy(e,s,r){var l=Va;if(l&&typeof s=="string"&&s){var h=Kt(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),oy.has(h)||(oy.add(h),e={rel:e,crossOrigin:r,href:s},l.querySelector(h)===null&&(s=l.createElement("link"),ft(s,"link",e),it(s),l.head.appendChild(s)))}}function f_(e){Gn.D(e),cy("dns-prefetch",e,null)}function m_(e,s){Gn.C(e,s),cy("preconnect",e,s)}function p_(e,s,r){Gn.L(e,s,r);var l=Va;if(l&&e&&s){var h='link[rel="preload"][as="'+Kt(s)+'"]';s==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Kt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Kt(r.imageSizes)+'"]')):h+='[href="'+Kt(e)+'"]';var m=h;switch(s){case"style":m=Ha(e);break;case"script":m=qa(e)}en.has(m)||(e=y({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:e,as:s},r),en.set(m,e),l.querySelector(h)!==null||s==="style"&&l.querySelector(si(m))||s==="script"&&l.querySelector(ai(m))||(s=l.createElement("link"),ft(s,"link",e),it(s),l.head.appendChild(s)))}}function g_(e,s){Gn.m(e,s);var r=Va;if(r&&e){var l=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(e)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=qa(e)}if(!en.has(m)&&(e=y({rel:"modulepreload",href:e},s),en.set(m,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ai(m)))return}l=r.createElement("link"),ft(l,"link",e),it(l),r.head.appendChild(l)}}}function y_(e,s,r){Gn.S(e,s,r);var l=Va;if(l&&e){var h=ca(l).hoistableStyles,m=Ha(e);s=s||"default";var b=h.get(m);if(!b){var _={loading:0,preload:null};if(b=l.querySelector(si(m)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":s},r),(r=en.get(m))&&dd(e,r);var R=b=l.createElement("link");it(R),ft(R,"link",e),R._p=new Promise(function(U,V){R.onload=U,R.onerror=V}),R.addEventListener("load",function(){_.loading|=1}),R.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ql(b,s,l)}b={type:"stylesheet",instance:b,count:1,state:_},h.set(m,b)}}}function x_(e,s){Gn.X(e,s);var r=Va;if(r&&e){var l=ca(r).hoistableScripts,h=qa(e),m=l.get(h);m||(m=r.querySelector(ai(h)),m||(e=y({src:e,async:!0},s),(s=en.get(h))&&hd(e,s),m=r.createElement("script"),it(m),ft(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function v_(e,s){Gn.M(e,s);var r=Va;if(r&&e){var l=ca(r).hoistableScripts,h=qa(e),m=l.get(h);m||(m=r.querySelector(ai(h)),m||(e=y({src:e,async:!0,type:"module"},s),(s=en.get(h))&&hd(e,s),m=r.createElement("script"),it(m),ft(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function uy(e,s,r,l){var h=(h=pe.current)?Jl(h):null;if(!h)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Ha(r.href),r=ca(h).hoistableStyles,l=r.get(s),l||(l={type:"style",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ha(r.href);var m=ca(h).hoistableStyles,b=m.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=h.querySelector(si(e)))&&!m._p&&(b.instance=m,b.state.loading=5),en.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},en.set(e,r),m||b_(h,e,r,b.state))),s&&l===null)throw Error(i(528,""));return b}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qa(r),r=ca(h).hoistableScripts,l=r.get(s),l||(l={type:"script",instance:null,count:0,state:null},r.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ha(e){return'href="'+Kt(e)+'"'}function si(e){return'link[rel="stylesheet"]['+e+"]"}function dy(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function b_(e,s,r,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ft(s,"link",r),it(s),e.head.appendChild(s))}function qa(e){return'[src="'+Kt(e)+'"]'}function ai(e){return"script[async]"+e}function hy(e,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+Kt(r.href)+'"]');if(l)return s.instance=l,it(l),l;var h=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),it(l),ft(l,"style",h),Ql(l,r.precedence,e),s.instance=l;case"stylesheet":h=Ha(r.href);var m=e.querySelector(si(h));if(m)return s.state.loading|=4,s.instance=m,it(m),m;l=dy(r),(h=en.get(h))&&dd(l,h),m=(e.ownerDocument||e).createElement("link"),it(m);var b=m;return b._p=new Promise(function(_,R){b.onload=_,b.onerror=R}),ft(m,"link",l),s.state.loading|=4,Ql(m,r.precedence,e),s.instance=m;case"script":return m=qa(r.src),(h=e.querySelector(ai(m)))?(s.instance=h,it(h),h):(l=r,(h=en.get(m))&&(l=y({},r),hd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),it(h),ft(h,"link",l),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ql(l,r.precedence,e));return s.instance}function Ql(e,s,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,b=0;b<l.length;b++){var _=l[b];if(_.dataset.precedence===s)m=_;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(e,s.firstChild))}function dd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function hd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Zl=null;function fy(e,s,r){if(Zl===null){var l=new Map,h=Zl=new Map;h.set(r,l)}else h=Zl,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var m=r[h];if(!(m[br]||m[ct]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=e+b;var _=l.get(b);_?_.push(m):l.set(b,[m])}}return l}function my(e,s,r){e=e.ownerDocument||e,e.head.insertBefore(r,s==="title"?e.querySelector("head > title"):null)}function w_(e,s,r){if(r===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function S_(e,s,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ha(l.href),m=s.querySelector(si(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=eo.bind(e),s.then(e,e)),r.state.loading|=4,r.instance=m,it(m);return}m=s.ownerDocument||s,l=dy(l),(h=en.get(h))&&dd(l,h),m=m.createElement("link"),it(m);var b=m;b._p=new Promise(function(_,R){b.onload=_,b.onerror=R}),ft(m,"link",l),r.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=eo.bind(e),s.addEventListener("load",r),s.addEventListener("error",r))}}var fd=0;function __(e,s){return e.stylesheets&&e.count===0&&no(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&no(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+s);0<e.imgBytes&&fd===0&&(fd=62500*s_());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&no(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>fd?50:800)+s);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function eo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)no(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var to=null;function no(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,to=new Map,s.forEach(j_,e),to=null,eo.call(e))}function j_(e,s){if(!(s.state.loading&4)){var r=to.get(e);if(r)var l=r.get(null);else{r=new Map,to.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),l=b)}l&&r.set(null,l)}h=s.instance,b=h.getAttribute("data-precedence"),m=r.get(b)||l,m===l&&r.set(null,h),r.set(b,h),this.count++,l=eo.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var ri={$$typeof:E,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function T_(e,s,r,l,h,m,b,_,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function gy(e,s,r,l,h,m,b,_,R,U,V,G){return e=new T_(e,s,r,b,R,U,V,G,_),s=1,m===!0&&(s|=24),m=Ut(3,null,null,s),e.current=m,m.stateNode=e,s=Kc(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:r,cache:s},Wc(m),e}function yy(e){return e?(e=va,e):va}function xy(e,s,r,l,h,m){h=yy(h),l.context===null?l.context=h:l.pendingContext=h,l=as(s),l.payload={element:r},m=m===void 0?null:m,m!==null&&(l.callback=m),r=rs(e,l,s),r!==null&&(kt(r,e,s),zr(r,e,s))}function vy(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function md(e,s){vy(e,s),(e=e.alternate)&&vy(e,s)}function by(e){if(e.tag===13||e.tag===31){var s=Ds(e,67108864);s!==null&&kt(s,e,67108864),md(e,67108864)}}function wy(e){if(e.tag===13||e.tag===31){var s=Ht();s=cc(s);var r=Ds(e,s);r!==null&&kt(r,e,s),md(e,s)}}var so=!0;function N_(e,s,r,l){var h=H.T;H.T=null;var m=K.p;try{K.p=2,pd(e,s,r,l)}finally{K.p=m,H.T=h}}function E_(e,s,r,l){var h=H.T;H.T=null;var m=K.p;try{K.p=8,pd(e,s,r,l)}finally{K.p=m,H.T=h}}function pd(e,s,r,l){if(so){var h=gd(l);if(h===null)td(e,s,l,ao,r),_y(e,l);else if(C_(h,e,s,r,l))l.stopPropagation();else if(_y(e,l),s&4&&-1<A_.indexOf(e)){for(;h!==null;){var m=oa(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=As(m.pendingLanes);if(b!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;b;){var R=1<<31-Mt(b);_.entanglements[1]|=R,b&=~R}wn(m),(Te&6)===0&&(Vl=Ot()+500,Zr(0))}}break;case 31:case 13:_=Ds(m,2),_!==null&&kt(_,m,2),ql(),md(m,2)}if(m=gd(l),m===null&&td(e,s,l,ao,r),m===h)break;h=m}h!==null&&l.stopPropagation()}else td(e,s,l,null,r)}}function gd(e){return e=xc(e),yd(e)}var ao=null;function yd(e){if(ao=null,e=la(e),e!==null){var s=u(e);if(s===null)e=null;else{var r=s.tag;if(r===13){if(e=d(s),e!==null)return e;e=null}else if(r===31){if(e=f(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return ao=e,null}function Sy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fw()){case Rf:return 2;case kf:return 8;case Yi:case mw:return 32;case Of:return 268435456;default:return 32}default:return 32}}var xd=!1,gs=null,ys=null,xs=null,ii=new Map,li=new Map,vs=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _y(e,s){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(s.pointerId)}}function oi(e,s,r,l,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:r,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},s!==null&&(s=oa(s),s!==null&&by(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function C_(e,s,r,l,h){switch(s){case"focusin":return gs=oi(gs,e,s,r,l,h),!0;case"dragenter":return ys=oi(ys,e,s,r,l,h),!0;case"mouseover":return xs=oi(xs,e,s,r,l,h),!0;case"pointerover":var m=h.pointerId;return ii.set(m,oi(ii.get(m)||null,e,s,r,l,h)),!0;case"gotpointercapture":return m=h.pointerId,li.set(m,oi(li.get(m)||null,e,s,r,l,h)),!0}return!1}function jy(e){var s=la(e.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=d(r),s!==null){e.blockedOn=s,Bf(e.priority,function(){wy(r)});return}}else if(s===31){if(s=f(r),s!==null){e.blockedOn=s,Bf(e.priority,function(){wy(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ro(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=gd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);yc=l,r.target.dispatchEvent(l),yc=null}else return s=oa(r),s!==null&&by(s),e.blockedOn=r,!1;s.shift()}return!0}function Ty(e,s,r){ro(e)&&r.delete(s)}function R_(){xd=!1,gs!==null&&ro(gs)&&(gs=null),ys!==null&&ro(ys)&&(ys=null),xs!==null&&ro(xs)&&(xs=null),ii.forEach(Ty),li.forEach(Ty)}function io(e,s){e.blockedOn===s&&(e.blockedOn=null,xd||(xd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,R_)))}var lo=null;function Ny(e){lo!==e&&(lo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var s=0;s<e.length;s+=3){var r=e[s],l=e[s+1],h=e[s+2];if(typeof l!="function"){if(yd(l||r)===null)continue;break}var m=oa(r);m!==null&&(e.splice(s,3),s-=3,gu(m,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function $a(e){function s(R){return io(R,e)}gs!==null&&io(gs,e),ys!==null&&io(ys,e),xs!==null&&io(xs,e),ii.forEach(s),li.forEach(s);for(var r=0;r<vs.length;r++){var l=vs[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<vs.length&&(r=vs[0],r.blockedOn===null);)jy(r),r.blockedOn===null&&vs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],m=r[l+1],b=h[Tt]||null;if(typeof m=="function")b||Ny(r);else if(b){var _=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Tt]||null)_=b.formAction;else if(yd(h)!==null)continue}else _=b.action;typeof _=="function"?r[l+1]=_:(r.splice(l,3),l-=3),Ny(r)}}}function Ey(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function vd(e){this._internalRoot=e}oo.prototype.render=vd.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,l=Ht();xy(r,l,e,s,null,null)},oo.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;xy(e.current,2,null,e,null,null),ql(),s[ia]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var s=zf();e={blockedOn:null,target:e,priority:s};for(var r=0;r<vs.length&&s!==0&&s<vs[r].priority;r++);vs.splice(r,0,e),r===0&&jy(e)}};var Ay=t.version;if(Ay!=="19.2.4")throw Error(i(527,Ay,"19.2.4"));K.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(s),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var k_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{yr=co.inject(k_),Dt=co}catch{}}return ui.createRoot=function(e,s){if(!o(e))throw Error(i(299));var r=!1,l="",h=Lp,m=Up,b=zp;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=gy(e,1,!1,null,null,r,l,null,h,m,b,Ey),e[ia]=s.current,ed(e),new vd(s)},ui.hydrateRoot=function(e,s,r){if(!o(e))throw Error(i(299));var l=!1,h="",m=Lp,b=Up,_=zp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),s=gy(e,1,!0,s,r??null,l,h,R,m,b,_,Ey),s.context=yy(null),r=s.current,l=Ht(),l=cc(l),h=as(l),h.callback=null,rs(r,h,l),r=l,s.current.lanes=r,vr(s,r),wn(s),e[ia]=s.current,ed(e),new oo(s)},ui.version="19.2.4",ui}var By;function q_(){if(By)return wd.exports;By=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wd.exports=H_(),wd.exports}var $_=q_(),N=zh();const _o=D_(N);var Py="popstate";function G_(n={}){function t(i,o){let{pathname:u,search:d,hash:f}=i.location;return th("",{pathname:u,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(i,o){return typeof o=="string"?o:_i(o)}return K_(t,a,null,n)}function He(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function pn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I_(){return Math.random().toString(36).substring(2,10)}function Vy(n,t){return{usr:n.state,key:n.key,idx:t}}function th(n,t,a=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?cr(t):t,state:a,key:t&&t.key||i||I_()}}function _i({pathname:n="/",search:t="",hash:a=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function cr(n){let t={};if(n){let a=n.indexOf("#");a>=0&&(t.hash=n.substring(a),n=n.substring(0,a));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function K_(n,t,a,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,f="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){f="POP";let j=x(),C=j==null?null:j-g;g=j,p&&p({action:f,location:T.location,delta:C})}function v(j,C){f="PUSH";let A=th(T.location,j,C);g=x()+1;let E=Vy(A,g),M=T.createHref(A);try{d.pushState(E,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(M)}u&&p&&p({action:f,location:T.location,delta:1})}function w(j,C){f="REPLACE";let A=th(T.location,j,C);g=x();let E=Vy(A,g),M=T.createHref(A);d.replaceState(E,"",M),u&&p&&p({action:f,location:T.location,delta:0})}function S(j){return Y_(j)}let T={get action(){return f},get location(){return n(o,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Py,y),p=j,()=>{o.removeEventListener(Py,y),p=null}},createHref(j){return t(o,j)},createURL:S,encodeLocation(j){let C=S(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:w,go(j){return d.go(j)}};return T}function Y_(n,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),He(a,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:_i(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function qv(n,t,a="/"){return F_(n,t,a,!1)}function F_(n,t,a,i){let o=typeof t=="string"?cr(t):t,u=Yn(o.pathname||"/",a);if(u==null)return null;let d=$v(n);X_(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=ij(u);f=aj(d[p],g,i)}return f}function $v(n,t=[],a=[],i="",o=!1){let u=(d,f,p=o,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&p)return;He(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let y=Kn([i,x.relativePath]),v=a.concat(x);d.children&&d.children.length>0&&(He(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),$v(d.children,t,v,y,p)),!(d.path==null&&!d.index)&&t.push({path:y,score:nj(y,d.index),routesMeta:v})};return n.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))u(d,f);else for(let p of Gv(d.path))u(d,f,!0,p)}),t}function Gv(n){let t=n.split("/");if(t.length===0)return[];let[a,...i]=t,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=Gv(i.join("/")),f=[];return f.push(...d.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...d),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function X_(n){n.sort((t,a)=>t.score!==a.score?a.score-t.score:sj(t.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var W_=/^:[\w-]+$/,J_=3,Q_=2,Z_=1,ej=10,tj=-2,Hy=n=>n==="*";function nj(n,t){let a=n.split("/"),i=a.length;return a.some(Hy)&&(i+=tj),t&&(i+=Q_),a.filter(o=>!Hy(o)).reduce((o,u)=>o+(W_.test(u)?J_:u===""?Z_:ej),i)}function sj(n,t){return n.length===t.length&&n.slice(0,-1).every((i,o)=>i===t[o])?n[n.length-1]-t[t.length-1]:0}function aj(n,t,a=!1){let{routesMeta:i}=n,o={},u="/",d=[];for(let f=0;f<i.length;++f){let p=i[f],g=f===i.length-1,x=u==="/"?t:t.slice(u.length)||"/",y=Do({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),v=p.route;if(!y&&g&&a&&!i[i.length-1].route.index&&(y=Do({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:Kn([u,y.pathname]),pathnameBase:uj(Kn([u,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(u=Kn([u,y.pathnameBase]))}return d}function Do(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[a,i]=rj(n.path,n.caseSensitive,n.end),o=t.match(a);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((g,{paramName:x,isOptional:y},v)=>{if(x==="*"){let S=f[v]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[v];return y&&!w?g[x]=void 0:g[x]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:n}}function rj(n,t=!1,a=!0){pn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function ij(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Yn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,i=n.charAt(a);return i&&i!=="/"?null:n.slice(a)||"/"}var lj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function oj(n,t="/"){let{pathname:a,search:i="",hash:o=""}=typeof n=="string"?cr(n):n,u;return a?(a=a.replace(/\/\/+/g,"/"),a.startsWith("/")?u=qy(a.substring(1),"/"):u=qy(a,t)):u=t,{pathname:u,search:dj(i),hash:hj(o)}}function qy(n,t){let a=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Nd(n,t,a,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cj(n){return n.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Bh(n){let t=cj(n);return t.map((a,i)=>i===t.length-1?a.pathname:a.pathnameBase)}function Ph(n,t,a,i=!1){let o;typeof n=="string"?o=cr(n):(o={...n},He(!o.pathname||!o.pathname.includes("?"),Nd("?","pathname","search",o)),He(!o.pathname||!o.pathname.includes("#"),Nd("#","pathname","hash",o)),He(!o.search||!o.search.includes("#"),Nd("#","search","hash",o)));let u=n===""||o.pathname==="",d=u?"/":o.pathname,f;if(d==null)f=a;else{let y=t.length-1;if(!i&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),y-=1;o.pathname=v.join("/")}f=y>=0?t[y]:"/"}let p=oj(o,f),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Kn=n=>n.join("/").replace(/\/\/+/g,"/"),uj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,hj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,fj=class{constructor(n,t,a,i=!1){this.status=n,this.statusText=t||"",this.internal=i,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function mj(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function pj(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kv(n,t){let a=n;if(typeof a!="string"||!lj.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let i=a,o=!1;if(Iv)try{let u=new URL(window.location.href),d=a.startsWith("//")?new URL(u.protocol+a):new URL(a),f=Yn(d.pathname,t);d.origin===u.origin&&f!=null?a=f+d.search+d.hash:o=!0}catch{pn(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yv=["POST","PUT","PATCH","DELETE"];new Set(Yv);var gj=["GET",...Yv];new Set(gj);var ur=N.createContext(null);ur.displayName="DataRouter";var Ko=N.createContext(null);Ko.displayName="DataRouterState";var yj=N.createContext(!1),Fv=N.createContext({isTransitioning:!1});Fv.displayName="ViewTransition";var xj=N.createContext(new Map);xj.displayName="Fetchers";var vj=N.createContext(null);vj.displayName="Await";var Gt=N.createContext(null);Gt.displayName="Navigation";var Bi=N.createContext(null);Bi.displayName="Location";var gn=N.createContext({outlet:null,matches:[],isDataRoute:!1});gn.displayName="Route";var Vh=N.createContext(null);Vh.displayName="RouteError";var Xv="REACT_ROUTER_ERROR",bj="REDIRECT",wj="ROUTE_ERROR_RESPONSE";function Sj(n){if(n.startsWith(`${Xv}:${bj}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _j(n){if(n.startsWith(`${Xv}:${wj}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new fj(t.status,t.statusText,t.data)}catch{}}function jj(n,{relative:t}={}){He(dr(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=N.useContext(Gt),{hash:o,pathname:u,search:d}=Pi(n,{relative:t}),f=u;return a!=="/"&&(f=u==="/"?a:Kn([a,u])),i.createHref({pathname:f,search:d,hash:o})}function dr(){return N.useContext(Bi)!=null}function yn(){return He(dr(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Bi).location}var Wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jv(n){N.useContext(Gt).static||N.useLayoutEffect(n)}function Nn(){let{isDataRoute:n}=N.useContext(gn);return n?Pj():Tj()}function Tj(){He(dr(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(ur),{basename:t,navigator:a}=N.useContext(Gt),{matches:i}=N.useContext(gn),{pathname:o}=yn(),u=JSON.stringify(Bh(i)),d=N.useRef(!1);return Jv(()=>{d.current=!0}),N.useCallback((p,g={})=>{if(pn(d.current,Wv),!d.current)return;if(typeof p=="number"){a.go(p);return}let x=Ph(p,JSON.parse(u),o,g.relative==="path");n==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Kn([t,x.pathname])),(g.replace?a.replace:a.push)(x,g.state,g)},[t,a,u,o,n])}var Nj=N.createContext(null);function Ej(n){let t=N.useContext(gn).outlet;return N.useMemo(()=>t&&N.createElement(Nj.Provider,{value:n},t),[t,n])}function Pi(n,{relative:t}={}){let{matches:a}=N.useContext(gn),{pathname:i}=yn(),o=JSON.stringify(Bh(a));return N.useMemo(()=>Ph(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function Aj(n,t){return Qv(n,t)}function Qv(n,t,a,i,o){He(dr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(Gt),{matches:d}=N.useContext(gn),f=d[d.length-1],p=f?f.params:{},g=f?f.pathname:"/",x=f?f.pathnameBase:"/",y=f&&f.route;{let A=y&&y.path||"";eb(g,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=yn(),w;if(t){let A=typeof t=="string"?cr(t):t;He(x==="/"||A.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=v;let S=w.pathname||"/",T=S;if(x!=="/"){let A=x.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=qv(n,{pathname:T});pn(y||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Dj(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:Kn([x,u.encodeLocation?u.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?x:Kn([x,u.encodeLocation?u.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),d,a,i,o);return t&&C?N.createElement(Bi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function Cj(){let n=Bj(),t=mj(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),a=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),a?N.createElement("pre",{style:o},a):null,d)}var Rj=N.createElement(Cj,null),Zv=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const a=_j(n.digest);a&&(n=a)}let t=n!==void 0?N.createElement(gn.Provider,{value:this.props.routeContext},N.createElement(Vh.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?N.createElement(kj,{error:n},t):t}};Zv.contextType=yj;var Ed=new WeakMap;function kj({children:n,error:t}){let{basename:a}=N.useContext(Gt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=Sj(t.digest);if(i){let o=Ed.get(t);if(o)throw o;let u=Kv(i.location,a);if(Iv&&!Ed.get(t))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw Ed.set(t,d),d}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function Oj({routeContext:n,match:t,children:a}){let i=N.useContext(ur);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(gn.Provider,{value:n},a)}function Dj(n,t=[],a=null,i=null,o=null){if(n==null){if(!a)return null;if(a.errors)n=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)n=a.matches;else return null}let u=n,d=a?.errors;if(d!=null){let x=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);He(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let f=!1,p=-1;if(a)for(let x=0;x<u.length;x++){let y=u[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:v,errors:w}=a,S=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||S){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=a&&i?(x,y)=>{i(x,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:pj(a.matches),errorInfo:y})}:void 0;return u.reduceRight((x,y,v)=>{let w,S=!1,T=null,j=null;a&&(w=d&&y.route.id?d[y.route.id]:void 0,T=y.route.errorElement||Rj,f&&(p<0&&v===0?(eb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,j=null):p===v&&(S=!0,j=y.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,v+1)),A=()=>{let E;return w?E=T:S?E=j:y.route.Component?E=N.createElement(y.route.Component,null):y.route.element?E=y.route.element:E=x,N.createElement(Oj,{match:y,routeContext:{outlet:x,matches:C,isDataRoute:a!=null},children:E})};return a&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?N.createElement(Zv,{location:a.location,revalidation:a.revalidation,component:T,error:w,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:g}):A()},null)}function Hh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mj(n){let t=N.useContext(ur);return He(t,Hh(n)),t}function Lj(n){let t=N.useContext(Ko);return He(t,Hh(n)),t}function Uj(n){let t=N.useContext(gn);return He(t,Hh(n)),t}function qh(n){let t=Uj(n),a=t.matches[t.matches.length-1];return He(a.route.id,`${n} can only be used on routes that contain a unique "id"`),a.route.id}function zj(){return qh("useRouteId")}function Bj(){let n=N.useContext(Vh),t=Lj("useRouteError"),a=qh("useRouteError");return n!==void 0?n:t.errors?.[a]}function Pj(){let{router:n}=Mj("useNavigate"),t=qh("useNavigate"),a=N.useRef(!1);return Jv(()=>{a.current=!0}),N.useCallback(async(o,u={})=>{pn(a.current,Wv),a.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var $y={};function eb(n,t,a){!t&&!$y[n]&&($y[n]=!0,pn(!1,a))}N.memo(Vj);function Vj({routes:n,future:t,state:a,onError:i}){return Qv(n,void 0,a,i,t)}function ln({to:n,replace:t,state:a,relative:i}){He(dr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Gt);pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=N.useContext(gn),{pathname:d}=yn(),f=Nn(),p=Ph(n,Bh(u),d,i==="path"),g=JSON.stringify(p);return N.useEffect(()=>{f(JSON.parse(g),{replace:t,state:a,relative:i})},[f,g,i,t,a]),null}function $h(n){return Ej(n.context)}function Ne(n){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hj({basename:n="/",children:t=null,location:a,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){He(!dr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[f,o,u,d]);typeof a=="string"&&(a=cr(a));let{pathname:g="/",search:x="",hash:y="",state:v=null,key:w="default"}=a,S=N.useMemo(()=>{let T=Yn(g,f);return T==null?null:{location:{pathname:T,search:x,hash:y,state:v,key:w},navigationType:i}},[f,g,x,y,v,w,i]);return pn(S!=null,`<Router basename="${f}"> is not able to match the URL "${g}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(Gt.Provider,{value:p},N.createElement(Bi.Provider,{children:t,value:S}))}function qj({children:n,location:t}){return Aj(nh(n),t)}function nh(n,t=[]){let a=[];return N.Children.forEach(n,(i,o)=>{if(!N.isValidElement(i))return;let u=[...t,o];if(i.type===N.Fragment){a.push.apply(a,nh(i.props.children,u));return}He(i.type===Ne,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=nh(i.props.children,u)),a.push(d)}),a}var jo="get",To="application/x-www-form-urlencoded";function Yo(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function $j(n){return Yo(n)&&n.tagName.toLowerCase()==="button"}function Gj(n){return Yo(n)&&n.tagName.toLowerCase()==="form"}function Ij(n){return Yo(n)&&n.tagName.toLowerCase()==="input"}function Kj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Yj(n,t){return n.button===0&&(!t||t==="_self")&&!Kj(n)}var uo=null;function Fj(){if(uo===null)try{new FormData(document.createElement("form"),0),uo=!1}catch{uo=!0}return uo}var Xj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ad(n){return n!=null&&!Xj.has(n)?(pn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${To}"`),null):n}function Wj(n,t){let a,i,o,u,d;if(Gj(n)){let f=n.getAttribute("action");i=f?Yn(f,t):null,a=n.getAttribute("method")||jo,o=Ad(n.getAttribute("enctype"))||To,u=new FormData(n)}else if($j(n)||Ij(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Yn(p,t):null,a=n.getAttribute("formmethod")||f.getAttribute("method")||jo,o=Ad(n.getAttribute("formenctype"))||Ad(f.getAttribute("enctype"))||To,u=new FormData(f,n),!Fj()){let{name:g,type:x,value:y}=n;if(x==="image"){let v=g?`${g}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else g&&u.append(g,y)}}else{if(Yo(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=jo,i=null,o=To,d=n}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:a.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gh(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Jj(n,t,a,i){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:t&&Yn(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Qj(n,t){if(n.id in t)return t[n.id];try{let a=await import(n.module);return t[n.id]=a,a}catch(a){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function e1(n,t,a){let i=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let d=await Qj(u,a);return d.links?d.links():[]}return[]}));return a1(i.flat(1).filter(Zj).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gy(n,t,a,i,o,u){let d=(p,g)=>a[g]?p.route.id!==a[g].route.id:!0,f=(p,g)=>a[g].pathname!==p.pathname||a[g].route.path?.endsWith("*")&&a[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>d(p,g)||f(p,g)):u==="data"?t.filter((p,g)=>{let x=i.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function t1(n,t,{includeHydrateFallback:a}={}){return n1(n.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function n1(n){return[...new Set(n)]}function s1(n){let t={},a=Object.keys(n).sort();for(let i of a)t[i]=n[i];return t}function a1(n,t){let a=new Set;return new Set(t),n.reduce((i,o)=>{let u=JSON.stringify(s1(o));return a.has(u)||(a.add(u),i.push({key:u,link:o})),i},[])}function tb(){let n=N.useContext(ur);return Gh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function r1(){let n=N.useContext(Ko);return Gh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ih=N.createContext(void 0);Ih.displayName="FrameworkContext";function nb(){let n=N.useContext(Ih);return Gh(n,"You must render this element inside a <HydratedRouter> element"),n}function i1(n,t){let a=N.useContext(Ih),[i,o]=N.useState(!1),[u,d]=N.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=t,v=N.useRef(null);N.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let T=C=>{C.forEach(A=>{d(A.isIntersecting)})},j=new IntersectionObserver(T,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[n]),N.useEffect(()=>{if(i){let T=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(T)}}},[i]);let w=()=>{o(!0)},S=()=>{o(!1),d(!1)};return a?n!=="intent"?[u,v,{}]:[u,v,{onFocus:di(f,w),onBlur:di(p,S),onMouseEnter:di(g,w),onMouseLeave:di(x,S),onTouchStart:di(y,w)}]:[!1,v,{}]}function di(n,t){return a=>{n&&n(a),a.defaultPrevented||t(a)}}function l1({page:n,...t}){let{router:a}=tb(),i=N.useMemo(()=>qv(a.routes,n,a.basename),[a.routes,n,a.basename]);return i?N.createElement(c1,{page:n,matches:i,...t}):null}function o1(n){let{manifest:t,routeModules:a}=nb(),[i,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return e1(n,t,a).then(d=>{u||o(d)}),()=>{u=!0}},[n,t,a]),i}function c1({page:n,matches:t,...a}){let i=yn(),{future:o,manifest:u,routeModules:d}=nb(),{basename:f}=tb(),{loaderData:p,matches:g}=r1(),x=N.useMemo(()=>Gy(n,t,g,u,i,"data"),[n,t,g,u,i]),y=N.useMemo(()=>Gy(n,t,g,u,i,"assets"),[n,t,g,u,i]),v=N.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,j=!1;if(t.forEach(A=>{let E=u.routes[A.route.id];!E||!E.hasLoader||(!x.some(M=>M.route.id===A.route.id)&&A.route.id in p&&d[A.route.id]?.shouldRevalidate||E.hasClientLoader?j=!0:T.add(A.route.id))}),T.size===0)return[];let C=Jj(n,f,o.unstable_trailingSlashAwareDataRequests,"data");return j&&T.size>0&&C.searchParams.set("_routes",t.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[f,o.unstable_trailingSlashAwareDataRequests,p,i,u,x,t,n,d]),w=N.useMemo(()=>t1(y,u),[y,u]),S=o1(y);return N.createElement(N.Fragment,null,v.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...a})),w.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...a})),S.map(({key:T,link:j})=>N.createElement("link",{key:T,nonce:a.nonce,...j,crossOrigin:j.crossOrigin??a.crossOrigin})))}function u1(...n){return t=>{n.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d1&&(window.__reactRouterVersion="7.13.0")}catch{}function h1({basename:n,children:t,unstable_useTransitions:a,window:i}){let o=N.useRef();o.current==null&&(o.current=G_({window:i,v5Compat:!0}));let u=o.current,[d,f]=N.useState({action:u.action,location:u.location}),p=N.useCallback(g=>{a===!1?f(g):N.startTransition(()=>f(g))},[a]);return N.useLayoutEffect(()=>u.listen(p),[u,p]),N.createElement(Hj,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:a})}var sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=N.forwardRef(function({onClick:t,discover:a="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:f,target:p,to:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v,...w},S){let{basename:T,unstable_useTransitions:j}=N.useContext(Gt),C=typeof g=="string"&&sb.test(g),A=Kv(g,T);g=A.to;let E=jj(g,{relative:o}),[M,B,$]=i1(i,w),Y=p1(g,{replace:d,state:f,target:p,preventScrollReset:x,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:j});function F(me){t&&t(me),me.defaultPrevented||Y(me)}let W=N.createElement("a",{...w,...$,href:A.absoluteURL||E,onClick:A.isExternal||u?t:F,ref:u1(S,B),target:p,"data-discover":!C&&a==="render"?"true":void 0});return M&&!C?N.createElement(N.Fragment,null,W,N.createElement(l1,{page:E})):W});ot.displayName="Link";var Mo=N.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:f,children:p,...g},x){let y=Pi(d,{relative:g.relative}),v=yn(),w=N.useContext(Ko),{navigator:S,basename:T}=N.useContext(Gt),j=w!=null&&b1(y)&&f===!0,C=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,A=v.pathname,E=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(A=A.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&T&&(E=Yn(E,T)||E);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let B=A===C||!o&&A.startsWith(C)&&A.charAt(M)==="/",$=E!=null&&(E===C||!o&&E.startsWith(C)&&E.charAt(C.length)==="/"),Y={isActive:B,isPending:$,isTransitioning:j},F=B?t:void 0,W;typeof i=="function"?W=i(Y):W=[i,B?"active":null,$?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let me=typeof u=="function"?u(Y):u;return N.createElement(ot,{...g,"aria-current":F,className:W,ref:x,style:me,to:d,viewTransition:f},typeof p=="function"?p(Y):p)});Mo.displayName="NavLink";var f1=N.forwardRef(({discover:n="render",fetcherKey:t,navigate:a,reloadDocument:i,replace:o,state:u,method:d=jo,action:f,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v,...w},S)=>{let{unstable_useTransitions:T}=N.useContext(Gt),j=x1(),C=v1(f,{relative:g}),A=d.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&sb.test(f),M=B=>{if(p&&p(B),B.defaultPrevented)return;B.preventDefault();let $=B.nativeEvent.submitter,Y=$?.getAttribute("formmethod")||d,F=()=>j($||B.currentTarget,{fetcherKey:t,method:Y,navigate:a,replace:o,state:u,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:v});T&&a!==!1?N.startTransition(()=>F()):F()};return N.createElement("form",{ref:S,method:A,action:C,onSubmit:i?p:M,...w,"data-discover":!E&&n==="render"?"true":void 0})});f1.displayName="Form";function m1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(n){let t=N.useContext(ur);return He(t,m1(n)),t}function p1(n,{target:t,replace:a,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=Nn(),x=yn(),y=Pi(n,{relative:u});return N.useCallback(v=>{if(Yj(v,t)){v.preventDefault();let w=a!==void 0?a:_i(x)===_i(y),S=()=>g(n,{replace:w,state:i,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f});p?N.startTransition(()=>S()):S()}},[x,g,y,a,i,t,n,o,u,d,f,p])}var g1=0,y1=()=>`__${String(++g1)}__`;function x1(){let{router:n}=ab("useSubmit"),{basename:t}=N.useContext(Gt),a=zj(),i=n.fetch,o=n.navigate;return N.useCallback(async(u,d={})=>{let{action:f,method:p,encType:g,formData:x,body:y}=Wj(u,t);if(d.navigate===!1){let v=d.fetcherKey||y1();await i(v,a,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||p,formEncType:d.encType||g,flushSync:d.flushSync})}else await o(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||p,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:a,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,o,t,a])}function v1(n,{relative:t}={}){let{basename:a}=N.useContext(Gt),i=N.useContext(gn);He(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Pi(n||".",{relative:t})},d=yn();if(n==null){u.search=d.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(x=>x==="")){f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let x=f.toString();u.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Kn([a,u.pathname])),_i(u)}function b1(n,{relative:t}={}){let a=N.useContext(Fv);He(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ab("useViewTransitionState"),o=Pi(n,{relative:t});if(!a.isTransitioning)return!1;let u=Yn(a.currentLocation.pathname,i)||a.currentLocation.pathname,d=Yn(a.nextLocation.pathname,i)||a.nextLocation.pathname;return Do(o.pathname,d)!=null||Do(o.pathname,u)!=null}const Kh=N.createContext({});function Yh(n){const t=N.useRef(null);return t.current===null&&(t.current=n()),t.current}const rb=typeof window<"u",ib=rb?N.useLayoutEffect:N.useEffect,Fo=N.createContext(null);function Fh(n,t){n.indexOf(t)===-1&&n.push(t)}function Lo(n,t){const a=n.indexOf(t);a>-1&&n.splice(a,1)}const Tn=(n,t,a)=>a>t?t:a<n?n:a;let Xh=()=>{};const Fn={},lb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function ob(n){return typeof n=="object"&&n!==null}const cb=n=>/^0[^.\s]+$/u.test(n);function ub(n){let t;return()=>(t===void 0&&(t=n()),t)}const nn=n=>n,w1=(n,t)=>a=>t(n(a)),Vi=(...n)=>n.reduce(w1),ji=(n,t,a)=>{const i=t-n;return i===0?1:(a-n)/i};class Wh{constructor(){this.subscriptions=[]}add(t){return Fh(this.subscriptions,t),()=>Lo(this.subscriptions,t)}notify(t,a,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,a,i);else for(let u=0;u<o;u++){const d=this.subscriptions[u];d&&d(t,a,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fn=n=>n*1e3,tn=n=>n/1e3;function db(n,t){return t?n*(1e3/t):0}const hb=(n,t,a)=>(((1-3*a+3*t)*n+(3*a-6*t))*n+3*t)*n,S1=1e-7,_1=12;function j1(n,t,a,i,o){let u,d,f=0;do d=t+(a-t)/2,u=hb(d,i,o)-n,u>0?a=d:t=d;while(Math.abs(u)>S1&&++f<_1);return d}function Hi(n,t,a,i){if(n===t&&a===i)return nn;const o=u=>j1(u,0,1,n,a);return u=>u===0||u===1?u:hb(o(u),t,i)}const fb=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,mb=n=>t=>1-n(1-t),pb=Hi(.33,1.53,.69,.99),Jh=mb(pb),gb=fb(Jh),yb=n=>(n*=2)<1?.5*Jh(n):.5*(2-Math.pow(2,-10*(n-1))),Qh=n=>1-Math.sin(Math.acos(n)),xb=mb(Qh),vb=fb(Qh),T1=Hi(.42,0,1,1),N1=Hi(0,0,.58,1),bb=Hi(.42,0,.58,1),E1=n=>Array.isArray(n)&&typeof n[0]!="number",wb=n=>Array.isArray(n)&&typeof n[0]=="number",A1={linear:nn,easeIn:T1,easeInOut:bb,easeOut:N1,circIn:Qh,circInOut:vb,circOut:xb,backIn:Jh,backInOut:gb,backOut:pb,anticipate:yb},C1=n=>typeof n=="string",Iy=n=>{if(wb(n)){Xh(n.length===4);const[t,a,i,o]=n;return Hi(t,a,i,o)}else if(C1(n))return A1[n];return n},ho=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function R1(n,t){let a=new Set,i=new Set,o=!1,u=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(x){d.has(x)&&(g.schedule(x),n()),x(f)}const g={schedule:(x,y=!1,v=!1)=>{const S=v&&o?a:i;return y&&d.add(x),S.has(x)||S.add(x),x},cancel:x=>{i.delete(x),d.delete(x)},process:x=>{if(f=x,o){u=!0;return}o=!0,[a,i]=[i,a],a.forEach(p),a.clear(),o=!1,u&&(u=!1,g.process(x))}};return g}const k1=40;function Sb(n,t){let a=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>a=!0,d=ho.reduce((E,M)=>(E[M]=R1(u),E),{}),{setup:f,read:p,resolveKeyframes:g,preUpdate:x,update:y,preRender:v,render:w,postRender:S}=d,T=()=>{const E=Fn.useManualTiming?o.timestamp:performance.now();a=!1,Fn.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(E-o.timestamp,k1),1)),o.timestamp=E,o.isProcessing=!0,f.process(o),p.process(o),g.process(o),x.process(o),y.process(o),v.process(o),w.process(o),S.process(o),o.isProcessing=!1,a&&t&&(i=!1,n(T))},j=()=>{a=!0,i=!0,o.isProcessing||n(T)};return{schedule:ho.reduce((E,M)=>{const B=d[M];return E[M]=($,Y=!1,F=!1)=>(a||j(),B.schedule($,Y,F)),E},{}),cancel:E=>{for(let M=0;M<ho.length;M++)d[ho[M]].cancel(E)},state:o,steps:d}}const{schedule:Le,cancel:Ts,state:gt,steps:Cd}=Sb(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let No;function O1(){No=void 0}const St={now:()=>(No===void 0&&St.set(gt.isProcessing||Fn.useManualTiming?gt.timestamp:performance.now()),No),set:n=>{No=n,queueMicrotask(O1)}},_b=n=>t=>typeof t=="string"&&t.startsWith(n),jb=_b("--"),D1=_b("var(--"),Zh=n=>D1(n)?M1.test(n.split("/*")[0].trim()):!1,M1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Ky(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const hr={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ti={...hr,transform:n=>Tn(0,1,n)},fo={...hr,default:1},yi=n=>Math.round(n*1e5)/1e5,ef=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L1(n){return n==null}const U1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tf=(n,t)=>a=>!!(typeof a=="string"&&U1.test(a)&&a.startsWith(n)||t&&!L1(a)&&Object.prototype.hasOwnProperty.call(a,t)),Tb=(n,t,a)=>i=>{if(typeof i!="string")return i;const[o,u,d,f]=i.match(ef);return{[n]:parseFloat(o),[t]:parseFloat(u),[a]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},z1=n=>Tn(0,255,n),Rd={...hr,transform:n=>Math.round(z1(n))},ta={test:tf("rgb","red"),parse:Tb("red","green","blue"),transform:({red:n,green:t,blue:a,alpha:i=1})=>"rgba("+Rd.transform(n)+", "+Rd.transform(t)+", "+Rd.transform(a)+", "+yi(Ti.transform(i))+")"};function B1(n){let t="",a="",i="",o="";return n.length>5?(t=n.substring(1,3),a=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),a=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),t+=t,a+=a,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const sh={test:tf("#"),parse:B1,transform:ta.transform},qi=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),ws=qi("deg"),jn=qi("%"),Q=qi("px"),P1=qi("vh"),V1=qi("vw"),Yy={...jn,parse:n=>jn.parse(n)/100,transform:n=>jn.transform(n*100)},er={test:tf("hsl","hue"),parse:Tb("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:a,alpha:i=1})=>"hsla("+Math.round(n)+", "+jn.transform(yi(t))+", "+jn.transform(yi(a))+", "+yi(Ti.transform(i))+")"},tt={test:n=>ta.test(n)||sh.test(n)||er.test(n),parse:n=>ta.test(n)?ta.parse(n):er.test(n)?er.parse(n):sh.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ta.transform(n):er.transform(n),getAnimatableNone:n=>{const t=tt.parse(n);return t.alpha=0,tt.transform(t)}},H1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function q1(n){return isNaN(n)&&typeof n=="string"&&(n.match(ef)?.length||0)+(n.match(H1)?.length||0)>0}const Nb="number",Eb="color",$1="var",G1="var(",Fy="${}",I1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ni(n){const t=n.toString(),a=[],i={color:[],number:[],var:[]},o=[];let u=0;const f=t.replace(I1,p=>(tt.test(p)?(i.color.push(u),o.push(Eb),a.push(tt.parse(p))):p.startsWith(G1)?(i.var.push(u),o.push($1),a.push(p)):(i.number.push(u),o.push(Nb),a.push(parseFloat(p))),++u,Fy)).split(Fy);return{values:a,split:f,indexes:i,types:o}}function Ab(n){return Ni(n).values}function Cb(n){const{split:t,types:a}=Ni(n),i=t.length;return o=>{let u="";for(let d=0;d<i;d++)if(u+=t[d],o[d]!==void 0){const f=a[d];f===Nb?u+=yi(o[d]):f===Eb?u+=tt.transform(o[d]):u+=o[d]}return u}}const K1=n=>typeof n=="number"?0:tt.test(n)?tt.getAnimatableNone(n):n;function Y1(n){const t=Ab(n);return Cb(n)(t.map(K1))}const mn={test:q1,parse:Ab,createTransformer:Cb,getAnimatableNone:Y1};function kd(n,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?n+(t-n)*6*a:a<1/2?t:a<2/3?n+(t-n)*(2/3-a)*6:n}function F1({hue:n,saturation:t,lightness:a,alpha:i}){n/=360,t/=100,a/=100;let o=0,u=0,d=0;if(!t)o=u=d=a;else{const f=a<.5?a*(1+t):a+t-a*t,p=2*a-f;o=kd(p,f,n+1/3),u=kd(p,f,n),d=kd(p,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:i}}function Uo(n,t){return a=>a>0?t:n}const qe=(n,t,a)=>n+(t-n)*a,Od=(n,t,a)=>{const i=n*n,o=a*(t*t-i)+i;return o<0?0:Math.sqrt(o)},X1=[sh,ta,er],W1=n=>X1.find(t=>t.test(n));function Xy(n){const t=W1(n);if(!t)return!1;let a=t.parse(n);return t===er&&(a=F1(a)),a}const Wy=(n,t)=>{const a=Xy(n),i=Xy(t);if(!a||!i)return Uo(n,t);const o={...a};return u=>(o.red=Od(a.red,i.red,u),o.green=Od(a.green,i.green,u),o.blue=Od(a.blue,i.blue,u),o.alpha=qe(a.alpha,i.alpha,u),ta.transform(o))},ah=new Set(["none","hidden"]);function J1(n,t){return ah.has(n)?a=>a<=0?n:t:a=>a>=1?t:n}function Q1(n,t){return a=>qe(n,t,a)}function nf(n){return typeof n=="number"?Q1:typeof n=="string"?Zh(n)?Uo:tt.test(n)?Wy:tT:Array.isArray(n)?Rb:typeof n=="object"?tt.test(n)?Wy:Z1:Uo}function Rb(n,t){const a=[...n],i=a.length,o=n.map((u,d)=>nf(u)(u,t[d]));return u=>{for(let d=0;d<i;d++)a[d]=o[d](u);return a}}function Z1(n,t){const a={...n,...t},i={};for(const o in a)n[o]!==void 0&&t[o]!==void 0&&(i[o]=nf(n[o])(n[o],t[o]));return o=>{for(const u in i)a[u]=i[u](o);return a}}function eT(n,t){const a=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],d=n.indexes[u][i[u]],f=n.values[d]??0;a[o]=f,i[u]++}return a}const tT=(n,t)=>{const a=mn.createTransformer(t),i=Ni(n),o=Ni(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?ah.has(n)&&!o.values.length||ah.has(t)&&!i.values.length?J1(n,t):Vi(Rb(eT(i,o),o.values),a):Uo(n,t)};function kb(n,t,a){return typeof n=="number"&&typeof t=="number"&&typeof a=="number"?qe(n,t,a):nf(n)(n,t)}const nT=n=>{const t=({timestamp:a})=>n(a);return{start:(a=!0)=>Le.update(t,a),stop:()=>Ts(t),now:()=>gt.isProcessing?gt.timestamp:St.now()}},Ob=(n,t,a=10)=>{let i="";const o=Math.max(Math.round(t/a),2);for(let u=0;u<o;u++)i+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},zo=2e4;function sf(n){let t=0;const a=50;let i=n.next(t);for(;!i.done&&t<zo;)t+=a,i=n.next(t);return t>=zo?1/0:t}function sT(n,t=100,a){const i=a({...n,keyframes:[0,t]}),o=Math.min(sf(i),zo);return{type:"keyframes",ease:u=>i.next(o*u).value/t,duration:tn(o)}}const aT=5;function Db(n,t,a){const i=Math.max(t-aT,0);return db(a-n(i),t-i)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dd=.001;function rT({duration:n=Ke.duration,bounce:t=Ke.bounce,velocity:a=Ke.velocity,mass:i=Ke.mass}){let o,u,d=1-t;d=Tn(Ke.minDamping,Ke.maxDamping,d),n=Tn(Ke.minDuration,Ke.maxDuration,tn(n)),d<1?(o=g=>{const x=g*d,y=x*n,v=x-a,w=rh(g,d),S=Math.exp(-y);return Dd-v/w*S},u=g=>{const y=g*d*n,v=y*a+a,w=Math.pow(d,2)*Math.pow(g,2)*n,S=Math.exp(-y),T=rh(Math.pow(g,2),d);return(-o(g)+Dd>0?-1:1)*((v-w)*S)/T}):(o=g=>{const x=Math.exp(-g*n),y=(g-a)*n+1;return-Dd+x*y},u=g=>{const x=Math.exp(-g*n),y=(a-g)*(n*n);return x*y});const f=5/n,p=lT(o,u,f);if(n=fn(n),isNaN(p))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:n};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:d*2*Math.sqrt(i*g),duration:n}}}const iT=12;function lT(n,t,a){let i=a;for(let o=1;o<iT;o++)i=i-n(i)/t(i);return i}function rh(n,t){return n*Math.sqrt(1-t*t)}const oT=["duration","bounce"],cT=["stiffness","damping","mass"];function Jy(n,t){return t.some(a=>n[a]!==void 0)}function uT(n){let t={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...n};if(!Jy(n,cT)&&Jy(n,oT))if(n.visualDuration){const a=n.visualDuration,i=2*Math.PI/(a*1.2),o=i*i,u=2*Tn(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ke.mass,stiffness:o,damping:u}}else{const a=rT(n);t={...t,...a,mass:Ke.mass},t.isResolvedFromDuration=!0}return t}function Bo(n=Ke.visualDuration,t=Ke.bounce){const a=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:o}=a;const u=a.keyframes[0],d=a.keyframes[a.keyframes.length-1],f={done:!1,value:u},{stiffness:p,damping:g,mass:x,duration:y,velocity:v,isResolvedFromDuration:w}=uT({...a,velocity:-tn(a.velocity||0)}),S=v||0,T=g/(2*Math.sqrt(p*x)),j=d-u,C=tn(Math.sqrt(p/x)),A=Math.abs(j)<5;i||(i=A?Ke.restSpeed.granular:Ke.restSpeed.default),o||(o=A?Ke.restDelta.granular:Ke.restDelta.default);let E;if(T<1){const B=rh(C,T);E=$=>{const Y=Math.exp(-T*C*$);return d-Y*((S+T*C*j)/B*Math.sin(B*$)+j*Math.cos(B*$))}}else if(T===1)E=B=>d-Math.exp(-C*B)*(j+(S+C*j)*B);else{const B=C*Math.sqrt(T*T-1);E=$=>{const Y=Math.exp(-T*C*$),F=Math.min(B*$,300);return d-Y*((S+T*C*j)*Math.sinh(F)+B*j*Math.cosh(F))/B}}const M={calculatedDuration:w&&y||null,next:B=>{const $=E(B);if(w)f.done=B>=y;else{let Y=B===0?S:0;T<1&&(Y=B===0?fn(S):Db(E,B,$));const F=Math.abs(Y)<=i,W=Math.abs(d-$)<=o;f.done=F&&W}return f.value=f.done?d:$,f},toString:()=>{const B=Math.min(sf(M),zo),$=Ob(Y=>M.next(B*Y).value,B,30);return B+"ms "+$},toTransition:()=>{}};return M}Bo.applyToOptions=n=>{const t=sT(n,100,Bo);return n.ease=t.ease,n.duration=fn(t.duration),n.type="keyframes",n};function ih({keyframes:n,velocity:t=0,power:a=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:d,min:f,max:p,restDelta:g=.5,restSpeed:x}){const y=n[0],v={done:!1,value:y},w=F=>f!==void 0&&F<f||p!==void 0&&F>p,S=F=>f===void 0?p:p===void 0||Math.abs(f-F)<Math.abs(p-F)?f:p;let T=a*t;const j=y+T,C=d===void 0?j:d(j);C!==j&&(T=C-y);const A=F=>-T*Math.exp(-F/i),E=F=>C+A(F),M=F=>{const W=A(F),me=E(F);v.done=Math.abs(W)<=g,v.value=v.done?C:me};let B,$;const Y=F=>{w(v.value)&&(B=F,$=Bo({keyframes:[v.value,S(v.value)],velocity:Db(E,F,v.value),damping:o,stiffness:u,restDelta:g,restSpeed:x}))};return Y(0),{calculatedDuration:null,next:F=>{let W=!1;return!$&&B===void 0&&(W=!0,M(F),Y(F)),B!==void 0&&F>=B?$.next(F-B):(!W&&M(F),v)}}}function dT(n,t,a){const i=[],o=a||Fn.mix||kb,u=n.length-1;for(let d=0;d<u;d++){let f=o(n[d],n[d+1]);if(t){const p=Array.isArray(t)?t[d]||nn:t;f=Vi(p,f)}i.push(f)}return i}function hT(n,t,{clamp:a=!0,ease:i,mixer:o}={}){const u=n.length;if(Xh(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=dT(t,i,o),p=f.length,g=x=>{if(d&&x<n[0])return t[0];let y=0;if(p>1)for(;y<n.length-2&&!(x<n[y+1]);y++);const v=ji(n[y],n[y+1],x);return f[y](v)};return a?x=>g(Tn(n[0],n[u-1],x)):g}function fT(n,t){const a=n[n.length-1];for(let i=1;i<=t;i++){const o=ji(0,t,i);n.push(qe(a,1,o))}}function mT(n){const t=[0];return fT(t,n.length-1),t}function pT(n,t){return n.map(a=>a*t)}function gT(n,t){return n.map(()=>t||bb).splice(0,n.length-1)}function xi({duration:n=300,keyframes:t,times:a,ease:i="easeInOut"}){const o=E1(i)?i.map(Iy):Iy(i),u={done:!1,value:t[0]},d=pT(a&&a.length===t.length?a:mT(t),n),f=hT(d,t,{ease:Array.isArray(o)?o:gT(t,o)});return{calculatedDuration:n,next:p=>(u.value=f(p),u.done=p>=n,u)}}const yT=n=>n!==null;function af(n,{repeat:t,repeatType:a="loop"},i,o=1){const u=n.filter(yT),f=o<0||t&&a!=="loop"&&t%2===1?0:u.length-1;return!f||i===void 0?u[f]:i}const xT={decay:ih,inertia:ih,tween:xi,keyframes:xi,spring:Bo};function Mb(n){typeof n.type=="string"&&(n.type=xT[n.type])}class rf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const vT=n=>n/100;class lf extends rf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==St.now()&&this.tick(St.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Mb(t);const{type:a=xi,repeat:i=0,repeatDelay:o=0,repeatType:u,velocity:d=0}=t;let{keyframes:f}=t;const p=a||xi;p!==xi&&typeof f[0]!="number"&&(this.mixKeyframes=Vi(vT,kb(f[0],f[1])),f=[0,100]);const g=p({...t,keyframes:f});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...f].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=sf(g));const{calculatedDuration:x}=g;this.calculatedDuration=x,this.resolvedDuration=x+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=g}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:i,totalDuration:o,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:x,repeat:y,repeatType:v,repeatDelay:w,type:S,onUpdate:T,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const C=this.currentTime-g*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,M=i;if(y){const F=Math.min(this.currentTime,o)/f;let W=Math.floor(F),me=F%1;!me&&F>=1&&(me=1),me===1&&W--,W=Math.min(W,y+1),W%2&&(v==="reverse"?(me=1-me,w&&(me-=w/f)):v==="mirror"&&(M=d)),E=Tn(0,1,me)*f}const B=A?{done:!1,value:x[0]}:M.next(E);u&&(B.value=u(B.value));let{done:$}=B;!A&&p!==null&&($=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return Y&&S!==ih&&(B.value=af(x,this.options,j,this.speed)),T&&T(B.value),Y&&this.finish(),B}then(t,a){return this.finished.then(t,a)}get duration(){return tn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tn(t)}get time(){return tn(this.currentTime)}set time(t){t=fn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(St.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=nT,startTime:a}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=a??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(St.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function bT(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const na=n=>n*180/Math.PI,lh=n=>{const t=na(Math.atan2(n[1],n[0]));return oh(t)},wT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:lh,rotateZ:lh,skewX:n=>na(Math.atan(n[1])),skewY:n=>na(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},oh=n=>(n=n%360,n<0&&(n+=360),n),Qy=lh,Zy=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),ex=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ST={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Zy,scaleY:ex,scale:n=>(Zy(n)+ex(n))/2,rotateX:n=>oh(na(Math.atan2(n[6],n[5]))),rotateY:n=>oh(na(Math.atan2(-n[2],n[0]))),rotateZ:Qy,rotate:Qy,skewX:n=>na(Math.atan(n[4])),skewY:n=>na(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function ch(n){return n.includes("scale")?1:0}function uh(n,t){if(!n||n==="none")return ch(t);const a=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(a)i=ST,o=a;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=wT,o=f}if(!o)return ch(t);const u=i[t],d=o[1].split(",").map(jT);return typeof u=="function"?u(d):d[u]}const _T=(n,t)=>{const{transform:a="none"}=getComputedStyle(n);return uh(a,t)};function jT(n){return parseFloat(n.trim())}const fr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mr=new Set(fr),tx=n=>n===hr||n===Q,TT=new Set(["x","y","z"]),NT=fr.filter(n=>!TT.has(n));function ET(n){const t=[];return NT.forEach(a=>{const i=n.getValue(a);i!==void 0&&(t.push([a,i.get()]),i.set(a.startsWith("scale")?1:0))}),t}const js={width:({x:n},{paddingLeft:t="0",paddingRight:a="0"})=>n.max-n.min-parseFloat(t)-parseFloat(a),height:({y:n},{paddingTop:t="0",paddingBottom:a="0"})=>n.max-n.min-parseFloat(t)-parseFloat(a),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>uh(t,"x"),y:(n,{transform:t})=>uh(t,"y")};js.translateX=js.x;js.translateY=js.y;const aa=new Set;let dh=!1,hh=!1,fh=!1;function Lb(){if(hh){const n=Array.from(aa).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),a=new Map;t.forEach(i=>{const o=ET(i);o.length&&(a.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=a.get(i);o&&o.forEach(([u,d])=>{i.getValue(u)?.set(d)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}hh=!1,dh=!1,aa.forEach(n=>n.complete(fh)),aa.clear()}function Ub(){aa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(hh=!0)})}function AT(){fh=!0,Ub(),Lb(),fh=!1}class of{constructor(t,a,i,o,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=i,this.motionValue=o,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(aa.add(this),dh||(dh=!0,Le.read(Ub),Le.resolveKeyframes(Lb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:i,motionValue:o}=this;if(t[0]===null){const u=o?.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&a){const f=i.readValue(a,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),o&&u===void 0&&o.set(t[0])}bT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),aa.delete(this)}cancel(){this.state==="scheduled"&&(aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CT=n=>n.startsWith("--");function RT(n,t,a){CT(t)?n.style.setProperty(t,a):n.style[t]=a}const kT={};function zb(n,t){const a=ub(n);return()=>kT[t]??a()}const OT=zb(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),Bb=zb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pi=([n,t,a,i])=>`cubic-bezier(${n}, ${t}, ${a}, ${i})`,nx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pi([0,.65,.55,1]),circOut:pi([.55,0,1,.45]),backIn:pi([.31,.01,.66,-.59]),backOut:pi([.33,1.53,.69,.99])};function Pb(n,t){if(n)return typeof n=="function"?Bb()?Ob(n,t):"ease-out":wb(n)?pi(n):Array.isArray(n)?n.map(a=>Pb(a,t)||nx.easeOut):nx[n]}function DT(n,t,a,{delay:i=0,duration:o=300,repeat:u=0,repeatType:d="loop",ease:f="easeOut",times:p}={},g=void 0){const x={[t]:a};p&&(x.offset=p);const y=Pb(f,o);Array.isArray(y)&&(x.easing=y);const v={delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(v.pseudoElement=g),n.animate(x,v)}function Vb(n){return typeof n=="function"&&"applyToOptions"in n}function MT({type:n,...t}){return Vb(n)&&Bb()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Hb extends rf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:a,name:i,keyframes:o,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:f,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,Xh(typeof t.type!="string");const g=MT(t);this.animation=DT(a,i,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const x=af(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(x):RT(a,i,x),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return tn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tn(t)}get time(){return tn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=fn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&OT()?(this.animation.timeline=t,nn):a(this)}}const qb={anticipate:yb,backInOut:gb,circInOut:vb};function LT(n){return n in qb}function UT(n){typeof n.ease=="string"&&LT(n.ease)&&(n.ease=qb[n.ease])}const Md=10;class zT extends Hb{constructor(t){UT(t),Mb(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:i,onComplete:o,element:u,...d}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const f=new lf({...d,autoplay:!1}),p=Math.max(Md,St.now()-this.startTime),g=Tn(0,Md,p-Md);a.setWithVelocity(f.sample(Math.max(0,p-g)).value,f.sample(p).value,g),f.stop()}}const sx=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(mn.test(n)||n==="0")&&!n.startsWith("url("));function BT(n){const t=n[0];if(n.length===1)return!0;for(let a=0;a<n.length;a++)if(n[a]!==t)return!0}function PT(n,t,a,i){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],d=sx(o,t),f=sx(u,t);return!d||!f?!1:BT(n)||(a==="spring"||Vb(a))&&i}function mh(n){n.duration=0,n.type="keyframes"}const VT=new Set(["opacity","clipPath","filter","transform"]),HT=ub(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qT(n){const{motionValue:t,name:a,repeatDelay:i,repeatType:o,damping:u,type:d}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return HT()&&a&&VT.has(a)&&(a!=="transform"||!g)&&!p&&!i&&o!=="mirror"&&u!==0&&d!=="inertia"}const $T=40;class GT extends rf{constructor({autoplay:t=!0,delay:a=0,type:i="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:d="loop",keyframes:f,name:p,motionValue:g,element:x,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=St.now();const v={autoplay:t,delay:a,type:i,repeat:o,repeatDelay:u,repeatType:d,name:p,motionValue:g,element:x,...y},w=x?.KeyframeResolver||of;this.keyframeResolver=new w(f,(S,T,j)=>this.onKeyframesResolved(S,T,v,!j),p,g,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,i,o){this.keyframeResolver=void 0;const{name:u,type:d,velocity:f,delay:p,isHandoff:g,onUpdate:x}=i;this.resolvedAt=St.now(),PT(t,u,d,f)||((Fn.instantAnimations||!p)&&x?.(af(t,i,a)),t[0]=t[t.length-1],mh(i),i.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>$T?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...i,keyframes:t},w=!g&&qT(v),S=v.motionValue?.owner?.current,T=w?new zT({...v,element:S}):new lf(v);T.finished.then(()=>{this.notifyFinished()}).catch(nn),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function $b(n,t,a,i=0,o=1){const u=Array.from(n).sort((g,x)=>g.sortNodePosition(x)).indexOf(t),d=n.size,f=(d-1)*i;return typeof a=="function"?a(u,d):o===1?u*i:f-u*i}const IT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KT(n){const t=IT.exec(n);if(!t)return[,];const[,a,i,o]=t;return[`--${a??i}`,o]}function Gb(n,t,a=1){const[i,o]=KT(n);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const d=u.trim();return lb(d)?parseFloat(d):d}return Zh(o)?Gb(o,t,a+1):o}const YT={type:"spring",stiffness:500,damping:25,restSpeed:10},FT=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),XT={type:"keyframes",duration:.8},WT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JT=(n,{keyframes:t})=>t.length>2?XT:mr.has(n)?n.startsWith("scale")?FT(t[1]):YT:WT,QT=n=>n!==null;function ZT(n,{repeat:t,repeatType:a="loop"},i){const o=n.filter(QT),u=t&&a!=="loop"&&t%2===1?0:o.length-1;return o[u]}function Ib(n,t){if(n?.inherit&&t){const{inherit:a,...i}=n;return{...t,...i}}return n}function cf(n,t){const a=n?.[t]??n?.default??n;return a!==n?Ib(a,n):a}function eN({when:n,delay:t,delayChildren:a,staggerChildren:i,staggerDirection:o,repeat:u,repeatType:d,repeatDelay:f,from:p,elapsed:g,...x}){return!!Object.keys(x).length}const uf=(n,t,a,i={},o,u)=>d=>{const f=cf(i,n)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-fn(p);const x={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:v=>{t.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:u?void 0:o};eN(f)||Object.assign(x,JT(n,x)),x.duration&&(x.duration=fn(x.duration)),x.repeatDelay&&(x.repeatDelay=fn(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let y=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(mh(x),x.delay===0&&(y=!0)),(Fn.instantAnimations||Fn.skipAnimations||o?.shouldSkipAnimations)&&(y=!0,mh(x),x.delay=0),x.allowFlatten=!f.type&&!f.ease,y&&!u&&t.get()!==void 0){const v=ZT(x.keyframes,f);if(v!==void 0){Le.update(()=>{x.onUpdate(v),x.onComplete()});return}}return f.isSync?new lf(x):new GT(x)};function ax(n){const t=[{},{}];return n?.values.forEach((a,i)=>{t[0][i]=a.get(),t[1][i]=a.getVelocity()}),t}function df(n,t,a,i){if(typeof t=="function"){const[o,u]=ax(i);t=t(a!==void 0?a:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=ax(i);t=t(a!==void 0?a:n.custom,o,u)}return t}function ir(n,t,a){const i=n.getProps();return df(i,t,a!==void 0?a:i.custom,n)}const Kb=new Set(["width","height","top","left","right","bottom",...fr]),rx=30,tN=n=>!isNaN(parseFloat(n));class nN{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=St.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=St.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=tN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new Wh);const i=this.events[t].add(a);return t==="change"?()=>{i(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,i){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=St.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>rx)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,rx);return db(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function or(n,t){return new nN(n,t)}const ph=n=>Array.isArray(n);function sN(n,t,a){n.hasValue(t)?n.getValue(t).set(a):n.addValue(t,or(a))}function aN(n){return ph(n)?n[n.length-1]||0:n}function rN(n,t){const a=ir(n,t);let{transitionEnd:i={},transition:o={},...u}=a||{};u={...u,...i};for(const d in u){const f=aN(u[d]);sN(n,d,f)}}const vt=n=>!!(n&&n.getVelocity);function iN(n){return!!(vt(n)&&n.add)}function gh(n,t){const a=n.getValue("willChange");if(iN(a))return a.add(t);if(!a&&Fn.WillChange){const i=new Fn.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function hf(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const lN="framerAppearId",Yb="data-"+hf(lN);function Fb(n){return n.props[Yb]}function oN({protectedKeys:n,needsAnimating:t},a){const i=n.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,i}function Xb(n,t,{delay:a=0,transitionOverride:i,type:o}={}){let{transition:u,transitionEnd:d,...f}=t;const p=n.getDefaultTransition();u=u?Ib(u,p):p;const g=u?.reduceMotion;i&&(u=i);const x=[],y=o&&n.animationState&&n.animationState.getState()[o];for(const v in f){const w=n.getValue(v,n.latestValues[v]??null),S=f[v];if(S===void 0||y&&oN(y,v))continue;const T={delay:a,...cf(u||{},v)},j=w.get();if(j!==void 0&&!w.isAnimating&&!Array.isArray(S)&&S===j&&!T.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=Fb(n);if(M){const B=window.MotionHandoffAnimation(M,v,Le);B!==null&&(T.startTime=B,C=!0)}}gh(n,v);const A=g??n.shouldReduceMotion;w.start(uf(v,w,S,A&&Kb.has(v)?{type:!1}:T,n,C));const E=w.animation;E&&x.push(E)}if(d){const v=()=>Le.update(()=>{d&&rN(n,d)});x.length?Promise.all(x).then(v):v()}return x}function yh(n,t,a={}){const i=ir(n,t,a.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=i||{};a.transitionOverride&&(o=a.transitionOverride);const u=i?()=>Promise.all(Xb(n,i,a)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:y}=o;return cN(n,t,p,g,x,y,a)}:()=>Promise.resolve(),{when:f}=o;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(a.delay)])}function cN(n,t,a=0,i=0,o=0,u=1,d){const f=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),f.push(yh(p,t,{...d,delay:a+(typeof i=="function"?0:i)+$b(n.variantChildren,p,i,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(f)}function uN(n,t,a={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(u=>yh(n,u,a));i=Promise.all(o)}else if(typeof t=="string")i=yh(n,t,a);else{const o=typeof t=="function"?ir(n,t,a.custom):t;i=Promise.all(Xb(n,o,a))}return i.then(()=>{n.notify("AnimationComplete",t)})}const dN={test:n=>n==="auto",parse:n=>n},Wb=n=>t=>t.test(n),Jb=[hr,Q,jn,ws,V1,P1,dN],ix=n=>Jb.find(Wb(n));function hN(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||cb(n):!0}const fN=new Set(["brightness","contrast","saturate","opacity"]);function mN(n){const[t,a]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=a.match(ef)||[];if(!i)return n;const o=a.replace(i,"");let u=fN.has(t)?1:0;return i!==a&&(u*=100),t+"("+u+o+")"}const pN=/\b([a-z-]*)\(.*?\)/gu,xh={...mn,getAnimatableNone:n=>{const t=n.match(pN);return t?t.map(mN).join(" "):n}},vh={...mn,getAnimatableNone:n=>{const t=mn.parse(n);return mn.createTransformer(n)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},lx={...hr,transform:Math.round},gN={rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:fo,scaleX:fo,scaleY:fo,scaleZ:fo,skew:ws,skewX:ws,skewY:ws,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:Ti,originX:Yy,originY:Yy,originZ:Q},ff={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,inset:Q,insetBlock:Q,insetBlockStart:Q,insetBlockEnd:Q,insetInline:Q,insetInlineStart:Q,insetInlineEnd:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,paddingBlock:Q,paddingBlockStart:Q,paddingBlockEnd:Q,paddingInline:Q,paddingInlineStart:Q,paddingInlineEnd:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,marginBlock:Q,marginBlockStart:Q,marginBlockEnd:Q,marginInline:Q,marginInlineStart:Q,marginInlineEnd:Q,fontSize:Q,backgroundPositionX:Q,backgroundPositionY:Q,...gN,zIndex:lx,fillOpacity:Ti,strokeOpacity:Ti,numOctaves:lx},yN={...ff,color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,filter:xh,WebkitFilter:xh,mask:vh,WebkitMask:vh},Qb=n=>yN[n],xN=new Set([xh,vh]);function Zb(n,t){let a=Qb(n);return xN.has(a)||(a=mn),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const vN=new Set(["auto","none","0"]);function bN(n,t,a){let i=0,o;for(;i<n.length&&!o;){const u=n[i];typeof u=="string"&&!vN.has(u)&&Ni(u).values.length&&(o=n[i]),i++}if(o&&a)for(const u of t)n[u]=Zb(a,o)}class wN extends of{constructor(t,a,i,o,u){super(t,a,i,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:i}=this;if(!a||!a.current)return;super.readKeyframes();for(let x=0;x<t.length;x++){let y=t[x];if(typeof y=="string"&&(y=y.trim(),Zh(y))){const v=Gb(y,a.current);v!==void 0&&(t[x]=v),x===t.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!Kb.has(i)||t.length!==2)return;const[o,u]=t,d=ix(o),f=ix(u),p=Ky(o),g=Ky(u);if(p!==g&&js[i]){this.needsMeasurement=!0;return}if(d!==f)if(tx(d)&&tx(f))for(let x=0;x<t.length;x++){const y=t[x];typeof y=="string"&&(t[x]=parseFloat(y))}else js[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,i=[];for(let o=0;o<t.length;o++)(t[o]===null||hN(t[o]))&&i.push(o);i.length&&bN(t,i,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=js[i](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const o=a[a.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(a);o&&o.jump(this.measuredOrigin,!1);const u=i.length-1,d=i[u];i[u]=js[a](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const SN=new Set(["opacity","clipPath","filter","transform"]);function mf(n,t,a){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){const o=document.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n).filter(i=>i!=null)}const e0=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function bh(n){return ob(n)&&"offsetHeight"in n}const{schedule:pf}=Sb(queueMicrotask,!1),un={x:!1,y:!1};function t0(){return un.x||un.y}function _N(n){return n==="x"||n==="y"?un[n]?null:(un[n]=!0,()=>{un[n]=!1}):un.x||un.y?null:(un.x=un.y=!0,()=>{un.x=un.y=!1})}function n0(n,t){const a=mf(n),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[a,o,()=>i.abort()]}function jN(n){return!(n.pointerType==="touch"||t0())}function TN(n,t,a={}){const[i,o,u]=n0(n,a);return i.forEach(d=>{let f=!1,p=!1,g;const x=()=>{d.removeEventListener("pointerleave",S)},y=j=>{g&&(g(j),g=void 0),x()},v=j=>{f=!1,window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),p&&(p=!1,y(j))},w=()=>{f=!0,window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",v,o)},S=j=>{if(j.pointerType!=="touch"){if(f){p=!0;return}y(j)}},T=j=>{if(!jN(j))return;p=!1;const C=t(d,j);typeof C=="function"&&(g=C,d.addEventListener("pointerleave",S,o))};d.addEventListener("pointerenter",T,o),d.addEventListener("pointerdown",w,o)}),u}const s0=(n,t)=>t?n===t?!0:s0(n,t.parentElement):!1,gf=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,NN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function EN(n){return NN.has(n.tagName)||n.isContentEditable===!0}const AN=new Set(["INPUT","SELECT","TEXTAREA"]);function CN(n){return AN.has(n.tagName)||n.isContentEditable===!0}const Eo=new WeakSet;function ox(n){return t=>{t.key==="Enter"&&n(t)}}function Ld(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RN=(n,t)=>{const a=n.currentTarget;if(!a)return;const i=ox(()=>{if(Eo.has(a))return;Ld(a,"down");const o=ox(()=>{Ld(a,"up")}),u=()=>Ld(a,"cancel");a.addEventListener("keyup",o,t),a.addEventListener("blur",u,t)});a.addEventListener("keydown",i,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",i),t)};function cx(n){return gf(n)&&!t0()}const ux=new WeakSet;function kN(n,t,a={}){const[i,o,u]=n0(n,a),d=f=>{const p=f.currentTarget;if(!cx(f)||ux.has(f))return;Eo.add(p),a.stopPropagation&&ux.add(f);const g=t(p,f),x=(w,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Eo.has(p)&&Eo.delete(p),cx(w)&&typeof g=="function"&&g(w,{success:S})},y=w=>{x(w,p===window||p===document||a.useGlobalTarget||s0(p,w.target))},v=w=>{x(w,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",v,o)};return i.forEach(f=>{(a.useGlobalTarget?window:f).addEventListener("pointerdown",d,o),bh(f)&&(f.addEventListener("focus",g=>RN(g,o)),!EN(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),u}function yf(n){return ob(n)&&"ownerSVGElement"in n}const Ao=new WeakMap;let Co;const a0=(n,t,a)=>(i,o)=>o&&o[0]?o[0][n+"Size"]:yf(i)&&"getBBox"in i?i.getBBox()[t]:i[a],ON=a0("inline","width","offsetWidth"),DN=a0("block","height","offsetHeight");function MN({target:n,borderBoxSize:t}){Ao.get(n)?.forEach(a=>{a(n,{get width(){return ON(n,t)},get height(){return DN(n,t)}})})}function LN(n){n.forEach(MN)}function UN(){typeof ResizeObserver>"u"||(Co=new ResizeObserver(LN))}function zN(n,t){Co||UN();const a=mf(n);return a.forEach(i=>{let o=Ao.get(i);o||(o=new Set,Ao.set(i,o)),o.add(t),Co?.observe(i)}),()=>{a.forEach(i=>{const o=Ao.get(i);o?.delete(t),o?.size||Co?.unobserve(i)})}}const Ro=new Set;let tr;function BN(){tr=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ro.forEach(t=>t(n))},window.addEventListener("resize",tr)}function PN(n){return Ro.add(n),tr||BN(),()=>{Ro.delete(n),!Ro.size&&typeof tr=="function"&&(window.removeEventListener("resize",tr),tr=void 0)}}function dx(n,t){return typeof n=="function"?PN(n):zN(n,t)}function VN(n){return yf(n)&&n.tagName==="svg"}const HN=[...Jb,tt,mn],qN=n=>HN.find(Wb(n)),hx=()=>({translate:0,scale:1,origin:0,originPoint:0}),nr=()=>({x:hx(),y:hx()}),fx=()=>({min:0,max:0}),rt=()=>({x:fx(),y:fx()}),$N=new WeakMap;function Xo(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ei(n){return typeof n=="string"||Array.isArray(n)}const xf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vf=["initial",...xf];function Wo(n){return Xo(n.animate)||vf.some(t=>Ei(n[t]))}function r0(n){return!!(Wo(n)||n.variants)}function GN(n,t,a){for(const i in t){const o=t[i],u=a[i];if(vt(o))n.addValue(i,o);else if(vt(u))n.addValue(i,or(o,{owner:n}));else if(u!==o)if(n.hasValue(i)){const d=n.getValue(i);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=n.getStaticValue(i);n.addValue(i,or(d!==void 0?d:o,{owner:n}))}}for(const i in a)t[i]===void 0&&n.removeValue(i);return t}const wh={current:null},i0={current:!1},IN=typeof window<"u";function KN(){if(i0.current=!0,!!IN)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>wh.current=n.matches;n.addEventListener("change",t),t()}else wh.current=!1}const mx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Po={};function l0(n){Po=n}function YN(){return Po}class FN{scrapeMotionValuesFromProps(t,a,i){return{}}constructor({parent:t,props:a,presenceContext:i,reducedMotionConfig:o,skipAnimations:u,blockInitialAnimation:d,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=of,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=St.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Le.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=a.initial?{...g}:{},this.renderState=x,this.parent=t,this.props=a,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=u,this.options=p,this.blockInitialAnimation=!!d,this.isControllingVariants=Wo(a),this.isVariantNode=r0(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(a,{},this);for(const w in v){const S=v[w];g[w]!==void 0&&vt(S)&&S.set(g[w])}}mount(t){if(this.hasBeenMounted)for(const a in this.initialValues)this.values.get(a)?.jump(this.initialValues[a]),this.latestValues[a]=this.initialValues[a];this.current=t,$N.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,i)=>this.bindToMotionValue(i,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(i0.current||KN(),this.shouldReduceMotion=wh.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Ts(this.notifyUpdate),Ts(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),a.accelerate&&SN.has(t)&&this.current instanceof HTMLElement){const{factory:d,keyframes:f,times:p,ease:g,duration:x}=a.accelerate,y=new Hb({element:this.current,name:t,keyframes:f,times:p,ease:g,duration:fn(x)}),v=d(y);this.valueSubscriptions.set(t,()=>{v(),y.cancel()});return}const i=mr.has(t);i&&this.onBindTransform&&this.onBindTransform();const o=a.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Le.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Po){const a=Po[t];if(!a)continue;const{isEnabled:i,Feature:o}=a;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let i=0;i<mx.length;i++){const o=mx[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,d=t[u];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=GN(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const i=this.values.get(t);a!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&a!==void 0&&(i=or(a===null?void 0:a,{owner:this}),this.addValue(t,i)),i}readValue(t,a){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(lb(i)||cb(i))?i=parseFloat(i):!qN(i)&&mn.test(a)&&(i=Zb(t,a)),this.setBaseTarget(t,vt(i)?i.get():i)),vt(i)?i.get():i}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let i;if(typeof a=="string"||typeof a=="object"){const u=df(this.props,a,this.presenceContext?.custom);u&&(i=u[t])}if(a&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!vt(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new Wh),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){pf.render(this.render)}}class o0 extends FN{constructor(){super(...arguments),this.KeyframeResolver=wN}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){const i=t.style;return i?i[a]:void 0}removeValueFromRenderState(t,{vars:a,style:i}){delete a[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vt(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class Ns{constructor(t){this.isMounted=!1,this.node=t}update(){}}function c0({top:n,left:t,right:a,bottom:i}){return{x:{min:t,max:a},y:{min:n,max:i}}}function XN({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function WN(n,t){if(!t)return n;const a=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:a.y,left:a.x,bottom:i.y,right:i.x}}function Ud(n){return n===void 0||n===1}function Sh({scale:n,scaleX:t,scaleY:a}){return!Ud(n)||!Ud(t)||!Ud(a)}function Js(n){return Sh(n)||u0(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function u0(n){return px(n.x)||px(n.y)}function px(n){return n&&n!=="0%"}function Vo(n,t,a){const i=n-a,o=t*i;return a+o}function gx(n,t,a,i,o){return o!==void 0&&(n=Vo(n,o,i)),Vo(n,a,i)+t}function _h(n,t=0,a=1,i,o){n.min=gx(n.min,t,a,i,o),n.max=gx(n.max,t,a,i,o)}function d0(n,{x:t,y:a}){_h(n.x,t.translate,t.scale,t.originPoint),_h(n.y,a.translate,a.scale,a.originPoint)}const yx=.999999999999,xx=1.0000000000001;function JN(n,t,a,i=!1){const o=a.length;if(!o)return;t.x=t.y=1;let u,d;for(let f=0;f<o;f++){u=a[f],d=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ar(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,d0(n,d)),i&&Js(u.latestValues)&&ar(n,u.latestValues))}t.x<xx&&t.x>yx&&(t.x=1),t.y<xx&&t.y>yx&&(t.y=1)}function sr(n,t){n.min=n.min+t,n.max=n.max+t}function vx(n,t,a,i,o=.5){const u=qe(n.min,n.max,o);_h(n,t,a,u,i)}function ar(n,t){vx(n.x,t.x,t.scaleX,t.scale,t.originX),vx(n.y,t.y,t.scaleY,t.scale,t.originY)}function h0(n,t){return c0(WN(n.getBoundingClientRect(),t))}function QN(n,t,a){const i=h0(n,a),{scroll:o}=t;return o&&(sr(i.x,o.offset.x),sr(i.y,o.offset.y)),i}const ZN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eE=fr.length;function tE(n,t,a){let i="",o=!0;for(let u=0;u<eE;u++){const d=fr[u],f=n[d];if(f===void 0)continue;let p=!0;if(typeof f=="number")p=f===(d.startsWith("scale")?1:0);else{const g=parseFloat(f);p=d.startsWith("scale")?g===1:g===0}if(!p||a){const g=e0(f,ff[d]);if(!p){o=!1;const x=ZN[d]||d;i+=`${x}(${g}) `}a&&(t[d]=g)}}return i=i.trim(),a?i=a(t,o?"":i):o&&(i="none"),i}function bf(n,t,a){const{style:i,vars:o,transformOrigin:u}=n;let d=!1,f=!1;for(const p in t){const g=t[p];if(mr.has(p)){d=!0;continue}else if(jb(p)){o[p]=g;continue}else{const x=e0(g,ff[p]);p.startsWith("origin")?(f=!0,u[p]=x):i[p]=x}}if(t.transform||(d||a?i.transform=tE(t,n.transform,a):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:x=0}=u;i.transformOrigin=`${p} ${g} ${x}`}}function f0(n,{style:t,vars:a},i,o){const u=n.style;let d;for(d in t)u[d]=t[d];o?.applyProjectionStyles(u,i);for(d in a)u.setProperty(d,a[d])}function bx(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const hi={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Q.test(n))n=parseFloat(n);else return n;const a=bx(n,t.target.x),i=bx(n,t.target.y);return`${a}% ${i}%`}},nE={correct:(n,{treeScale:t,projectionDelta:a})=>{const i=n,o=mn.parse(n);if(o.length>5)return i;const u=mn.createTransformer(n),d=typeof o[0]!="number"?1:0,f=a.x.scale*t.x,p=a.y.scale*t.y;o[0+d]/=f,o[1+d]/=p;const g=qe(f,p,.5);return typeof o[2+d]=="number"&&(o[2+d]/=g),typeof o[3+d]=="number"&&(o[3+d]/=g),u(o)}},jh={borderRadius:{...hi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hi,borderTopRightRadius:hi,borderBottomLeftRadius:hi,borderBottomRightRadius:hi,boxShadow:nE};function m0(n,{layout:t,layoutId:a}){return mr.has(n)||n.startsWith("origin")||(t||a!==void 0)&&(!!jh[n]||n==="opacity")}function wf(n,t,a){const i=n.style,o=t?.style,u={};if(!i)return u;for(const d in i)(vt(i[d])||o&&vt(o[d])||m0(d,n)||a?.getValue(d)?.liveStyle!==void 0)&&(u[d]=i[d]);return u}function sE(n){return window.getComputedStyle(n)}class aE extends o0{constructor(){super(...arguments),this.type="html",this.renderInstance=f0}readValueFromInstance(t,a){if(mr.has(a))return this.projection?.isProjecting?ch(a):_T(t,a);{const i=sE(t),o=(jb(a)?i.getPropertyValue(a):i[a])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:a}){return h0(t,a)}build(t,a,i){bf(t,a,i.transformTemplate)}scrapeMotionValuesFromProps(t,a,i){return wf(t,a,i)}}const rE={offset:"stroke-dashoffset",array:"stroke-dasharray"},iE={offset:"strokeDashoffset",array:"strokeDasharray"};function lE(n,t,a=1,i=0,o=!0){n.pathLength=1;const u=o?rE:iE;n[u.offset]=`${-i}`,n[u.array]=`${t} ${a}`}const oE=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function p0(n,{attrX:t,attrY:a,attrScale:i,pathLength:o,pathSpacing:u=1,pathOffset:d=0,...f},p,g,x){if(bf(n,f,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v}=n;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=x?.transformBox??"fill-box",delete y.transformBox);for(const w of oE)y[w]!==void 0&&(v[w]=y[w],delete y[w]);t!==void 0&&(y.x=t),a!==void 0&&(y.y=a),i!==void 0&&(y.scale=i),o!==void 0&&lE(y,o,u,d,!1)}const g0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),y0=n=>typeof n=="string"&&n.toLowerCase()==="svg";function cE(n,t,a,i){f0(n,t,void 0,i);for(const o in t.attrs)n.setAttribute(g0.has(o)?o:hf(o),t.attrs[o])}function x0(n,t,a){const i=wf(n,t,a);for(const o in n)if(vt(n[o])||vt(t[o])){const u=fr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[u]=n[o]}return i}class uE extends o0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(mr.has(a)){const i=Qb(a);return i&&i.default||0}return a=g0.has(a)?a:hf(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,i){return x0(t,a,i)}build(t,a,i){p0(t,a,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,a,i,o){cE(t,a,i,o)}mount(t){this.isSVGTag=y0(t.tagName),super.mount(t)}}const dE=vf.length;function v0(n){if(!n)return;if(!n.isControllingVariants){const a=n.parent?v0(n.parent)||{}:{};return n.props.initial!==void 0&&(a.initial=n.props.initial),a}const t={};for(let a=0;a<dE;a++){const i=vf[a],o=n.props[i];(Ei(o)||o===!1)&&(t[i]=o)}return t}function b0(n,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==n.length)return!1;for(let i=0;i<a;i++)if(t[i]!==n[i])return!1;return!0}const hE=[...xf].reverse(),fE=xf.length;function mE(n){return t=>Promise.all(t.map(({animation:a,options:i})=>uN(n,a,i)))}function pE(n){let t=mE(n),a=wx(),i=!0;const o=p=>(g,x)=>{const y=ir(n,x,p==="exit"?n.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:w,...S}=y;g={...g,...S,...w}}return g};function u(p){t=p(n)}function d(p){const{props:g}=n,x=v0(n.parent)||{},y=[],v=new Set;let w={},S=1/0;for(let j=0;j<fE;j++){const C=hE[j],A=a[C],E=g[C]!==void 0?g[C]:x[C],M=Ei(E),B=C===p?A.isActive:null;B===!1&&(S=j);let $=E===x[C]&&E!==g[C]&&M;if($&&i&&n.manuallyAnimateOnMount&&($=!1),A.protectedKeys={...w},!A.isActive&&B===null||!E&&!A.prevProp||Xo(E)||typeof E=="boolean")continue;if(C==="exit"&&A.isActive&&B!==!0){A.prevResolvedValues&&(w={...w,...A.prevResolvedValues});continue}const Y=gE(A.prevProp,E);let F=Y||C===p&&A.isActive&&!$&&M||j>S&&M,W=!1;const me=Array.isArray(E)?E:[E];let Pe=me.reduce(o(C),{});B===!1&&(Pe={});const{prevResolvedValues:ie={}}=A,Ue={...ie,...Pe},nt=K=>{F=!0,v.has(K)&&(W=!0,v.delete(K)),A.needsAnimating[K]=!0;const ee=n.getValue(K);ee&&(ee.liveStyle=!1)};for(const K in Ue){const ee=Pe[K],xe=ie[K];if(w.hasOwnProperty(K))continue;let Se=!1;ph(ee)&&ph(xe)?Se=!b0(ee,xe):Se=ee!==xe,Se?ee!=null?nt(K):v.add(K):ee!==void 0&&v.has(K)?nt(K):A.protectedKeys[K]=!0}A.prevProp=E,A.prevResolvedValues=Pe,A.isActive&&(w={...w,...Pe}),i&&n.blockInitialAnimation&&(F=!1);const yt=$&&Y;F&&(!yt||W)&&y.push(...me.map(K=>{const ee={type:C};if(typeof K=="string"&&i&&!yt&&n.manuallyAnimateOnMount&&n.parent){const{parent:xe}=n,Se=ir(xe,K);if(xe.enteringChildren&&Se){const{delayChildren:O}=Se.transition||{};ee.delay=$b(xe.enteringChildren,n,O)}}return{animation:K,options:ee}}))}if(v.size){const j={};if(typeof g.initial!="boolean"){const C=ir(n,Array.isArray(g.initial)?g.initial[0]:g.initial);C&&C.transition&&(j.transition=C.transition)}v.forEach(C=>{const A=n.getBaseTarget(C),E=n.getValue(C);E&&(E.liveStyle=!0),j[C]=A??null}),y.push({animation:j})}let T=!!y.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?t(y):Promise.resolve()}function f(p,g){if(a[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(y=>y.animationState?.setActive(p,g)),a[p].isActive=g;const x=d(p);for(const y in a)a[y].protectedKeys={};return x}return{animateChanges:d,setActive:f,setAnimateFunction:u,getState:()=>a,reset:()=>{a=wx()}}}function gE(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!b0(t,n):!1}function Ks(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wx(){return{animate:Ks(!0),whileInView:Ks(),whileHover:Ks(),whileTap:Ks(),whileDrag:Ks(),whileFocus:Ks(),exit:Ks()}}function Sx(n,t){n.min=t.min,n.max=t.max}function on(n,t){Sx(n.x,t.x),Sx(n.y,t.y)}function _x(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const w0=1e-4,yE=1-w0,xE=1+w0,S0=.01,vE=0-S0,bE=0+S0;function _t(n){return n.max-n.min}function wE(n,t,a){return Math.abs(n-t)<=a}function jx(n,t,a,i=.5){n.origin=i,n.originPoint=qe(t.min,t.max,n.origin),n.scale=_t(a)/_t(t),n.translate=qe(a.min,a.max,n.origin)-n.originPoint,(n.scale>=yE&&n.scale<=xE||isNaN(n.scale))&&(n.scale=1),(n.translate>=vE&&n.translate<=bE||isNaN(n.translate))&&(n.translate=0)}function vi(n,t,a,i){jx(n.x,t.x,a.x,i?i.originX:void 0),jx(n.y,t.y,a.y,i?i.originY:void 0)}function Tx(n,t,a){n.min=a.min+t.min,n.max=n.min+_t(t)}function SE(n,t,a){Tx(n.x,t.x,a.x),Tx(n.y,t.y,a.y)}function Nx(n,t,a){n.min=t.min-a.min,n.max=n.min+_t(t)}function Ho(n,t,a){Nx(n.x,t.x,a.x),Nx(n.y,t.y,a.y)}function Ex(n,t,a,i,o){return n-=t,n=Vo(n,1/a,i),o!==void 0&&(n=Vo(n,1/o,i)),n}function _E(n,t=0,a=1,i=.5,o,u=n,d=n){if(jn.test(t)&&(t=parseFloat(t),t=qe(d.min,d.max,t/100)-d.min),typeof t!="number")return;let f=qe(u.min,u.max,i);n===u&&(f-=t),n.min=Ex(n.min,t,a,f,o),n.max=Ex(n.max,t,a,f,o)}function Ax(n,t,[a,i,o],u,d){_E(n,t[a],t[i],t[o],t.scale,u,d)}const jE=["x","scaleX","originX"],TE=["y","scaleY","originY"];function Cx(n,t,a,i){Ax(n.x,t,jE,a?a.x:void 0,i?i.x:void 0),Ax(n.y,t,TE,a?a.y:void 0,i?i.y:void 0)}function Rx(n){return n.translate===0&&n.scale===1}function _0(n){return Rx(n.x)&&Rx(n.y)}function kx(n,t){return n.min===t.min&&n.max===t.max}function NE(n,t){return kx(n.x,t.x)&&kx(n.y,t.y)}function Ox(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function j0(n,t){return Ox(n.x,t.x)&&Ox(n.y,t.y)}function Dx(n){return _t(n.x)/_t(n.y)}function Mx(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function _n(n){return[n("x"),n("y")]}function EE(n,t,a){let i="";const o=n.x.translate/t.x,u=n.y.translate/t.y,d=a?.z||0;if((o||u||d)&&(i=`translate3d(${o}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:g,rotate:x,rotateX:y,rotateY:v,skewX:w,skewY:S}=a;g&&(i=`perspective(${g}px) ${i}`),x&&(i+=`rotate(${x}deg) `),y&&(i+=`rotateX(${y}deg) `),v&&(i+=`rotateY(${v}deg) `),w&&(i+=`skewX(${w}deg) `),S&&(i+=`skewY(${S}deg) `)}const f=n.x.scale*t.x,p=n.y.scale*t.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const T0=["TopLeft","TopRight","BottomLeft","BottomRight"],AE=T0.length,Lx=n=>typeof n=="string"?parseFloat(n):n,Ux=n=>typeof n=="number"||Q.test(n);function CE(n,t,a,i,o,u){o?(n.opacity=qe(0,a.opacity??1,RE(i)),n.opacityExit=qe(t.opacity??1,0,kE(i))):u&&(n.opacity=qe(t.opacity??1,a.opacity??1,i));for(let d=0;d<AE;d++){const f=`border${T0[d]}Radius`;let p=zx(t,f),g=zx(a,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||Ux(p)===Ux(g)?(n[f]=Math.max(qe(Lx(p),Lx(g),i),0),(jn.test(g)||jn.test(p))&&(n[f]+="%")):n[f]=g}(t.rotate||a.rotate)&&(n.rotate=qe(t.rotate||0,a.rotate||0,i))}function zx(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const RE=N0(0,.5,xb),kE=N0(.5,.95,nn);function N0(n,t,a){return i=>i<n?0:i>t?1:a(ji(n,t,i))}function OE(n,t,a){const i=vt(n)?n:or(n);return i.start(uf("",i,t,a)),i.animation}function Ai(n,t,a,i={passive:!0}){return n.addEventListener(t,a,i),()=>n.removeEventListener(t,a)}const DE=(n,t)=>n.depth-t.depth;class ME{constructor(){this.children=[],this.isDirty=!1}add(t){Fh(this.children,t),this.isDirty=!0}remove(t){Lo(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(DE),this.isDirty=!1,this.children.forEach(t)}}function LE(n,t){const a=St.now(),i=({timestamp:o})=>{const u=o-a;u>=t&&(Ts(i),n(u-t))};return Le.setup(i,!0),()=>Ts(i)}function ko(n){return vt(n)?n.get():n}class UE{constructor(){this.members=[]}add(t){Fh(this.members,t);for(let a=this.members.length-1;a>=0;a--){const i=this.members[a];if(i===t||i===this.lead||i===this.prevLead)continue;const o=i.instance;o&&o.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Lo(this.members,i)}t.scheduleRender()}remove(t){if(Lo(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(o=>t===o);if(a===0)return!1;let i;for(let o=a;o>=0;o--){const u=this.members[o],d=u.instance;if(u.isPresent!==!1&&(!d||d.isConnected!==!1)){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,a){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const o=i.options.layoutDependency,u=t.options.layoutDependency;if(!(o!==void 0&&u!==void 0&&o===u)){const p=i.instance;p&&p.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,a&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:f}=t.options;f===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:i}=t;a.onExitComplete&&a.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1},zd=["","X","Y","Z"],zE=1e3;let BE=0;function Bd(n,t,a,i){const{latestValues:o}=t;o[n]&&(a[n]=o[n],t.setStaticValue(n,0),i&&(i[n]=0))}function E0(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const a=Fb(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(a,"transform",Le,!(o||u))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&E0(i)}function A0({attachResizeListener:n,defaultParent:t,measureScroll:a,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(d={},f=t?.()){this.id=BE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HE),this.nodes.forEach(IE),this.nodes.forEach(KE),this.nodes.forEach(qE)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new ME)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Wh),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const p=this.eventHandlers.get(d);p&&p.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=yf(d)&&!VN(d),this.instance=d;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),n){let x,y=0;const v=()=>this.root.updateBlockedByResize=!1;Le.read(()=>{y=window.innerWidth}),n(d,()=>{const w=window.innerWidth;w!==y&&(y=w,this.root.updateBlockedByResize=!0,x&&x(),x=LE(v,250),Oo.hasAnimatedSinceResize&&(Oo.hasAnimatedSinceResize=!1,this.nodes.forEach(Vx)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||g.getDefaultTransition()||JE,{onLayoutAnimationStart:T,onLayoutAnimationComplete:j}=g.getProps(),C=!this.targetLayout||!j0(this.targetLayout,w),A=!y&&v;if(this.options.layoutRoot||this.resumeFrom||A||y&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...cf(S,"layout"),onPlay:T,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(x,A)}else y||Vx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ts(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YE),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const y=this.path[x];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Px);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GE),this.nodes.forEach(PE),this.nodes.forEach(VE)):this.nodes.forEach(Px),this.clearAllSnapshots();const f=St.now();gt.delta=Tn(0,1e3/60,f-gt.timestamp),gt.timestamp=f,gt.isProcessing=!0,Cd.update.process(gt),Cd.preRender.process(gt),Cd.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($E),this.sharedNodes.forEach(FE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_t(this.snapshot.measuredBox.x)&&!_t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!_0(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;d&&this.instance&&(f||Js(this.latestValues)||x)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return d&&(p=this.removeTransform(p)),QE(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return rt();const f=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZE))){const{scroll:g}=this.root;g&&(sr(f.x,g.offset.x),sr(f.y,g.offset.y))}return f}removeElementScroll(d){const f=rt();if(on(f,d),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:x,options:y}=g;g!==this.root&&x&&y.layoutScroll&&(x.wasRoot&&on(f,d),sr(f.x,x.offset.x),sr(f.y,x.offset.y))}return f}applyTransform(d,f=!1){const p=rt();on(p,d);for(let g=0;g<this.path.length;g++){const x=this.path[g];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&ar(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Js(x.latestValues)&&ar(p,x.latestValues)}return Js(this.latestValues)&&ar(p,this.latestValues),p}removeTransform(d){const f=rt();on(f,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Js(g.latestValues))continue;Sh(g.latestValues)&&g.updateSnapshot();const x=rt(),y=g.measurePageBox();on(x,y),Cx(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Js(this.latestValues)&&Cx(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:y}=this.options;if(!this.layout||!(x||y))return;this.resolvedRelativeTargetAt=gt.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),d0(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Sh(this.parent.latestValues)||u0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,f,p){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ho(this.relativeTargetOrigin,f,p),on(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;on(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;JN(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=rt());const{target:w}=d;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_x(this.prevProjectionDelta.x,this.projectionDelta.x),_x(this.prevProjectionDelta.y,this.projectionDelta.y)),vi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!Mx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nr(),this.projectionDelta=nr(),this.projectionDeltaWithTransform=nr()}setAnimationOrigin(d,f=!1){const p=this.snapshot,g=p?p.latestValues:{},x={...this.latestValues},y=nr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=rt(),w=p?p.source:void 0,S=this.layout?this.layout.source:void 0,T=w!==S,j=this.getStack(),C=!j||j.members.length<=1,A=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(WE));this.animationProgress=0;let E;this.mixTargetDelta=M=>{const B=M/1e3;Hx(y.x,d.x,B),Hx(y.y,d.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ho(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XE(this.relativeTarget,this.relativeTargetOrigin,v,B),E&&NE(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=rt()),on(E,this.relativeTarget)),T&&(this.animationValues=x,CE(x,g,this.latestValues,B,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ts(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Oo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=or(0)),this.currentAnimation=OE(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:x}=d;if(!(!f||!p||!g)){if(this!==d&&this.layout&&g&&C0(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||rt();const y=_t(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+y;const v=_t(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+v}on(f,p),ar(f,x),vi(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new UE),this.sharedNodes.get(d).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&Bd("z",d,g,this.animationValues);for(let x=0;x<zd.length;x++)Bd(`rotate${zd[x]}`,d,g,this.animationValues),Bd(`skew${zd[x]}`,d,g,this.animationValues);d.render();for(const x in g)d.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=ko(f?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=ko(f?.pointerEvents)||""),this.hasProjected&&!Js(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const x=g.animationValues||g.latestValues;this.applyTransformsToTarget();let y=EE(this.projectionDeltaWithTransform,this.treeScale,x);p&&(y=p(x,y)),d.transform=y;const{x:v,y:w}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,g.animationValues?d.opacity=g===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const S in jh){if(x[S]===void 0)continue;const{correct:T,applyTo:j,isCSSVariable:C}=jh[S],A=y==="none"?x[S]:T(x[S],g);if(j){const E=j.length;for(let M=0;M<E;M++)d[j[M]]=A}else C?this.options.visualElement.renderState.vars[S]=A:d[S]=A}this.options.layoutId&&(d.pointerEvents=g===this?ko(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(Bx),this.root.sharedNodes.clear()}}}function PE(n){n.updateLayout()}function VE(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:i}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?_n(x=>{const y=u?t.measuredBox[x]:t.layoutBox[x],v=_t(y);y.min=a[x].min,y.max=y.min+v}):C0(o,t.layoutBox,a)&&_n(x=>{const y=u?t.measuredBox[x]:t.layoutBox[x],v=_t(a[x]);y.max=y.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+v)});const d=nr();vi(d,a,t.layoutBox);const f=nr();u?vi(f,n.applyTransform(i,!0),t.measuredBox):vi(f,a,t.layoutBox);const p=!_0(d);let g=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:y,layout:v}=x;if(y&&v){const w=rt();Ho(w,t.layoutBox,y.layoutBox);const S=rt();Ho(S,a,v.layoutBox),j0(w,S)||(g=!0),x.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=w,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function HE(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function qE(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $E(n){n.clearSnapshot()}function Bx(n){n.clearMeasurements()}function Px(n){n.isLayoutDirty=!1}function GE(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Vx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function IE(n){n.resolveTargetDelta()}function KE(n){n.calcProjection()}function YE(n){n.resetSkewAndRotation()}function FE(n){n.removeLeadSnapshot()}function Hx(n,t,a){n.translate=qe(t.translate,0,a),n.scale=qe(t.scale,1,a),n.origin=t.origin,n.originPoint=t.originPoint}function qx(n,t,a,i){n.min=qe(t.min,a.min,i),n.max=qe(t.max,a.max,i)}function XE(n,t,a,i){qx(n.x,t.x,a.x,i),qx(n.y,t.y,a.y,i)}function WE(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const JE={duration:.45,ease:[.4,0,.1,1]},$x=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Gx=$x("applewebkit/")&&!$x("chrome/")?Math.round:nn;function Ix(n){n.min=Gx(n.min),n.max=Gx(n.max)}function QE(n){Ix(n.x),Ix(n.y)}function C0(n,t,a){return n==="position"||n==="preserve-aspect"&&!wE(Dx(t),Dx(a),.2)}function ZE(n){return n!==n.root&&n.scroll?.wasRoot}const eA=A0({attachResizeListener:(n,t)=>Ai(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Pd={current:void 0},R0=A0({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Pd.current){const n=new eA({});n.mount(window),n.setOptions({layoutScroll:!0}),Pd.current=n}return Pd.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Sf=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Kx(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function tA(...n){return t=>{let a=!1;const i=n.map(o=>{const u=Kx(o,t);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let o=0;o<i.length;o++){const u=i[o];typeof u=="function"?u():Kx(n[o],null)}}}}function nA(...n){return N.useCallback(tA(...n),n)}class sA extends N.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=a.offsetParent,o=bh(i)&&i.offsetWidth||0,u=bh(i)&&i.offsetHeight||0,d=this.props.sizeRef.current;d.height=a.offsetHeight||0,d.width=a.offsetWidth||0,d.top=a.offsetTop,d.left=a.offsetLeft,d.right=o-d.width-d.left,d.bottom=u-d.height-d.top}return null}componentDidUpdate(){}render(){return this.props.children}}function aA({children:n,isPresent:t,anchorX:a,anchorY:i,root:o,pop:u}){const d=N.useId(),f=N.useRef(null),p=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=N.useContext(Sf),x=n.props?.ref??n?.ref,y=nA(f,x);return N.useInsertionEffect(()=>{const{width:v,height:w,top:S,left:T,right:j,bottom:C}=p.current;if(t||u===!1||!f.current||!v||!w)return;const A=a==="left"?`left: ${T}`:`right: ${j}`,E=i==="bottom"?`bottom: ${C}`:`top: ${S}`;f.current.dataset.motionPopId=d;const M=document.createElement("style");g&&(M.nonce=g);const B=o??document.head;return B.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${w}px !important;
            ${A}px !important;
            ${E}px !important;
          }
        `),()=>{B.contains(M)&&B.removeChild(M)}},[t]),c.jsx(sA,{isPresent:t,childRef:f,sizeRef:p,pop:u,children:u===!1?n:N.cloneElement(n,{ref:y})})}const rA=({children:n,initial:t,isPresent:a,onExitComplete:i,custom:o,presenceAffectsLayout:u,mode:d,anchorX:f,anchorY:p,root:g})=>{const x=Yh(iA),y=N.useId();let v=!0,w=N.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:a,custom:o,onExitComplete:S=>{x.set(S,!0);for(const T of x.values())if(!T)return;i&&i()},register:S=>(x.set(S,!1),()=>x.delete(S))}),[a,x,i]);return u&&v&&(w={...w}),N.useMemo(()=>{x.forEach((S,T)=>x.set(T,!1))},[a]),N.useEffect(()=>{!a&&!x.size&&i&&i()},[a]),n=c.jsx(aA,{pop:d==="popLayout",isPresent:a,anchorX:f,anchorY:p,root:g,children:n}),c.jsx(Fo.Provider,{value:w,children:n})};function iA(){return new Map}function k0(n=!0){const t=N.useContext(Fo);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:i,register:o}=t,u=N.useId();N.useEffect(()=>{if(n)return o(u)},[n]);const d=N.useCallback(()=>n&&i&&i(u),[u,i,n]);return!a&&i?[!1,d]:[!0]}const mo=n=>n.key||"";function Yx(n){const t=[];return N.Children.forEach(n,a=>{N.isValidElement(a)&&t.push(a)}),t}const Ci=({children:n,custom:t,initial:a=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:u="sync",propagate:d=!1,anchorX:f="left",anchorY:p="top",root:g})=>{const[x,y]=k0(d),v=N.useMemo(()=>Yx(n),[n]),w=d&&!x?[]:v.map(mo),S=N.useRef(!0),T=N.useRef(v),j=Yh(()=>new Map),C=N.useRef(new Set),[A,E]=N.useState(v),[M,B]=N.useState(v);ib(()=>{S.current=!1,T.current=v;for(let F=0;F<M.length;F++){const W=mo(M[F]);w.includes(W)?(j.delete(W),C.current.delete(W)):j.get(W)!==!0&&j.set(W,!1)}},[M,w.length,w.join("-")]);const $=[];if(v!==A){let F=[...v];for(let W=0;W<M.length;W++){const me=M[W],Pe=mo(me);w.includes(Pe)||(F.splice(W,0,me),$.push(me))}return u==="wait"&&$.length&&(F=$),B(Yx(F)),E(v),null}const{forceRender:Y}=N.useContext(Kh);return c.jsx(c.Fragment,{children:M.map(F=>{const W=mo(F),me=d&&!x?!1:v===M||w.includes(W),Pe=()=>{if(C.current.has(W))return;if(C.current.add(W),j.has(W))j.set(W,!0);else return;let ie=!0;j.forEach(Ue=>{Ue||(ie=!1)}),ie&&(Y?.(),B(T.current),d&&y?.(),i&&i())};return c.jsx(rA,{isPresent:me,initial:!S.current||a?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:me?void 0:Pe,anchorX:f,anchorY:p,children:F},W)})})},O0=N.createContext({strict:!1}),Fx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Xx=!1;function lA(){if(Xx)return;const n={};for(const t in Fx)n[t]={isEnabled:a=>Fx[t].some(i=>!!a[i])};l0(n),Xx=!0}function D0(){return lA(),YN()}function oA(n){const t=D0();for(const a in n)t[a]={...t[a],...n[a]};l0(t)}const cA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function qo(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||cA.has(n)}let M0=n=>!qo(n);function uA(n){typeof n=="function"&&(M0=t=>t.startsWith("on")?!qo(t):n(t))}try{uA(require("@emotion/is-prop-valid").default)}catch{}function dA(n,t,a){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(M0(o)||a===!0&&qo(o)||!t&&!qo(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}const Jo=N.createContext({});function hA(n,t){if(Wo(n)){const{initial:a,animate:i}=n;return{initial:a===!1||Ei(a)?a:void 0,animate:Ei(i)?i:void 0}}return n.inherit!==!1?t:{}}function fA(n){const{initial:t,animate:a}=hA(n,N.useContext(Jo));return N.useMemo(()=>({initial:t,animate:a}),[Wx(t),Wx(a)])}function Wx(n){return Array.isArray(n)?n.join(" "):n}const _f=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function L0(n,t,a){for(const i in t)!vt(t[i])&&!m0(i,a)&&(n[i]=t[i])}function mA({transformTemplate:n},t){return N.useMemo(()=>{const a=_f();return bf(a,t,n),Object.assign({},a.vars,a.style)},[t])}function pA(n,t){const a=n.style||{},i={};return L0(i,a,n),Object.assign(i,mA(n,t)),i}function gA(n,t){const a={},i=pA(n,t);return n.drag&&n.dragListener!==!1&&(a.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(a.tabIndex=0),a.style=i,a}const U0=()=>({..._f(),attrs:{}});function yA(n,t,a,i){const o=N.useMemo(()=>{const u=U0();return p0(u,t,y0(i),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};L0(u,n.style,n),o.style={...u,...o.style}}return o}const xA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jf(n){return typeof n!="string"||n.includes("-")?!1:!!(xA.indexOf(n)>-1||/[A-Z]/u.test(n))}function vA(n,t,a,{latestValues:i},o,u=!1,d){const p=(d??jf(n)?yA:gA)(t,i,o,n),g=dA(t,typeof n=="string",u),x=n!==N.Fragment?{...g,...p,ref:a}:{},{children:y}=t,v=N.useMemo(()=>vt(y)?y.get():y,[y]);return N.createElement(n,{...x,children:v})}function bA({scrapeMotionValuesFromProps:n,createRenderState:t},a,i,o){return{latestValues:wA(a,i,o,n),renderState:t()}}function wA(n,t,a,i){const o={},u=i(n,{});for(const v in u)o[v]=ko(u[v]);let{initial:d,animate:f}=n;const p=Wo(n),g=r0(n);t&&g&&!p&&n.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let x=a?a.initial===!1:!1;x=x||d===!1;const y=x?f:d;if(y&&typeof y!="boolean"&&!Xo(y)){const v=Array.isArray(y)?y:[y];for(let w=0;w<v.length;w++){const S=df(n,v[w]);if(S){const{transitionEnd:T,transition:j,...C}=S;for(const A in C){let E=C[A];if(Array.isArray(E)){const M=x?E.length-1:0;E=E[M]}E!==null&&(o[A]=E)}for(const A in T)o[A]=T[A]}}}return o}const z0=n=>(t,a)=>{const i=N.useContext(Jo),o=N.useContext(Fo),u=()=>bA(n,t,i,o);return a?u():Yh(u)},SA=z0({scrapeMotionValuesFromProps:wf,createRenderState:_f}),_A=z0({scrapeMotionValuesFromProps:x0,createRenderState:U0}),jA=Symbol.for("motionComponentSymbol");function TA(n,t,a){const i=N.useRef(a);N.useInsertionEffect(()=>{i.current=a});const o=N.useRef(null);return N.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const d=i.current;if(typeof d=="function")if(u){const f=d(u);typeof f=="function"&&(o.current=f)}else o.current?(o.current(),o.current=null):d(u);else d&&(d.current=u)},[t])}const B0=N.createContext({});function Wa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function NA(n,t,a,i,o,u){const{visualElement:d}=N.useContext(Jo),f=N.useContext(O0),p=N.useContext(Fo),g=N.useContext(Sf),x=g.reducedMotion,y=g.skipAnimations,v=N.useRef(null),w=N.useRef(!1);i=i||f.renderer,!v.current&&i&&(v.current=i(n,{visualState:t,parent:d,props:a,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:x,skipAnimations:y,isSVG:u}),w.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const S=v.current,T=N.useContext(B0);S&&!S.projection&&o&&(S.type==="html"||S.type==="svg")&&EA(v.current,a,o,T);const j=N.useRef(!1);N.useInsertionEffect(()=>{S&&j.current&&S.update(a,p)});const C=a[Yb],A=N.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return ib(()=>{w.current=!0,S&&(j.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),A.current&&S.animationState&&S.animationState.animateChanges())}),N.useEffect(()=>{S&&(!A.current&&S.animationState&&S.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),A.current=!1),S.enteringChildren=void 0)}),S}function EA(n,t,a,i){const{layoutId:o,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:g,layoutCrossfade:x}=t;n.projection=new a(n.latestValues,t["data-framer-portal-id"]?void 0:P0(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!d||f&&Wa(f),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:p,layoutRoot:g})}function P0(n){if(n)return n.options.allowProjection!==!1?n.projection:P0(n.parent)}function Vd(n,{forwardMotionProps:t=!1,type:a}={},i,o){i&&oA(i);const u=a?a==="svg":jf(n),d=u?_A:SA;function f(g,x){let y;const v={...N.useContext(Sf),...g,layoutId:AA(g)},{isStatic:w}=v,S=fA(g),T=d(g,w);if(!w&&rb){CA();const j=RA(v);y=j.MeasureLayout,S.visualElement=NA(n,T,v,o,j.ProjectionNode,u)}return c.jsxs(Jo.Provider,{value:S,children:[y&&S.visualElement?c.jsx(y,{visualElement:S.visualElement,...v}):null,vA(n,g,TA(T,S.visualElement,x),T,w,t,u)]})}f.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=N.forwardRef(f);return p[jA]=n,p}function AA({layoutId:n}){const t=N.useContext(Kh).id;return t&&n!==void 0?t+"-"+n:n}function CA(n,t){N.useContext(O0).strict}function RA(n){const t=D0(),{drag:a,layout:i}=t;if(!a&&!i)return{};const o={...a,...i};return{MeasureLayout:a?.isEnabled(n)||i?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function kA(n,t){if(typeof Proxy>"u")return Vd;const a=new Map,i=(u,d)=>Vd(u,d,n,t),o=(u,d)=>i(u,d);return new Proxy(o,{get:(u,d)=>d==="create"?i:(a.has(d)||a.set(d,Vd(d,void 0,n,t)),a.get(d))})}const OA=(n,t)=>t.isSVG??jf(n)?new uE(t):new aE(t,{allowProjection:n!==N.Fragment});class DA extends Ns{constructor(t){super(t),t.animationState||(t.animationState=pE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Xo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let MA=0;class LA extends Ns{constructor(){super(...arguments),this.id=MA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);a&&!t&&o.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UA={animation:{Feature:DA},exit:{Feature:LA}};function $i(n){return{point:{x:n.pageX,y:n.pageY}}}const zA=n=>t=>gf(t)&&n(t,$i(t));function bi(n,t,a,i){return Ai(n,t,zA(a),i)}const V0=({current:n})=>n?n.ownerDocument.defaultView:null,Jx=(n,t)=>Math.abs(n-t);function BA(n,t){const a=Jx(n.x,t.x),i=Jx(n.y,t.y);return Math.sqrt(a**2+i**2)}const Qx=new Set(["auto","scroll"]);class H0{constructor(t,a,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=qd(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=BA(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:j}=w,{timestamp:C}=gt;this.history.push({...j,timestamp:C});const{onStart:A,onMove:E}=this.handlers;S||(A&&A(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,w)},this.handlePointerMove=(w,S)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Hd(S,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(w,S)=>{this.end();const{onEnd:T,onSessionEnd:j,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=qd(w.type==="pointercancel"?this.lastMoveEventInfo:Hd(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(w,A),j&&j(w,A)},!gf(t))return;this.dragSnapToOrigin=u,this.handlers=a,this.transformPagePoint=i,this.distanceThreshold=d,this.contextWindow=o||window;const p=$i(t),g=Hd(p,this.transformPagePoint),{point:x}=g,{timestamp:y}=gt;this.history=[{...x,timestamp:y}];const{onSessionStart:v}=a;v&&v(t,qd(g,this.history)),this.removeListeners=Vi(bi(this.contextWindow,"pointermove",this.handlePointerMove),bi(this.contextWindow,"pointerup",this.handlePointerUp),bi(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(t){let a=t.parentElement;for(;a;){const i=getComputedStyle(a);(Qx.has(i.overflowX)||Qx.has(i.overflowY))&&this.scrollPositions.set(a,{x:a.scrollLeft,y:a.scrollTop}),a=a.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const a=this.scrollPositions.get(t);if(!a)return;const i=t===window,o=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-a.x,y:o.y-a.y};u.x===0&&u.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),Le.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ts(this.updatePoint)}}function Hd(n,t){return t?{point:t(n.point)}:n}function Zx(n,t){return{x:n.x-t.x,y:n.y-t.y}}function qd({point:n},t){return{point:n,delta:Zx(n,q0(t)),offset:Zx(n,PA(t)),velocity:VA(t,.1)}}function PA(n){return n[0]}function q0(n){return n[n.length-1]}function VA(n,t){if(n.length<2)return{x:0,y:0};let a=n.length-1,i=null;const o=q0(n);for(;a>=0&&(i=n[a],!(o.timestamp-i.timestamp>fn(t)));)a--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&o.timestamp-i.timestamp>fn(t)*2&&(i=n[1]);const u=tn(o.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const d={x:(o.x-i.x)/u,y:(o.y-i.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function HA(n,{min:t,max:a},i){return t!==void 0&&n<t?n=i?qe(t,n,i.min):Math.max(n,t):a!==void 0&&n>a&&(n=i?qe(a,n,i.max):Math.min(n,a)),n}function ev(n,t,a){return{min:t!==void 0?n.min+t:void 0,max:a!==void 0?n.max+a-(n.max-n.min):void 0}}function qA(n,{top:t,left:a,bottom:i,right:o}){return{x:ev(n.x,a,o),y:ev(n.y,t,i)}}function tv(n,t){let a=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([a,i]=[i,a]),{min:a,max:i}}function $A(n,t){return{x:tv(n.x,t.x),y:tv(n.y,t.y)}}function GA(n,t){let a=.5;const i=_t(n),o=_t(t);return o>i?a=ji(t.min,t.max-i,n.min):i>o&&(a=ji(n.min,n.max-o,t.min)),Tn(0,1,a)}function IA(n,t){const a={};return t.min!==void 0&&(a.min=t.min-n.min),t.max!==void 0&&(a.max=t.max-n.min),a}const Th=.35;function KA(n=Th){return n===!1?n=0:n===!0&&(n=Th),{x:nv(n,"left","right"),y:nv(n,"top","bottom")}}function nv(n,t,a){return{min:sv(n,t),max:sv(n,a)}}function sv(n,t){return typeof n=="number"?n:n[t]||0}const YA=new WeakMap;class FA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=y=>{a&&this.snapToCursor($i(y).point),this.stopAnimation()},d=(y,v)=>{const{drag:w,dragPropagation:S,onDragStart:T}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_N(w),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(C=>{let A=this.getAxisMotionValue(C).get()||0;if(jn.test(A)){const{projection:E}=this.visualElement;if(E&&E.layout){const M=E.layout.layoutBox[C];M&&(A=_t(M)*(parseFloat(A)/100))}}this.originPoint[C]=A}),T&&Le.update(()=>T(y,v),!1,!0),gh(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},f=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:T,onDrag:j}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=v;if(S&&this.currentDirection===null){this.currentDirection=WA(C),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),j&&Le.update(()=>j(y,v),!1,!0)},p=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:y}=this.getProps();(y||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:x}=this.getProps();this.panSession=new H0(t,{onSessionStart:u,onStart:d,onMove:f,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:V0(this.visualElement),element:this.visualElement.current})}stop(t,a){const i=t||this.latestPointerEvent,o=a||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!i)return;const{velocity:d}=o;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Le.postRender(()=>f(i,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,a,i){const{drag:o}=this.getProps();if(!i||!po(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(d=HA(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Wa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=qA(i.layoutBox,t):this.constraints=!1,this.elastic=KA(a),o!==this.constraints&&!Wa(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&_n(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=IA(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Wa(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=QN(i,o.root,this.visualElement.getTransformPagePoint());let d=$A(o.layout.layoutBox,u);if(a){const f=a(XN(d));this.hasMutatedConstraints=!!f,f&&(d=c0(f))}return d}startAnimation(t){const{drag:a,dragMomentum:i,dragElastic:o,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=_n(x=>{if(!po(x,a,this.currentDirection))return;let y=p&&p[x]||{};d&&(y={min:0,max:0});const v=o?200:1e6,w=o?40:1e7,S={type:"inertia",velocity:i?t[x]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(x,S)});return Promise.all(g).then(f)}startAxisValueAnimation(t,a){const i=this.getAxisMotionValue(t);return gh(this.visualElement,t),i.start(uf(t,i,0,a,this.visualElement,!1))}stopAnimation(){_n(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[a];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){_n(a=>{const{drag:i}=this.getProps();if(!po(a,i,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(a);if(o&&o.layout){const{min:d,max:f}=o.layout.layoutBox[a],p=u.get()||0;u.set(t[a]-qe(d,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:i}=this.visualElement;if(!Wa(a)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};_n(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const p=f.get();o[d]=GA({min:p,max:p},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),_n(d=>{if(!po(d,t,null))return;const f=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];f.set(qe(p,g,o[d]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;YA.set(this.visualElement,this);const t=this.visualElement.current,a=bi(t,"pointerdown",g=>{const{drag:x,dragListener:y=!0}=this.getProps(),v=g.target,w=v!==t&&CN(v);x&&y&&!w&&this.start(g)});let i;const o=()=>{const{dragConstraints:g}=this.getProps();Wa(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),i||(i=XA(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,d=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),Le.read(o);const f=Ai(window,"resize",()=>this.scalePositionWithinConstraints()),p=u.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(_n(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=g[y].translate,v.set(v.get()+g[y].translate))}),this.visualElement.render())}));return()=>{f(),a(),d(),p&&p(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:d=Th,dragMomentum:f=!0}=t;return{...t,drag:a,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:d,dragMomentum:f}}}function av(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function XA(n,t,a){const i=dx(n,av(a)),o=dx(t,av(a));return()=>{i(),o()}}function po(n,t,a){return(t===!0||t===n)&&(a===null||a===n)}function WA(n,t=10){let a=null;return Math.abs(n.y)>t?a="y":Math.abs(n.x)>t&&(a="x"),a}class JA extends Ns{constructor(t){super(t),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new FA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:a}=this.node.prevProps||{};t!==a&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const $d=n=>(t,a)=>{n&&Le.update(()=>n(t,a),!1,!0)};class QA extends Ns{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(t){this.session=new H0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:$d(t),onStart:$d(a),onMove:$d(i),onEnd:(u,d)=>{delete this.session,o&&Le.postRender(()=>o(u,d))}}}mount(){this.removePointerDownListener=bi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Gd=!1;class ZA extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:i,layoutId:o}=this.props,{projection:u}=t;u&&(a.group&&a.group.add(u),i&&i.register&&o&&i.register(u),Gd&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:i,drag:o,isPresent:u}=this.props,{projection:d}=i;return d&&(d.isPresent=u,t.layoutDependency!==a&&d.setOptions({...d.options,layoutDependency:a}),Gd=!0,o||t.layoutDependency!==a||a===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||Le.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:i}=this.props,{projection:o}=t;Gd=!0,o&&(o.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $0(n){const[t,a]=k0(),i=N.useContext(Kh);return c.jsx(ZA,{...n,layoutGroup:i,switchLayoutGroup:N.useContext(B0),isPresent:t,safeToRemove:a})}const e2={pan:{Feature:QA},drag:{Feature:JA,ProjectionNode:R0,MeasureLayout:$0}};function rv(n,t,a){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",a==="Start");const o="onHover"+a,u=i[o];u&&Le.postRender(()=>u(t,$i(t)))}class t2 extends Ns{mount(){const{current:t}=this.node;t&&(this.unmount=TN(t,(a,i)=>(rv(this.node,i,"Start"),o=>rv(this.node,o,"End"))))}unmount(){}}class n2 extends Ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vi(Ai(this.node.current,"focus",()=>this.onFocus()),Ai(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iv(n,t,a){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",a==="Start");const o="onTap"+(a==="End"?"":a),u=i[o];u&&Le.postRender(()=>u(t,$i(t)))}class s2 extends Ns{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:a,propagate:i}=this.node.props;this.unmount=kN(t,(o,u)=>(iv(this.node,u,"Start"),(d,{success:f})=>iv(this.node,d,f?"End":"Cancel")),{useGlobalTarget:a,stopPropagation:i?.tap===!1})}unmount(){}}const Nh=new WeakMap,Id=new WeakMap,a2=n=>{const t=Nh.get(n.target);t&&t(n)},r2=n=>{n.forEach(a2)};function i2({root:n,...t}){const a=n||document;Id.has(a)||Id.set(a,{});const i=Id.get(a),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(r2,{root:n,...t})),i[o]}function l2(n,t,a){const i=i2(t);return Nh.set(n,a),i.observe(n),()=>{Nh.delete(n),i.unobserve(n)}}const o2={some:0,all:1};class c2 extends Ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:i,amount:o="some",once:u}=t,d={root:a?a.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:o2[o]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:y}=this.node.getProps(),v=g?x:y;v&&v(p)};return l2(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(u2(t,a))&&this.startObserver()}unmount(){}}function u2({viewport:n={}},{viewport:t={}}={}){return a=>n[a]!==t[a]}const d2={inView:{Feature:c2},tap:{Feature:s2},focus:{Feature:n2},hover:{Feature:t2}},h2={layout:{ProjectionNode:R0,MeasureLayout:$0}},f2={...UA,...d2,...e2,...h2},ne=kA(f2,OA),m2={some:0,all:1};function p2(n,t,{root:a,margin:i,amount:o="some"}={}){const u=mf(n),d=new WeakMap,f=g=>{g.forEach(x=>{const y=d.get(x.target);if(x.isIntersecting!==!!y)if(x.isIntersecting){const v=t(x.target,x);typeof v=="function"?d.set(x.target,v):p.unobserve(x.target)}else typeof y=="function"&&(y(x),d.delete(x.target))})},p=new IntersectionObserver(f,{root:a,rootMargin:i,threshold:typeof o=="number"?o:m2[o]});return u.forEach(g=>p.observe(g)),()=>p.disconnect()}function g2(n,{root:t,margin:a,amount:i,once:o=!1,initial:u=!1}={}){const[d,f]=N.useState(u);return N.useEffect(()=>{if(!n.current||o&&d)return;const p=()=>(f(!0),o?void 0:()=>f(!1)),g={root:t&&t.current||void 0,margin:a,amount:i};return p2(n.current,p,g)},[t,n,a,o,i]),d}function Qo(n,t){var a={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(a[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(a[i[o]]=n[i[o]]);return a}function y2(n,t,a,i){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function f(x){try{g(i.next(x))}catch(y){d(y)}}function p(x){try{g(i.throw(x))}catch(y){d(y)}}function g(x){x.done?u(x.value):o(x.value).then(f,p)}g((i=i.apply(n,t||[])).next())})}const x2=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class Tf extends Error{constructor(t,a="FunctionsError",i){super(t),this.name=a,this.context=i}}class v2 extends Tf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lv extends Tf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ov extends Tf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Eh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Eh||(Eh={}));class b2{constructor(t,{headers:a={},customFetch:i,region:o=Eh.Any}={}){this.url=t,this.headers=a,this.region=o,this.fetch=x2(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return y2(this,arguments,void 0,function*(a,i={}){var o;let u,d;try{const{headers:f,method:p,body:g,signal:x,timeout:y}=i;let v={},{region:w}=i;w||(w=this.region);const S=new URL(`${this.url}/${a}`);w&&w!=="any"&&(v["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let T;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(v["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(v["Content-Type"]="application/json",T=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?T=JSON.stringify(g):T=g;let j=x;y&&(d=new AbortController,u=setTimeout(()=>d.abort(),y),x?(j=d.signal,x.addEventListener("abort",()=>d.abort())):j=d.signal);const C=yield this.fetch(S.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),f),body:T,signal:j}).catch(B=>{throw new v2(B)}),A=C.headers.get("x-relay-error");if(A&&A==="true")throw new lv(C);if(!C.ok)throw new ov(C);let E=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return E==="application/json"?M=yield C.json():E==="application/octet-stream"||E==="application/pdf"?M=yield C.blob():E==="text/event-stream"?M=C:E==="multipart/form-data"?M=yield C.formData():M=yield C.text(),{data:M,error:null,response:C}}catch(f){return{data:null,error:f,response:f instanceof ov||f instanceof lv?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var w2=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},S2=class{constructor(n){var t,a,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(a=n.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(i=n.urlLengthLimit)!==null&&i!==void 0?i:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,f=null,p=null,g=u.status,x=u.statusText;if(u.ok){var y,v;if(a.method!=="HEAD"){var w;const C=await u.text();C===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((w=a.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?f=C:f=JSON.parse(C))}const T=(y=a.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),j=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");T&&j&&j.length>1&&(p=parseInt(j[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var S;const T=await u.text();try{d=JSON.parse(T),Array.isArray(d)&&u.status===404&&(f=[],d=null,g=200,x="OK")}catch{u.status===404&&T===""?(g=204,x="No Content"):d={message:T}}if(d&&a.isMaybeSingle&&(!(d==null||(S=d.details)===null||S===void 0)&&S.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&a.shouldThrowOnError)throw new w2(d)}return{error:d,data:f,count:p,status:g,statusText:x}});return this.shouldThrowOnError||(o=o.catch(u=>{var d;let f="",p="",g="";const x=u?.cause;if(x){var y,v,w,S;const C=(y=x?.message)!==null&&y!==void 0?y:"",A=(v=x?.code)!==null&&v!==void 0?v:"";f=`${(w=u?.name)!==null&&w!==void 0?w:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(S=x?.name)!==null&&S!==void 0?S:"Error"}: ${C}`,A&&(f+=` (${A})`),x?.stack&&(f+=`
${x.stack}`)}else{var T;f=(T=u?.stack)!==null&&T!==void 0?T:""}const j=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(g="",p="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(x?.name==="HeadersOverflowError"||x?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",p="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(p+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:f,hint:p,code:g},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}},_2=class extends S2{select(n){let t=!1;const a=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:a,foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:a=t}={}){const i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:a,referencedTable:i=a}={}){const o=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:a=!1,buffers:i=!1,wal:o=!1,format:u="text"}={}){var d;const f=[n?"analyze":null,t?"verbose":null,a?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const cv=new RegExp("[,()]");var Ja=class extends _2{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const a=Array.from(new Set(t)).map(i=>typeof i=="string"&&cv.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${a})`),this}notIn(n,t){const a=Array.from(new Set(t)).map(i=>typeof i=="string"&&cv.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${a})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:a,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(n,`${o}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(n,t,a){return this.url.searchParams.append(n,`not.${t}.${a}`),this}or(n,{foreignTable:t,referencedTable:a=t}={}){const i=a?`${a}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,a){return this.url.searchParams.append(n,`${t}.${a}`),this}},j2=class{constructor(n,{headers:t={},schema:a,fetch:i,urlLengthLimit:o=8e3}){this.url=n,this.headers=new Headers(t),this.schema=a,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:a=!1,count:i}=t??{},o=a?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",d),i&&p.append("Prefer",`count=${i}`),new Ja({method:o,url:f,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:t,defaultToNull:a=!0}={}){var i;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),a||d.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new Ja({method:o,url:u,headers:d,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:t,ignoreDuplicates:a=!1,count:i,defaultToNull:o=!0}={}){var u;const d="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),i&&p.append("Prefer",`count=${i}`),o||p.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);f.searchParams.set("columns",x.join(","))}}return new Ja({method:d,url:f,headers:p,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:t}={}){var a;const i="PATCH",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new Ja({method:i,url:o,headers:u,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var t;const a="DELETE",{url:i,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new Ja({method:a,url:i,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ri(n){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(n)}function T2(n,t){if(Ri(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,t);if(Ri(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function N2(n){var t=T2(n,"string");return Ri(t)=="symbol"?t:t+""}function E2(n,t,a){return(t=N2(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function uv(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,i)}return a}function go(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?uv(Object(a),!0).forEach(function(i){E2(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):uv(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}var A2=class G0{constructor(t,{headers:a={},schema:i,fetch:o,timeout:u,urlLengthLimit:d=8e3}={}){this.url=t,this.headers=new Headers(a),this.schemaName=i,this.urlLengthLimit=d;const f=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(p,g)=>{const x=new AbortController,y=setTimeout(()=>x.abort(),u),v=g?.signal;if(v){if(v.aborted)return clearTimeout(y),f(p,g);const w=()=>{clearTimeout(y),x.abort()};return v.addEventListener("abort",w,{once:!0}),f(p,go(go({},g),{},{signal:x.signal})).finally(()=>{clearTimeout(y),v.removeEventListener("abort",w)})}return f(p,go(go({},g),{},{signal:x.signal})).finally(()=>clearTimeout(y))}:this.fetch=f}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new j2(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new G0(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,a={},{head:i=!1,get:o=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${t}`);let g;const x=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(x)),y=i&&Object.values(a).some(x);y?(f="POST",g=a):i||o?(f=i?"HEAD":"GET",Object.entries(a).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{p.searchParams.append(w,S)})):(f="POST",g=a);const v=new Headers(this.headers);return y?v.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&v.set("Prefer",`count=${u}`),new Ja({method:f,url:p,headers:v,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class C2{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const i=a.versions;if(i&&i.node){const o=i.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const i=this.getWebSocketConstructor();return new i(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const R2="2.96.0",k2=`realtime-js/${R2}`,O2="1.0.0",I0="2.0.0",dv=I0,Ah=1e4,D2=1e3,M2=100;var Ss;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ss||(Ss={}));var at;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(at||(at={}));var hn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(hn||(hn={}));var Ch;(function(n){n.websocket="websocket"})(Ch||(Ch={}));var Zs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Zs||(Zs={}));class L2{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,i;const o=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var a,i;const o=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,a,i){var o,u;const d=t.topic,f=(o=t.ref)!==null&&o!==void 0?o:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",g=t.payload.event,x=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+g.length+y.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(w),T=0;S.setUint8(T++,this.KINDS.userBroadcastPush),S.setUint8(T++,p.length),S.setUint8(T++,f.length),S.setUint8(T++,d.length),S.setUint8(T++,g.length),S.setUint8(T++,y.length),S.setUint8(T++,a),Array.from(p,C=>S.setUint8(T++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(T++,C.charCodeAt(0))),Array.from(d,C=>S.setUint8(T++,C.charCodeAt(0))),Array.from(g,C=>S.setUint8(T++,C.charCodeAt(0))),Array.from(y,C=>S.setUint8(T++,C.charCodeAt(0)));var j=new Uint8Array(w.byteLength+i.byteLength);return j.set(new Uint8Array(w),0),j.set(new Uint8Array(i),w.byteLength),j.buffer}decode(t,a){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return a(i)}if(typeof t=="string"){const i=JSON.parse(t),[o,u,d,f,p]=i;return a({join_ref:o,ref:u,topic:d,event:f,payload:p})}return a({})}_binaryDecode(t){const a=new DataView(t),i=a.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,a,o)}_decodeUserBroadcast(t,a,i){const o=a.getUint8(1),u=a.getUint8(2),d=a.getUint8(3),f=a.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(t.slice(p,p+o));p=p+o;const x=i.decode(t.slice(p,p+u));p=p+u;const y=i.decode(t.slice(p,p+d));p=p+d;const v=t.slice(p,t.byteLength),w=f===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,S={type:this.BROADCAST_EVENT,event:x,payload:w};return d>0&&(S.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>a.includes(i)))}}class K0{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Me||(Me={}));const hv=(n,t,a={})=>{var i;const o=(i=a.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=U2(d,n,t,o),u),{}):{}},U2=(n,t,a,i)=>{const o=t.find(f=>f.name===n),u=o?.type,d=a[n];return u&&!i.includes(u)?Y0(u,d):Rh(d)},Y0=(n,t)=>{if(n.charAt(0)==="_"){const a=n.slice(1,n.length);return V2(t,a)}switch(n){case Me.bool:return z2(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return B2(t);case Me.json:case Me.jsonb:return P2(t);case Me.timestamp:return H2(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Rh(t);default:return Rh(t)}},Rh=n=>n,z2=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},B2=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},P2=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},V2=(n,t)=>{if(typeof n!="string")return n;const a=n.length-1,i=n[a];if(n[0]==="{"&&i==="}"){let u;const d=n.slice(1,a);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>Y0(t,f))}return n},H2=n=>typeof n=="string"?n.replace(" ","T"):n,F0=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kd{constructor(t,a,i={},o=Ah){this.channel=t,this.event=a,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var i;return this._hasReceived(t)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(fv||(fv={}));class wi{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wi.syncState(this.state,o,u,d),this.pendingDiffs.forEach(p=>{this.state=wi.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=wi.syncDiff(this.state,o,u,d),f())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,i,o){const u=this.cloneDeep(t),d=this.transformState(a),f={},p={};return this.map(u,(g,x)=>{d[g]||(p[g]=x)}),this.map(d,(g,x)=>{const y=u[g];if(y){const v=x.map(j=>j.presence_ref),w=y.map(j=>j.presence_ref),S=x.filter(j=>w.indexOf(j.presence_ref)<0),T=y.filter(j=>v.indexOf(j.presence_ref)<0);S.length>0&&(f[g]=S),T.length>0&&(p[g]=T)}else f[g]=x}),this.syncDiff(u,{joins:f,leaves:p},i,o)}static syncDiff(t,a,i,o){const{joins:u,leaves:d}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(f,p)=>{var g;const x=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(p),x.length>0){const y=t[f].map(w=>w.presence_ref),v=x.filter(w=>y.indexOf(w.presence_ref)<0);t[f].unshift(...v)}i(f,x,p)}),this.map(d,(f,p)=>{let g=t[f];if(!g)return;const x=p.map(y=>y.presence_ref);g=g.filter(y=>x.indexOf(y.presence_ref)<0),t[f]=g,o(f,g,p),g.length===0&&delete t[f]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(i=>a(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,i)=>{const o=t[i];return"metas"in o?a[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[i]=o,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(mv||(mv={}));var Si;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Si||(Si={}));var In;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(In||(In={}));class rr{constructor(t,a={config:{}},i){var o,u;if(this.topic=t,this.params=a,this.socket=i,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Kd(this,hn.join,this.params,this.timeout),this.rejoinTimer=new K0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new wi(this),this.broadcastEndpointURL=F0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&o!==void 0?o:[],x=!!this.bindings[Si.PRESENCE]&&this.bindings[Si.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},v={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(In.CHANNEL_ERROR,w)),this._onClose(()=>t?.(In.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(In.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,j=(S=T?.length)!==null&&S!==void 0?S:0,C=[];for(let A=0;A<j;A++){const E=T[A],{filter:{event:M,schema:B,table:$,filter:Y}}=E,F=w&&w[A];if(F&&F.event===M&&rr.isFilterValueEqual(F.schema,B)&&rr.isFilterValueEqual(F.table,$)&&rr.isFilterValueEqual(F.filter,Y))C.push(Object.assign(Object.assign({},E),{id:F.id}));else{this.unsubscribe(),this.state=at.errored,t?.(In.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(In.SUBSCRIBED);return}}).receive("error",w=>{this.state=at.errored,t?.(In.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(In.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,i){return this.state===at.joined&&t===Si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,i)}async httpSend(t,a,i={}){var o;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(t,a={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,p;const g=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Kd(this,hn.leave,{},t),i.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(t,a,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),d}_push(t,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Kd(this,t,a,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>M2){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,i){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,i){var o,u;const d=t.toLocaleLowerCase(),{close:f,error:p,leave:g,join:x}=hn;if(i&&[f,p,g,x].indexOf(d)>=0&&i!==this._joinRef())return;let v=this._onMessage(d,a,i);if(a&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var S,T,j;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(T=w.filter)===null||T===void 0?void 0:T.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(w=>w.callback(v,i)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var S,T,j,C,A,E;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const M=w.id,B=(S=w.filter)===null||S===void 0?void 0:S.event;return M&&((T=a.ids)===null||T===void 0?void 0:T.includes(M))&&(B==="*"||B?.toLocaleLowerCase()===((j=a.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const M=(A=(C=w?.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return M==="*"||M===((E=a?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:T,table:j,commit_timestamp:C,type:A,errors:E}=S;v=Object.assign(Object.assign({},{schema:T,table:j,commit_timestamp:C,eventType:A,new:{},old:{},errors:E}),this._getPayloadRecords(S))}w.callback(v,i)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,i){const o=t.toLocaleLowerCase(),u={type:o,filter:a,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,a){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&rr.isEqual(o.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const i in t)if(t[i]!==a[i])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hn.close,{},t)}_onError(t){this._on(hn.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=hv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=hv(t.columns,t.old_record)),a}}const Yd=()=>{},yo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q2=[1e3,2e3,5e3,1e4],$2=1e4,G2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class I2{constructor(t,a){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ah,this.transport=null,this.heartbeatIntervalMs=yo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yd,this.ref=0,this.reconnectTimer=null,this.vsn=dv,this.logger=Yd,this.conn=null,this.sendBuffer=[],this.serializer=new L2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((i=a?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Ch.websocket}`,this.httpEndpoint=F0(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,i){this.logger(t,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return Zs.Connecting;case Ss.open:return Zs.Open;case Ss.closing:return Zs.Closing;default:return Zs.Closed}}isConnected(){return this.connectionState()===Zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new rr(`realtime:${t}`,a,this);return this.channels.push(u),u}}push(t){const{topic:a,event:i,payload:o,ref:u}=t,d=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${a} ${i} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D2,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},yo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",g)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:u,ref:d}=a,f=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${i} ${o} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(o,u,d)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ss.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ss.open||this.conn.readyState===Ss.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(hn.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${t}${i}${o}`}_workerObjectUrl(t){let a;if(t)a=t;else{const i=new Blob([G2],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,i=!1;if(t)a=t,i=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const u={access_token:a,version:k2};a&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(hn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(a)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new K0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,i,o,u,d,f,p,g,x,y,v,w;switch(this.transport=(a=t?.transport)!==null&&a!==void 0?a:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Ah,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:yo.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Yd,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:dv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>q2[S-1]||$2),this.vsn){case O2:this.encode=(x=t?.encode)!==null&&x!==void 0?x:((S,T)=>T(JSON.stringify(S))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:((S,T)=>T(JSON.parse(S)));break;case I0:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var ki=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function K2(n,t,a){const i=new URL(t,n);if(a)for(const[o,u]of Object.entries(a))u!==void 0&&i.searchParams.set(o,u);return i.toString()}async function Y2(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function F2(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:a,path:i,query:o,body:u,headers:d}){const f=K2(n.baseUrl,i,o),p=await Y2(n.auth),g=await t(f,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),x=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),v=y&&x?JSON.parse(x):x;if(!g.ok){const w=y?v:void 0,S=w?.error;throw new ki(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:w})}return{status:g.status,headers:g.headers,data:v}}}}function xo(n){return n.join("")}var X2=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:xo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,t){const a={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xo(n.namespace)}`}),!0}catch(t){if(t instanceof ki&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(a){if(a instanceof ki&&a.status===409)return;throw a}}};function Ga(n){return n.join("")}var W2=class{constructor(n,t="",a){this.client=n,this.prefix=t,this.accessDelegation=a}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ga(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ga(n.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(n,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ga(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ga(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ga(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ga(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(a){if(a instanceof ki&&a.status===404)return!1;throw a}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(a){if(a instanceof ki&&a.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw a}}},J2=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const a=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=F2({baseUrl:a,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new X2(this.client,t),this.tableOps=new W2(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Zo=class extends Error{constructor(n,t="storage",a,i){super(n),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=i}};function ec(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var vo=class extends Zo{constructor(n,t,a,i="storage"){super(n,i,t,a),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},X0=class extends Zo{constructor(n,t,a="storage"){super(n,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Q2=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Z2=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},kh=n=>{if(Array.isArray(n))return n.map(a=>kh(a));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([a,i])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=kh(i)}),t},eC=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Oi(n){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(n)}function tC(n,t){if(Oi(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,t);if(Oi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function nC(n){var t=tC(n,"string");return Oi(t)=="symbol"?t:t+""}function sC(n,t,a){return(t=nC(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function pv(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,i)}return a}function oe(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?pv(Object(a),!0).forEach(function(i){sC(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):pv(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}const gv=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},aC=async(n,t,a,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!a?.noResolveJson){const o=n,u=o.status||500;if(typeof o.json=="function")o.json().then(d=>{const f=d?.statusCode||d?.code||u+"";t(new vo(gv(d),u,f,i))}).catch(()=>{if(i==="vectors"){const d=u+"";t(new vo(o.statusText||`HTTP ${u} error`,u,d,i))}else{const d=u+"";t(new vo(o.statusText||`HTTP ${u} error`,u,d,i))}});else{const d=u+"";t(new vo(o.statusText||`HTTP ${u} error`,u,d,i))}}else t(new X0(gv(n),n,i))},rC=(n,t,a,i)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"||n==="HEAD"||!i?oe(oe({},o),a):(Z2(i)?(o.headers=oe({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(i)):o.body=i,t?.duplex&&(o.duplex=t.duplex),oe(oe({},o),a))};async function fi(n,t,a,i,o,u,d){return new Promise((f,p)=>{n(a,rC(t,i,o,u)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;if(d==="vectors"){const x=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!x||!x.includes("application/json"))return{}}return g.json()}).then(g=>f(g)).catch(g=>aC(g,p,i,d))})}function W0(n="storage"){return{get:async(t,a,i,o)=>fi(t,"GET",a,i,o,void 0,n),post:async(t,a,i,o,u)=>fi(t,"POST",a,o,u,i,n),put:async(t,a,i,o,u)=>fi(t,"PUT",a,o,u,i,n),head:async(t,a,i,o)=>fi(t,"HEAD",a,oe(oe({},i),{},{noResolveJson:!0}),o,void 0,n),remove:async(t,a,i,o,u)=>fi(t,"DELETE",a,o,u,i,n)}}const iC=W0("storage"),{get:Di,post:dn,put:Oh,head:lC,remove:Nf}=iC,$t=W0("vectors");var pr=class{constructor(n,t={},a,i="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.fetch=Q2(a),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=oe(oe({},this.headers),{},{[n]:t}),this}async handleOperation(n){var t=this;try{return{data:await n(),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(ec(a))return{data:null,error:a};throw a}}},oC=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(ec(t))return{data:null,error:t};throw t}}};let J0;J0=Symbol.toStringTag;var cC=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[J0]="BlobDownloadBuilder",this.promise=null}asStream(){return new oC(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(ec(t))return{data:null,error:t};throw t}}};const uC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var dC=class extends pr{constructor(n,t={},a,i){super(n,t,i,"storage"),this.bucketId=a}async uploadOrUpdate(n,t,a,i){var o=this;return o.handleOperation(async()=>{let u;const d=oe(oe({},yv),i);let f=oe(oe({},o.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",o.encodeMetadata(p)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(p))):(u=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),i?.headers&&(f=oe(oe({},f),i.headers));const g=o._removeEmptyFolders(t),x=o._getFinalPath(g),y=await(n=="PUT"?Oh:dn)(o.fetch,`${o.url}/object/${x}`,u,oe({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{path:g,id:y.Id,fullPath:y.Key}})}async upload(n,t,a){return this.uploadOrUpdate("POST",n,t,a)}async uploadToSignedUrl(n,t,a,i){var o=this;const u=o._removeEmptyFolders(n),d=o._getFinalPath(u),f=new URL(o.url+`/object/upload/sign/${d}`);return f.searchParams.set("token",t),o.handleOperation(async()=>{let p;const g=oe({upsert:yv.upsert},i),x=oe(oe({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",g.cacheControl)):(p=a,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType),{path:u,fullPath:(await Oh(o.fetch,f.toString(),p,{headers:x})).Key}})}async createSignedUploadUrl(n,t){var a=this;return a.handleOperation(async()=>{let i=a._getFinalPath(n);const o=oe({},a.headers);t?.upsert&&(o["x-upsert"]="true");const u=await dn(a.fetch,`${a.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(a.url+u.url),f=d.searchParams.get("token");if(!f)throw new Zo("No token returned by API");return{signedUrl:d.toString(),path:n,token:f}})}async update(n,t,a){return this.uploadOrUpdate("PUT",n,t,a)}async move(n,t,a){var i=this;return i.handleOperation(async()=>await dn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:i.headers}))}async copy(n,t,a){var i=this;return i.handleOperation(async()=>({path:(await dn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(n,t,a){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(n),u=await dn(i.fetch,`${i.url}/object/sign/${o}`,oe({expiresIn:t},a?.transform?{transform:a.transform}:{}),{headers:i.headers});const d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${i.url}${u.signedURL}${d}`)}})}async createSignedUrls(n,t,a){var i=this;return i.handleOperation(async()=>{const o=await dn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:n},{headers:i.headers}),u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return o.map(d=>oe(oe({},d),{},{signedUrl:d.signedURL?encodeURI(`${i.url}${d.signedURL}${u}`):null}))})}download(n,t,a){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),u=o?`?${o}`:"",d=this._getFinalPath(n),f=()=>Di(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0},a);return new cC(f,this.shouldThrowOnError)}async info(n){var t=this;const a=t._getFinalPath(n);return t.handleOperation(async()=>kh(await Di(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})))}async exists(n){var t=this;const a=t._getFinalPath(n);try{return await lC(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ec(i)&&i instanceof X0){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,t){const a=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const u=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${f}`)}}}async remove(n){var t=this;return t.handleOperation(async()=>await Nf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}))}async list(n,t,a){var i=this;return i.handleOperation(async()=>{const o=oe(oe(oe({},uC),t),{},{prefix:n||""});return await dn(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},a)})}async listV2(n,t){var a=this;return a.handleOperation(async()=>{const i=oe({},n);return await dn(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,i,{headers:a.headers},t)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const hC="2.96.0",Gi={"X-Client-Info":`storage-js/${hC}`};var fC=class extends pr{constructor(n,t={},a,i){const o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),d=oe(oe({},Gi),t);super(u,d,a,"storage")}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const a=t.listBucketOptionsToQueryString(n);return await Di(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers})})}async getBucket(n){var t=this;return t.handleOperation(async()=>await Di(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}))}async createBucket(n,t={public:!1}){var a=this;return a.handleOperation(async()=>await dn(a.fetch,`${a.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async updateBucket(n,t){var a=this;return a.handleOperation(async()=>await Oh(a.fetch,`${a.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(n){var t=this;return t.handleOperation(async()=>await dn(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Nf(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mC=class extends pr{constructor(n,t={},a){const i=n.replace(/\/$/,""),o=oe(oe({},Gi),t);super(i,o,a,"storage")}async createBucket(n){var t=this;return t.handleOperation(async()=>await dn(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}))}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const a=new URLSearchParams;n?.limit!==void 0&&a.set("limit",n.limit.toString()),n?.offset!==void 0&&a.set("offset",n.offset.toString()),n?.sortColumn&&a.set("sortColumn",n.sortColumn),n?.sortOrder&&a.set("sortOrder",n.sortOrder),n?.search&&a.set("search",n.search);const i=a.toString(),o=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await Di(t.fetch,o,{headers:t.headers})})}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Nf(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}from(n){var t=this;if(!eC(n))throw new Zo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new J2({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(a,{get(o,u){const d=o[u];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(o,f),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}},pC=class extends pr{constructor(n,t={},a){const i=n.replace(/\/$/,""),o=oe(oe({},Gi),{},{"Content-Type":"application/json"},t);super(i,o,a,"vectors")}async createIndex(n){var t=this;return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{})}async getIndex(n,t){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:a.headers}))}async listIndexes(n){var t=this;return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}))}async deleteIndex(n,t){var a=this;return a.handleOperation(async()=>await $t.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:a.headers})||{})}},gC=class extends pr{constructor(n,t={},a){const i=n.replace(/\/$/,""),o=oe(oe({},Gi),{},{"Content-Type":"application/json"},t);super(i,o,a,"vectors")}async putVectors(n){var t=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{})}async getVectors(n){var t=this;return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}))}async listVectors(n){var t=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}))}async queryVectors(n){var t=this;return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}))}async deleteVectors(n){var t=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{})}},yC=class extends pr{constructor(n,t={},a){const i=n.replace(/\/$/,""),o=oe(oe({},Gi),{},{"Content-Type":"application/json"},t);super(i,o,a,"vectors")}async createBucket(n){var t=this;return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}async getBucket(n){var t=this;return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}))}async listBuckets(n={}){var t=this;return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await $t.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}},xC=class extends yC{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new vC(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,a=this;return t().call(a,n)}async getBucket(n){var t=()=>super.getBucket,a=this;return t().call(a,n)}async listBuckets(n={}){var t=()=>super.listBuckets,a=this;return t().call(a,n)}async deleteBucket(n){var t=()=>super.deleteBucket,a=this;return t().call(a,n)}},vC=class extends pC{constructor(n,t,a,i){super(n,t,i),this.vectorBucketName=a}async createIndex(n){var t=()=>super.createIndex,a=this;return t().call(a,oe(oe({},n),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,a=this;return t().call(a,oe(oe({},n),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,n)}index(n){return new bC(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},bC=class extends gC{constructor(n,t,a,i,o){super(n,t,o),this.vectorBucketName=a,this.indexName=i}async putVectors(n){var t=()=>super.putVectors,a=this;return t().call(a,oe(oe({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(n){var t=()=>super.getVectors,a=this;return t().call(a,oe(oe({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,a=this;return t().call(a,oe(oe({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,a=this;return t().call(a,oe(oe({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,a=this;return t().call(a,oe(oe({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},wC=class extends fC{constructor(n,t={},a,i){super(n,t,a,i)}from(n){return new dC(this.url,this.headers,n,this.fetch)}get vectors(){return new xC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mC(this.url+"/iceberg",this.headers,this.fetch)}};const Q0="2.96.0",Qa=30*1e3,Dh=3,Fd=Dh*Qa,SC="http://localhost:9999",_C="supabase.auth.token",jC={"X-Client-Info":`gotrue-js/${Q0}`},Mh="X-Supabase-Api-Version",Z0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NC=600*1e3;class Mi extends Error{constructor(t,a,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function se(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class EC extends Mi{constructor(t,a,i){super(t,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function AC(n){return se(n)&&n.name==="AuthApiError"}class ea extends Mi{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class Xn extends Mi{constructor(t,a,i,o){super(t,i,o),this.name=a,this.status=i}}class qt extends Xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xd(n){return se(n)&&n.name==="AuthSessionMissingError"}class Ia extends Xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bo extends Xn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wo extends Xn{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CC(n){return se(n)&&n.name==="AuthImplicitGrantRedirectError"}class xv extends Xn{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class RC extends Xn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lh extends Xn{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Wd(n){return se(n)&&n.name==="AuthRetryableFetchError"}class vv extends Xn{constructor(t,a,i){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class Uh extends Xn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bv=` 	
\r=`.split(""),kC=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<bv.length;t+=1)n[bv[t].charCodeAt(0)]=-2;for(let t=0;t<$o.length;t+=1)n[$o[t].charCodeAt(0)]=t;return n})();function wv(n,t,a){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;a($o[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;a($o[i]),t.queuedBits-=6}}function ew(n,t,a){const i=kC[n];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Sv(n){const t=[],a=d=>{t.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{MC(d,i,a)};for(let d=0;d<n.length;d+=1)ew(n.charCodeAt(d),o,u);return t.join("")}function OC(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function DC(n,t){for(let a=0;a<n.length;a+=1){let i=n.charCodeAt(a);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}OC(i,t)}}function MC(n,t,a){if(t.utf8seq===0){if(n<=127){a(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function lr(n){const t=[],a={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)ew(n.charCodeAt(o),a,i);return new Uint8Array(t)}function LC(n){const t=[];return DC(n,a=>t.push(a)),new Uint8Array(t)}function sa(n){const t=[],a={queue:0,queuedBits:0},i=o=>{t.push(o)};return n.forEach(o=>wv(o,a,i)),wv(null,a,i),t.join("")}function UC(n){return Math.round(Date.now()/1e3)+n}function zC(){return Symbol("auth-callback")}const pt=()=>typeof window<"u"&&typeof document<"u",Ys={tested:!1,writable:!1},tw=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ys.tested)return Ys.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ys.tested=!0,Ys.writable=!0}catch{Ys.tested=!0,Ys.writable=!1}return Ys.writable};function BC(n){const t={},a=new URL(n);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return a.searchParams.forEach((i,o)=>{t[o]=i}),t}const nw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),PC=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Za=async(n,t,a)=>{await n.setItem(t,JSON.stringify(a))},Fs=async(n,t)=>{const a=await n.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},mt=async(n,t)=>{await n.removeItem(t)};class tc{constructor(){this.promise=new tc.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}tc.promiseConstructor=Promise;function So(n){const t=n.split(".");if(t.length!==3)throw new Uh("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!TC.test(t[i]))throw new Uh("JWT not in base64url format");return{header:JSON.parse(Sv(t[0])),payload:JSON.parse(Sv(t[1])),signature:lr(t[2]),raw:{header:t[0],payload:t[1]}}}async function VC(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function HC(n,t){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await n(u);if(!t(u,null,d)){i(d);return}}catch(d){if(!t(u,d)){o(d);return}}})()})}function qC(n){return("0"+n.toString(16)).substr(-2)}function $C(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,qC).join("")}async function GC(n){const a=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function IC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const a=await GC(n);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ka(n,t,a=!1){const i=$C();let o=i;a&&(o+="/PASSWORD_RECOVERY"),await Za(n,`${t}-code-verifier`,o);const u=await IC(i);return[u,i===u?"plain":"s256"]}const KC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YC(n){const t=n.headers.get(Mh);if(!t||!t.match(KC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FC(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function XC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ya(n){if(!WC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jd(){const n={};return new Proxy(n,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JC(n,t){return new Proxy(n,{get:(a,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,i,o)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,i,o)}})}function _v(n){return JSON.parse(JSON.stringify(n))}const Qs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),QC=[502,503,504];async function jv(n){var t;if(!PC(n))throw new Lh(Qs(n),0);if(QC.includes(n.status))throw new Lh(Qs(n),n.status);let a;try{a=await n.json()}catch(u){throw new ea(Qs(u),u)}let i;const o=YC(n);if(o&&o.getTime()>=Z0["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new vv(Qs(a),n.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new qt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new vv(Qs(a),n.status,a.weak_password.reasons);throw new EC(Qs(a),n.status||500,i)}const ZC=(n,t,a,i)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),a))};async function ce(n,t,a,i){var o;const u=Object.assign({},i?.headers);u[Mh]||(u[Mh]=Z0["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await eR(n,t,a+f,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function eR(n,t,a,i,o,u){const d=ZC(t,i,o,u);let f;try{f=await n(a,Object.assign({},d))}catch(p){throw console.error(p),new Lh(Qs(p),0)}if(f.ok||await jv(f),i?.noResolveJson)return f;try{return await f.json()}catch(p){await jv(p)}}function cn(n){var t;let a=null;sR(n)&&(a=Object.assign({},n),n.expires_at||(a.expires_at=UC(n.expires_in)));const i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:a,user:i},error:null}}function Tv(n){const t=cn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function _s(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function tR(n){return{data:n,error:null}}function nR(n){const{action_link:t,email_otp:a,hashed_token:i,redirect_to:o,verification_type:u}=n,d=Qo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:a,hashed_token:i,redirect_to:o,verification_type:u},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function Nv(n){return n}function sR(n){return n.access_token&&n.refresh_token&&n.expires_in}const Qd=["global","local","others"];class aR{constructor({url:t="",headers:a={},fetch:i}){this.url=t,this.headers=a,this.fetch=nw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=Qd[0]){if(Qd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qd.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,a={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:_s})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:a}=t,i=Qo(t,["options"]),o=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:nR,redirectTo:a?.redirectTo})}catch(a){if(se(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_s})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,i,o,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},x=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Nv});if(x.error)throw x.error;const y=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);g[`${j}Page`]=T}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(se(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Ya(t);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_s})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Ya(t);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:_s})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,a=!1){Ya(t);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:_s})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Ya(t.userId);try{const{data:a,error:i}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:i}}catch(a){if(se(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Ya(t.userId),Ya(t.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,i,o,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},x=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Nv});if(x.error)throw x.error;const y=await x.json(),v=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);g[`${j}Page`]=T}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(se(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(se(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(se(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(se(a))return{data:null,error:a};throw a}}}function Ev(n={}){return{getItem:t=>n[t]||null,setItem:(t,a)=>{n[t]=a},removeItem:t=>{delete n[t]}}}const Fa={debug:!!(globalThis&&tw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Av extends sw{}async function rR(n,t,a){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const i=new globalThis.AbortController;t>0&&setTimeout(()=>{i.abort(),Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await a()}finally{Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Av(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Fa.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}})}catch(o){throw o?.name==="AbortError"?new Av(`Acquiring an exclusive Navigator LockManager lock "${n}" timed out waiting ${t}ms`):o}}function iR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function lR(n){return parseInt(n,16)}function oR(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function cR(n){var t;const{chainId:a,domain:i,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:p,resources:g,scheme:x,uri:y,version:v}=n;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const w=aw(n.address),S=x?`${x}://${i}`:i,T=n.statement?`${n.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${w}

${T}`;let C=`URI: ${y}
Version: ${v}
Chain ID: ${a}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),f&&(C+=`
Not Before: ${f.toISOString()}`),p&&(C+=`
Request ID: ${p}`),g){let A=`
Resources:`;for(const E of g){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);A+=`
- ${E}`}C+=A}return`${j}
${C}`}class et extends Error{constructor({message:t,code:a,cause:i,name:o}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=o??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class Go extends et{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function uR({error:n,options:t}){var a,i,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new et({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(rw(d)){if(u.rp.id!==d)return new et({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function dR({error:n,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new et({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(rw(i)){if(a.rpId!==i)return new et({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class hR{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const fR=new hR;function mR(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:a,excludeCredentials:i}=n,o=Qo(n,["challenge","user","excludeCredentials"]),u=lr(t).buffer,d=Object.assign(Object.assign({},a),{id:lr(a.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:u,user:d});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:lr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function pR(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:a}=n,i=Qo(n,["challenge","allowCredentials"]),o=lr(t).buffer,u=Object.assign(Object.assign({},i),{challenge:o});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const f=a[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:lr(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function gR(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n;return{id:n.id,rawId:n.id,response:{attestationObject:sa(new Uint8Array(n.response.attestationObject)),clientDataJSON:sa(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yR(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:sa(new Uint8Array(o.authenticatorData)),clientDataJSON:sa(new Uint8Array(o.clientDataJSON)),signature:sa(new Uint8Array(o.signature)),userHandle:o.userHandle?sa(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Cv(){var n,t;return!!(pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xR(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Go("Browser returned unexpected credential type",t)}:{data:null,error:new Go("Empty credential response",t)}}catch(t){return{data:null,error:uR({error:t,options:n})}}}async function vR(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Go("Browser returned unexpected credential type",t)}:{data:null,error:new Go("Empty credential response",t)}}catch(t){return{data:null,error:dR({error:t,options:n})}}}const bR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Io(...n){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(a(d))i[u]=d;else if(t(d)){const f=i[u];t(f)?i[u]=Io(f,d):i[u]=Io(d)}else i[u]=d}return i}function SR(n,t){return Io(bR,n,t||{})}function _R(n,t){return Io(wR,n,t||{})}class jR{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:i,signal:o},u){var d;try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!f)return{data:null,error:p};const g=o??fR.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:x}=f.webauthn.credential_options.publicKey;if(!x.name){const y=i;if(y)x.name=`${x.id}:${y}`;else{const w=(await this.client.getUser()).data.user,S=((d=w?.user_metadata)===null||d===void 0?void 0:d.name)||w?.email||w?.id||"User";x.name=`${x.id}:${S}`}}x.displayName||(x.displayName=x.name)}switch(f.webauthn.type){case"create":{const x=SR(f.webauthn.credential_options.publicKey,u?.create),{data:y,error:v}=await xR({publicKey:x,signal:g});return y?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const x=_R(f.webauthn.credential_options.publicKey,u?.request),{data:y,error:v}=await vR(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:x,signal:g}));return y?{data:{factorId:t,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(f){return se(f)?{data:null,error:f}:{data:null,error:new ea("Unexpected error in challenge",f)}}}async _verify({challengeId:t,factorId:a,webauthn:i}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new Mi("rpId is required for WebAuthn authentication")};try{if(!Cv())return{data:null,error:new ea("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:i},signal:o},{request:u});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:a,rpOrigins:i,credential_response:p.credential_response}})}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new ea("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new Mi("rpId is required for WebAuthn registration")};try{if(!Cv())return{data:null,error:new ea("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(x=>{var y;return(y=x.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:a,rpOrigins:i},signal:o},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:a,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new ea("Unexpected error in register",d)}}}}iR();const TR={url:SC,storageKey:_C,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Rv(n,t,a){return await a()}const Xa={};class Li{get jwks(){var t,a;return(a=(t=Xa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Xa[this.storageKey]=Object.assign(Object.assign({},Xa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Xa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xa[this.storageKey]=Object.assign(Object.assign({},Xa[this.storageKey]),{cachedAt:t})}constructor(t){var a,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},TR),t);if(this.storageKey=u.storageKey,this.instanceID=(a=Li.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Li.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&pt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new aR({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=nw(u.fetch),this.lock=u.lock||Rv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&pt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=rR:this.lock=Rv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:tw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ev(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Ev(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Q0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},i="none";if(pt()&&(a=BC(window.location.href),this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce")),pt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),CC(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return se(a)?this._returnResult({error:a}):this._returnResult({error:new ea("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,i,o;try{const u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=t?.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:cn}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var a,i,o;try{let u;if("email"in t){const{email:x,password:y,options:v}=t;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Ka(this.storage,this.storageKey)),u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:x,password:y,data:(a=v?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:S},xform:cn})}else if("phone"in t){const{phone:x,password:y,options:v}=t;u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(i=v?.data)!==null&&i!==void 0?i:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:cn})}else throw new bo("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await mt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let a;if("email"in t){const{email:u,password:d,options:f}=t;a=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Tv})}else if("phone"in t){const{phone:u,password:d,options:f}=t;a=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Tv})}else throw new bo("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const u=new Ia;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,i,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,i,o,u,d,f,p,g,x,y,v;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:T,wallet:j,statement:C,options:A}=t;let E;if(pt())if(typeof j=="object")E=j;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")E=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=j}const M=new URL((a=A?.url)!==null&&a!==void 0?a:window.location.href),B=await E.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=aw(B[0]);let Y=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Y){const W=await E.request({method:"eth_chainId"});Y=lR(W)}const F={domain:M.host,address:$,statement:C,uri:M.href,version:"1",chainId:Y,nonce:(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(x=A?.signInWithEthereum)===null||x===void 0?void 0:x.resources};w=cR(F),S=await E.request({method:"personal_sign",params:[oR(w),$]})}try{const{data:T,error:j}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:cn});if(j)throw j;if(!T||!T.session||!T.user){const C=new Ia;return this._returnResult({data:{user:null,session:null},error:C})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:j})}catch(T){if(se(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var a,i,o,u,d,f,p,g,x,y,v,w;let S,T;if("message"in t)S=t.message,T=t.signature;else{const{chain:j,wallet:C,statement:A,options:E}=t;let M;if(pt())if(typeof C=="object")M=C;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))M=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const B=new URL((a=E?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in M&&M.signIn){const $=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),A?{statement:A}:null));let Y;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")Y=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)Y=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)S=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),T=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${B.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(i=E?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=E?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((g=E?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(x=E?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const $=await M.signMessage(new TextEncoder().encode(S),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=$}}try{const{data:j,error:C}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:sa(T)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:cn});if(C)throw C;if(!j||!j.session||!j.user){const A=new Ia;return this._returnResult({data:{user:null,session:null},error:A})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:C})}catch(j){if(se(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const a=await Fs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(a??"").split("/");try{if(!i&&this.flowType==="pkce")throw new RC;const{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:cn});if(await mt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new Ia;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:a,provider:i,token:o,access_token:u,nonce:d}=t,f=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:cn}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const x=new Ia;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,i,o,u,d;try{if("email"in t){const{email:f,options:p}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Ka(this.storage,this.storageKey));const{error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:f,options:p}=t,{data:g,error:x}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:x})}throw new bo("You must provide either an email or phone number.")}catch(f){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var a,i;try{let o,u;"options"in t&&(o=(a=t.options)===null||a===void 0?void 0:a.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:f}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:cn});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var a,i,o,u,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Ka(this.storage,this.storageKey));const g=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:tR});return!((u=g.data)===null||u===void 0)&&u.url&&pt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:i}=t;if(i)throw i;if(!a)throw new qt;const{error:o}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(se(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:u}=t,{error:d}=await ce(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:i,type:o,options:u}=t,{data:d,error:f}=await ce(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new bo("You must provide either an email or phone number and a type")}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Fd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const d=await Fs(this.userStorage,this.storageKey+"-user");d?.user?t.user=d.user:t.user=Jd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=JC(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_s}):await this._useSession(async a=>{var i,o,u;const{data:d,error:f}=a;if(f)throw f;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:_s})})}catch(a){if(se(a))return Xd(a)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new qt;const d=o.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await Ka(this.storage,this.storageKey));const{data:g,error:x}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:_s});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qt;const a=Date.now()/1e3;let i=a,o=!0,u=null;const{payload:d}=So(t.access_token);if(d.exp&&(i=d.exp,o=i<=a),o){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(se(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var i;if(!t){const{data:d,error:f}=a;if(f)throw f;t=(i=d.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new qt;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!pt())throw new wo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new xv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wo("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xv("No code detected.");const{data:A,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=t;if(!u||!f||!d||!g)throw new wo("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(f);let v=x+y;p&&(v=parseInt(p));const w=v-x;w*1e3<=Qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const S=v-y;x-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,x):x-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,x);const{data:T,error:j}=await this._getUser(u);if(j)throw j;const C={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:y,expires_at:v,refresh_token:d,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Fs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u&&!Xd(u))return this._returnResult({error:u});const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(AC(f)&&(f.status===404||f.status===401||f.status===403)||Xd(f)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=zC(),i={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async a=>{var i,o;try{const{data:{session:u},error:d}=a;if(d)throw d;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,a={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Ka(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:i,error:o}=await this._useSession(async u=>{var d,f,p,g,x;const{data:y,error:v}=u;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",w,{headers:this.headers,jwt:(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return pt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(se(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var i;try{const{error:o,data:{session:u}}=a;if(o)throw o;const{options:d,provider:f,token:p,access_token:g,nonce:x}=t,y=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:p,access_token:g,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:cn}),{data:v,error:w}=y;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Ia}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(o){if(await mt(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var i,o;const{data:u,error:d}=a;if(d)throw d;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await HC(async o=>(o>0&&await VC(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cn})),(o,u)=>{const d=200*Math.pow(2,o);return u&&Wd(u)&&Date.now()+d-i<Qa})}catch(i){if(this._debug(a,"error",i),se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",i),pt()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,a;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Fs(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Za(this.userStorage,this.storageKey+"-user",d)),o.user=(t=d?.user)!==null&&t!==void 0?t:Jd()}else if(o&&!o.user&&!o.user){const d=await Fs(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await mt(this.storage,this.storageKey+"-user"),await Za(this.storage,this.storageKey,o)):o.user=Jd()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Fd;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Fd}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Wd(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(o.access_token);!f&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var a,i;if(!t)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new tc;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new qt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),se(u)){const d={data:null,error:u};return Wd(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,a,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:a});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,a)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await mt(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),i=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&a.user&&await Za(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const u=_v(o);await Za(this.storage,this.storageKey,u)}else{const o=_v(a);await Za(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/Qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qa}ms, refresh threshold is ${Dh} ticks`),o<=Dh&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,i){const o=[`provider=${encodeURIComponent(a)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await Ka(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(f.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;return u?this._returnResult({data:null,error:u}):await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var i,o;const{data:u,error:d}=a;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:g}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&p.type==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gR(t.webauthn.credential_response):yR(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const d=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:mR(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:pR(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=a?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var a,i,o,u;if(t)try{const{payload:w}=So(t);let S=null;w.aal&&(S=w.aal);let T=S;const{data:{user:j},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((i=(a=j?.factors)===null||a===void 0?void 0:a.filter(M=>M.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(T="aal2");const E=w.amr||[];return{data:{currentLevel:S,nextLevel:T,currentAuthenticationMethods:E},error:null}}catch(w){if(se(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:d},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=So(d.access_token);let g=null;p.aal&&(g=p.aal);let x=g;((u=(o=d.user.factors)===null||o===void 0?void 0:o.filter(w=>w.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(x="aal2");const v=p.amr||[];return{data:{currentLevel:g,nextLevel:x,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;return o?this._returnResult({data:null,error:o}):i?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new qt})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new qt});const d=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&pt()&&!a?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,a){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new qt});const d=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&pt()&&!a?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:i}=t;return i?this._returnResult({data:null,error:i}):a?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new qt})})}catch(t){if(se(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;return o?this._returnResult({data:null,error:o}):i?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let i=a.keys.find(f=>f.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(f=>f.kid===t),i&&this.jwks_cached_at+NC>o)return i;const{data:u,error:d}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(f=>f.kid===t),!i)?null:i}async getClaims(t,a={}){try{let i=t;if(!i){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});i=w.session.access_token}const{header:o,payload:u,signature:d,raw:{header:f,payload:p}}=So(i);a?.allowExpired||FC(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!g){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:u,header:o,signature:d},error:null}}const x=XC(o.alg),y=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,d,LC(`${f}.${p}`)))throw new Uh("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}}Li.nextInstanceID={};const NR=Li,ER="2.96.0";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const AR={"X-Client-Info":`supabase-js-${gi}/${ER}`},CR={headers:AR},RR={schema:"public"},kR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OR={};function Ui(n){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(n)}function DR(n,t){if(Ui(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,t);if(Ui(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function MR(n){var t=DR(n,"string");return Ui(t)=="symbol"?t:t+""}function LR(n,t,a){return(t=MR(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function kv(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,i)}return a}function Ie(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?kv(Object(a),!0).forEach(function(i){LR(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):kv(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}const UR=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),zR=()=>Headers,BR=(n,t,a)=>{const i=UR(a),o=zR();return async(u,d)=>{var f;const p=(f=await t())!==null&&f!==void 0?f:n;let g=new o(d?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(u,Ie(Ie({},d),{},{headers:g}))}};function PR(n){return n.endsWith("/")?n:n+"/"}function VR(n,t){var a,i;const{db:o,auth:u,realtime:d,global:f}=n,{db:p,auth:g,realtime:x,global:y}=t,v={db:Ie(Ie({},p),o),auth:Ie(Ie({},g),u),realtime:Ie(Ie({},x),d),storage:{},global:Ie(Ie(Ie({},y),f),{},{headers:Ie(Ie({},(a=y?.headers)!==null&&a!==void 0?a:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function HR(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qR=class extends NR{constructor(n){super(n)}},$R=class{constructor(n,t,a){var i,o;this.supabaseUrl=n,this.supabaseKey=t;const u=HR(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:RR,realtime:OR,auth:Ie(Ie({},kR),{},{storageKey:d}),global:CR},p=VR(a??{},f);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=BR(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new A2(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new wC(this.storageUrl.href,this.headers,this.fetch,a?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new b2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,a)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,a;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(t=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:i,userStorage:o,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:g},x,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qR({url:this.authUrl.href,headers:Ie(Ie({},v),x),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:i,userStorage:o,flowType:d,lock:f,debug:p,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new I2(this.realtimeUrl.href,Ie(Ie({},n),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const GR=(n,t,a)=>new $R(n,t,a);function IR(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}IR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const KR=void 0,YR=void 0,re=GR(KR,YR),iw=Object.freeze(Object.defineProperty({__proto__:null,supabase:re},Symbol.toStringTag,{value:"Module"})),Ef=N.createContext(void 0),FR=({children:n})=>{const[t,a]=N.useState({user:null,role:null,gymId:null,userName:null,gymName:null,hasMembership:!1,loading:!0}),i=()=>{a({user:null,role:null,gymId:null,userName:null,gymName:null,hasMembership:!1,loading:!1})},o=async f=>{try{const{data:p,error:g}=await re.from("profiles").select("role, gym_id").eq("id",f).maybeSingle();if(g)throw g;console.log("AuthContext Fetched Profile:",p);const x=p?.role??"member",y=p?.gym_id??null,v=null;let w=null,S=!1;if(y){const{data:T}=await re.from("gyms").select("name").eq("id",y).maybeSingle();w=T?.name??null}if(x==="member"&&y){const{data:T}=await re.from("members").select("id").eq("user_id",f).eq("gym_id",y).maybeSingle();S=!!T}a(T=>({...T,role:x,gymId:y,userName:v,gymName:w,hasMembership:S,loading:!1}))}catch(p){console.error("Exception fetching user data:",p),a(g=>({...g,loading:!1}))}};N.useEffect(()=>{let f=!0;const{data:{subscription:p}}=re.auth.onAuthStateChange(async(g,x)=>{if(!f)return;const y=x?.user??null;y?(a(v=>v.user?.id===y.id&&!v.loading?v:{...v,user:y,loading:!0}),setTimeout(()=>o(y.id),50)):i()});return()=>{f=!1,p.unsubscribe()}},[]);const u=async()=>{await re.auth.signOut()},d=async()=>{t.user&&(a(f=>({...f,loading:!0})),await o(t.user.id))};return c.jsx(Ef.Provider,{value:{...t,signOut:u,refreshAuth:d},children:n})},ra=()=>{const n=_o.useContext(Ef);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},jt=()=>{const n=N.useContext(Ef);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},XR={theme:"system",setTheme:()=>null},lw=N.createContext(XR);function WR({children:n,defaultTheme:t="system",storageKey:a="vite-ui-theme"}){const[i,o]=N.useState(()=>localStorage.getItem(a)||t);N.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),i==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(f);return}d.classList.add(i)},[i]);const u={theme:i,setTheme:d=>{localStorage.setItem(a,d),o(d)}};return c.jsx(lw.Provider,{value:u,children:n})}const JR=()=>{const n=N.useContext(lw);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},QR=()=>{const{theme:n,setTheme:t}=JR(),{user:a,role:i,gymName:o,signOut:u}=jt(),d=Nn(),[f,p]=N.useState(!1),g=N.useRef(null);N.useEffect(()=>{const v=w=>{g.current&&!g.current.contains(w.target)&&p(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const x=async()=>{await u(),d("/"),p(!1)},y=v=>v?v.substring(0,2).toUpperCase():"U";return c.jsxs("header",{className:"sticky top-0 z-50 flex items-center justify-between border-b border-[var(--border)] bg-[var(--background)]/80 px-6 py-4 backdrop-blur-md lg:px-10 transition-colors duration-300",children:[c.jsx("div",{className:"flex items-center gap-3 text-[var(--text-primary)]",children:c.jsxs(ot,{to:"/",className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-primary/10 text-primary",children:c.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"fitness_center"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight",children:"Smart Gym"}),o&&c.jsx("p",{className:"text-[10px] font-bold text-primary uppercase tracking-wider leading-none mt-0.5",children:o})]})]})}),c.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[c.jsx("a",{href:"#features",className:"text-sm font-medium text-[var(--text-secondary)] transition-colors hover:text-primary",children:"Features"}),c.jsx("a",{href:"#pricing",className:"text-sm font-medium text-[var(--text-secondary)] transition-colors hover:text-primary",children:"Pricing"}),c.jsx("a",{href:"#resources",className:"text-sm font-medium text-[var(--text-secondary)] transition-colors hover:text-primary",children:"Resources"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t(n==="dark"?"light":"dark"),className:"flex size-9 items-center justify-center rounded-lg border border-[var(--border)] bg-[var(--surface-highlight)] text-[var(--text-secondary)] transition-colors hover:bg-[var(--surface-highlight)]/80","aria-label":"Toggle Theme",children:c.jsx("span",{className:"material-symbols-outlined text-[20px]",children:n==="dark"?"light_mode":"dark_mode"})}),a&&(i==="gym_admin"||i==="admin")&&c.jsxs(ot,{to:"/admin",className:"hidden lg:flex items-center gap-2 bg-primary/10 hover:bg-primary/20 text-primary px-4 py-2 rounded-lg text-sm font-bold transition-all active:scale-95",children:[c.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"dashboard"}),"Dashboard"]}),a?c.jsxs("div",{className:"relative",ref:g,children:[c.jsxs("button",{onClick:()=>p(!f),className:"flex items-center gap-2 rounded-full border border-[var(--border)] bg-[var(--surface)] p-1 pr-3 hover:bg-[var(--surface-highlight)] transition-colors",children:[c.jsx("div",{className:"flex size-8 items-center justify-center rounded-full bg-primary/20 text-xs font-bold text-primary",children:y(a.email)}),c.jsx("span",{className:"text-sm font-medium text-[var(--text-primary)] hidden sm:block",children:"Profile"}),c.jsx("span",{className:"material-symbols-outlined text-[20px] text-[var(--text-secondary)]",children:f?"expand_less":"expand_more"})]}),f&&c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl border border-[var(--border)] bg-[var(--surface)] p-2 shadow-xl animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"px-3 py-2 border-b border-[var(--border)] mb-1",children:[c.jsx("p",{className:"text-xs font-medium text-[var(--text-secondary)]",children:"Signed in as"}),c.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] truncate",children:a.email}),c.jsx("span",{className:"text-[10px] uppercase font-bold text-primary bg-primary/10 px-1.5 py-0.5 rounded mt-1 inline-block",children:i?.replace("_"," ")})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[i==="gym_admin"&&c.jsxs(c.Fragment,{children:[c.jsxs(ot,{to:"/admin",className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-[var(--text-secondary)] hover:bg-[var(--surface-highlight)] hover:text-[var(--text-primary)] transition-colors",onClick:()=>p(!1),children:[c.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"dashboard"}),"Manage Gym"]}),c.jsxs(ot,{to:"/admin/members",className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-[var(--text-secondary)] hover:bg-[var(--surface-highlight)] hover:text-[var(--text-primary)] transition-colors",onClick:()=>p(!1),children:[c.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"group_add"}),"Add Members"]}),c.jsxs(ot,{to:"/admin/analytics",className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-[var(--text-secondary)] hover:bg-[var(--surface-highlight)] hover:text-[var(--text-primary)] transition-colors",onClick:()=>p(!1),children:[c.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"analytics"}),"Revenue"]})]}),i==="member"&&c.jsxs(ot,{to:"/dashboard",className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-[var(--text-secondary)] hover:bg-[var(--surface-highlight)] hover:text-[var(--text-primary)] transition-colors",onClick:()=>p(!1),children:[c.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"person"}),"My Dashboard"]}),c.jsxs("button",{onClick:x,className:"flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-red-500 hover:bg-red-500/10 transition-colors text-left",children:[c.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"logout"}),"Sign Out"]})]})]})]}):c.jsxs(c.Fragment,{children:[c.jsx(ot,{to:"/login",className:"hidden sm:flex h-9 cursor-pointer items-center justify-center rounded-lg px-4 text-sm font-bold text-[var(--text-secondary)] transition-colors hover:text-primary",children:"Gym Login"}),c.jsx(ot,{to:"/login",className:"flex h-10 cursor-pointer items-center justify-center rounded-lg bg-primary px-5 text-sm font-bold text-white transition-all hover:bg-green-600 active:scale-95 shadow-md shadow-primary/20",children:"Get Started"})]})]})]})},ZR={addLead:async(n,t)=>{const{data:a,error:i}=await re.from("leads").insert([{email:n,gym_id:t}]).select().maybeSingle();if(i)throw i;return{id:a.id,email:a.email,createdAt:a.created_at,status:a.status,gym_id:a.gym_id}},getLeads:async n=>{let t=re.from("leads").select("*");n&&(t=t.eq("gym_id",n));const{data:a,error:i}=await t.order("created_at",{ascending:!1});return i?(console.error("Error fetching leads:",i),[]):a.map(o=>({id:o.id,email:o.email,createdAt:o.created_at,status:o.status,gym_id:o.gym_id}))}},ek=()=>{const[n,t]=N.useState(""),[a,i]=N.useState("idle"),o=async u=>{u.preventDefault(),n&&(i("loading"),await ZR.addLead(n),i("success"),t(""))};return c.jsxs("section",{className:"relative overflow-hidden px-6 py-16 lg:px-10 lg:py-24 bg-[var(--background)] transition-colors duration-300",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-96 w-96 rounded-full bg-primary/10 blur-3xl"}),c.jsx("div",{className:"absolute top-1/2 left-0 h-64 w-64 -translate-y-1/2 rounded-full bg-indigo-500/10 blur-3xl"}),c.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col items-center gap-12 lg:flex-row lg:gap-16",children:[c.jsxs("div",{className:"flex flex-1 flex-col items-center text-center lg:items-start lg:text-left",children:[c.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6 inline-flex items-center gap-2 rounded-full border border-[var(--border)] bg-[var(--surface-highlight)] px-3 py-1 transition-colors",children:[c.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-500"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-[var(--text-secondary)]",children:"New: AI Retention Tool"})]}),c.jsxs(ne.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-6 text-5xl font-extrabold leading-tight tracking-tight text-[var(--text-primary)] sm:text-6xl xl:text-7xl transition-colors",children:["Run Your Gym ",c.jsx("br",{className:"hidden lg:block"}),c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-indigo-400",children:"Like a Machine"})]}),c.jsx(ne.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-8 max-w-2xl text-lg text-[var(--text-secondary)] sm:text-xl transition-colors",children:"Smart Automation. Real Insights. Zero Chaos. The all-in-one OS designed to scale modern fitness centers without the headache."}),c.jsxs("div",{className:"flex flex-col w-full max-w-sm gap-4 mb-8",children:[c.jsxs(ne.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},onSubmit:o,className:"flex gap-2",children:[c.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 rounded-lg border border-[var(--border)] bg-[var(--surface)] px-4 py-3 text-[var(--text-primary)] placeholder-gray-500 focus:border-primary focus:outline-none transition-colors",value:n,onChange:u=>t(u.target.value),disabled:a==="loading"||a==="success"}),c.jsx(ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:a==="loading"||a==="success",className:"flex items-center justify-center rounded-lg bg-primary px-6 font-bold text-white transition-colors hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-primary/25",children:a==="loading"?"...":a==="success"?"Sent!":"Get Started"})]}),a==="success"&&c.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm",children:"Thanks! We've added you to our database."})]}),c.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-[var(--text-secondary)] transition-colors",children:[c.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(u=>c.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-[var(--background)] bg-[var(--surface-highlight)] overflow-hidden relative transition-colors",children:c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-300 to-gray-400 dark:from-gray-500 dark:to-gray-700"})},u))}),c.jsx("p",{children:"Trusted by 500+ gym owners"})]})]}),c.jsx(ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4},className:"relative flex-1 w-full max-w-lg lg:max-w-none pt-10 px-4 sm:px-0",children:c.jsxs(ne.div,{animate:{y:[0,-20,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"relative aspect-square w-full rounded-2xl border border-[var(--border)] bg-[var(--surface)]/50 p-6 shadow-2xl backdrop-blur-sm lg:aspect-[4/3] overflow-visible transition-colors",children:[c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-gray-100 to-white dark:from-gray-900 dark:to-black opacity-80 overflow-hidden transition-colors"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[var(--border)] font-bold text-4xl lg:text-5xl opacity-40 dark:opacity-20 rotate-[-12deg] select-none pointer-events-none transition-colors",children:"GYM OS"}),c.jsxs(ne.div,{animate:{y:[0,15,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute -bottom-12 left-4 right-4 sm:-bottom-10 sm:-left-10 sm:right-auto sm:w-[380px] rounded-xl border border-[var(--border)] bg-[var(--surface)] p-5 shadow-xl backdrop-blur-md z-20 transition-colors",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-[var(--text-secondary)]",children:"Monthly Recovery"}),c.jsx("h3",{className:"mt-1 text-2xl font-bold text-[var(--text-primary)]",children:"$42,500"})]}),c.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-green-500/10 px-2 py-1 text-green-600 dark:text-green-400",children:[c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"trending_up"}),c.jsx("span",{className:"text-xs font-bold",children:"+25%"})]})]}),c.jsx("div",{className:"h-32 w-full",children:c.jsxs("svg",{className:"h-full w-full overflow-visible",viewBox:"0 0 380 120",preserveAspectRatio:"none",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"gradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:"0.2"}),c.jsx("stop",{offset:"100%",stopColor:"#22c55e",stopOpacity:"0"})]})}),c.jsx("path",{d:"M0,100 C40,90 80,100 120,70 C160,40 200,60 240,40 C280,20 320,30 380,10 V120 H0 Z",fill:"url(#gradient)"}),c.jsx("path",{d:"M0,100 C40,90 80,100 120,70 C160,40 200,60 240,40 C280,20 320,30 380,10",fill:"none",stroke:"#22c55e",strokeLinecap:"round",strokeWidth:"3"}),c.jsx("circle",{cx:"120",cy:"70",fill:"currentColor",className:"text-white dark:text-[#111827]",r:"4",stroke:"#22c55e",strokeWidth:"2"}),c.jsx("circle",{cx:"240",cy:"40",fill:"currentColor",className:"text-white dark:text-[#111827]",r:"4",stroke:"#22c55e",strokeWidth:"2"}),c.jsx("circle",{cx:"380",cy:"10",fill:"currentColor",className:"text-white dark:text-[#111827]",r:"4",stroke:"#22c55e",strokeWidth:"2"})]})})]})]})})]})]})},tk=({children:n,className:t="",delay:a=0})=>{const i=N.useRef(null),o=g2(i,{once:!0,margin:"-100px"});return c.jsx(ne.div,{ref:i,initial:{opacity:0,y:50},animate:o?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.6,delay:a,ease:"easeOut"},className:t,children:n})},nk=[{icon:"meeting_room",title:"Automated Check-ins",desc:"Touchless entry systems that integrate with major hardware. Manage capacity in real-time without staff."},{icon:"credit_card",title:"Smart Billing",desc:"Automated invoicing and payment retry logic. Never chase a late payment or failed card again."},{icon:"psychology",title:"Retention AI",desc:"Predict member churn before it happens. Our algorithms highlight at-risk members for proactive outreach."},{icon:"calendar_month",title:"Class Scheduling",desc:"Drag-and-drop calendar for classes and trainers. Let members book their spots via mobile app."},{icon:"inventory_2",title:"Equipment Tracker",desc:"Track maintenance schedules for every machine. Prevent downtime with automated service alerts."},{icon:"bar_chart",title:"Advanced Reporting",desc:"Deep dive into attendance trends, revenue per member, and marketing ROI with one click."}],sk={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},ak={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},rk=()=>c.jsx("section",{id:"features",className:"bg-[var(--surface-highlight)] py-20 px-6 lg:px-10 transition-colors duration-300",children:c.jsxs("div",{className:"mx-auto max-w-7xl",children:[c.jsxs(tk,{className:"mb-16 text-center",children:[c.jsx("h2",{className:"mb-4 text-3xl font-bold text-[var(--text-primary)] md:text-4xl",children:"Core Functionality"}),c.jsx("p",{className:"mx-auto max-w-2xl text-lg text-[var(--text-secondary)]",children:"Everything you need to automate your fitness business, from entry to billing."})]}),c.jsx(ne.div,{variants:sk,initial:"hidden",whileInView:"show",viewport:{once:!0,margin:"-50px"},className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:nk.map((n,t)=>c.jsxs(ne.div,{variants:ak,whileHover:{y:-5,transition:{duration:.2}},className:"flex flex-col items-start p-6 bg-[var(--surface)] border border-[var(--border)] rounded-2xl transition-colors hover:border-primary/50 group",children:[c.jsx("div",{className:"p-3 bg-[var(--surface-highlight)] rounded-xl mb-4 group-hover:bg-primary/20 transition-colors",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-primary",children:n.icon})}),c.jsx("h3",{className:"text-xl font-bold mb-2 text-[var(--text-primary)]",children:n.title}),c.jsx("p",{className:"text-[var(--text-secondary)] leading-relaxed",children:n.desc})]},t))})]})}),ik=()=>c.jsx("footer",{className:"border-t border-[var(--border)] bg-[var(--background)] py-12 px-6 lg:px-10 mt-auto transition-colors duration-300",children:c.jsxs("div",{className:"mx-auto max-w-7xl",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4 lg:grid-cols-5",children:[c.jsxs("div",{className:"col-span-2 lg:col-span-2",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 text-[var(--text-primary)]",children:[c.jsx("span",{className:"material-symbols-outlined text-primary",children:"fitness_center"}),c.jsx("span",{className:"text-xl font-bold",children:"Smart Gym"})]}),c.jsx("p",{className:"max-w-xs text-sm text-[var(--text-secondary)]",children:"The operating system for the modern fitness industry. Built for growth, designed for people."})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("h4",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Product"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Features"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Pricing"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Hardware"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"API"})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("h4",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Company"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"About"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Careers"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Blog"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Contact"})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("h4",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Legal"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Privacy"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Terms"}),c.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-primary transition-colors",children:"Security"})]})]}),c.jsxs("div",{className:"mt-12 flex flex-col items-center justify-between gap-6 border-t border-[var(--border)] pt-8 md:flex-row",children:[c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:" 2024 Smart Gym Inc. All rights reserved."}),c.jsx("div",{className:"flex gap-6",children:c.jsxs("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-primary transition-colors",children:[c.jsx("span",{className:"sr-only",children:"Twitter"}),c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})})]})]})}),lk=()=>{const n=Nn(),[t,a]=N.useState(!1),[i,o]=N.useState("gym_admin"),[u,d]=N.useState(""),[f,p]=N.useState(""),[g,x]=N.useState(""),[y,v]=N.useState(!1),{user:w,role:S,loading:T}=jt();N.useEffect(()=>{!T&&w&&S&&(S==="gym_admin"?n("/admin"):S==="member"?n("/dashboard"):S==="trainer"?n("/trainer"):(S==="platform_admin"||S==="super_admin")&&n("/platform-admin"))},[w,S,T,n]);const j=E=>{const M=E.message||E.error_description||"Authentication failed.";M==="Invalid login credentials"?x("Invalid email or password."):M.includes("already registered")?x("Email is already registered. Please login."):x(M)},C=async E=>{E.preventDefault(),x(""),v(!0);try{if(t){const{data:M,error:B}=await re.auth.signUp({email:u,password:f});if(B)throw B;if(M.user){const{error:$}=await re.from("profiles").upsert([{id:M.user.id,email:u,role:i}]);if($)throw console.error("Error creating profile:",$),new Error(`Account created but profile setup failed: ${$.message}. Please contact support.`)}}else{const{error:M}=await re.auth.signInWithPassword({email:u,password:f});if(M)throw M}}catch(M){console.error("Auth error:",M),j(M)}finally{v(!1)}},A=async()=>{x(""),v(!0);try{const{error:E}=await re.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent"},redirectTo:window.location.origin+"/dashboard"}});if(E)throw E}catch(E){console.error("Google Auth error:",E),j(E),v(!1)}};return c.jsxs("div",{className:"min-h-screen bg-[var(--background)] flex items-center justify-center p-4 relative overflow-hidden font-display",children:[c.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#13ec5b]/5 rounded-full blur-[120px]"}),c.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#13ec5b]/5 rounded-full blur-[120px]"})]}),c.jsxs("div",{className:"w-full max-w-md relative z-10 flex flex-col gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center size-14 rounded-2xl bg-[var(--surface)] border border-[var(--border)] mb-4 shadow-lg shadow-primary/10",children:c.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"fitness_center"})}),c.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)] tracking-tight",children:"Smart Gym"})]}),c.jsxs("div",{className:"bg-[var(--surface)] p-1 rounded-xl border border-[var(--border)] grid grid-cols-2",children:[c.jsx("button",{onClick:()=>o("gym_admin"),className:`text-sm font-bold py-2.5 rounded-lg transition-all ${i==="gym_admin"?"bg-primary text-[#052e16] shadow-lg shadow-primary/20":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:"Admin Portal"}),c.jsx("button",{onClick:()=>o("member"),className:`text-sm font-bold py-2.5 rounded-lg transition-all ${i==="member"?"bg-primary text-[#052e16] shadow-lg shadow-primary/20":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:"Member Area"})]}),c.jsxs("div",{className:"bg-[var(--surface)]/80 backdrop-blur-xl border border-[var(--border)] rounded-2xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)] mb-1",children:t?"Create Account":"Welcome Back"}),c.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:t?`Sign up as a new ${i}`:`Sign in to your ${i} account`})]}),c.jsxs("form",{onSubmit:C,className:"space-y-5",children:[g&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-lg",children:"error"}),g]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] ml-1 uppercase tracking-wider",children:"Email"}),c.jsxs("div",{className:"relative group",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-primary transition-colors material-symbols-outlined text-[20px]",children:"mail"}),c.jsx("input",{type:"email",value:u,onChange:E=>d(E.target.value),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-11 py-3 text-[var(--text-primary)] placeholder-[var(--text-secondary)] focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",placeholder:"name@example.com",required:!0})]})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex justify-between items-center ml-1",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Password"}),!t&&c.jsx("a",{href:"#",className:"text-xs font-medium text-primary hover:text-primary/80 transition-colors",children:"Forgot?"})]}),c.jsxs("div",{className:"relative group",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-primary transition-colors material-symbols-outlined text-[20px]",children:"lock"}),c.jsx("input",{type:"password",value:f,onChange:E=>p(E.target.value),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-11 py-3 text-[var(--text-primary)] placeholder-[var(--text-secondary)] focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",placeholder:"",required:!0})]})]}),c.jsx(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:y,className:"w-full bg-primary hover:bg-[#0fd60f] text-[#052e16] font-bold py-3.5 rounded-xl transition-colors duration-300 shadow-lg shadow-primary/20 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:y?c.jsx("span",{className:"animate-spin material-symbols-outlined text-[20px]",children:"progress_activity"}):t?"Create Account":"Sign In"}),c.jsxs("div",{className:"relative flex items-center py-2",children:[c.jsx("div",{className:"flex-grow border-t border-[var(--border)]"}),c.jsx("span",{className:"flex-shrink-0 mx-4 text-[var(--text-secondary)] text-xs font-medium",children:"OR CONTINUE WITH"}),c.jsx("div",{className:"flex-grow border-t border-[var(--border)]"})]}),c.jsxs(ne.button,{whileHover:{scale:1.02,backgroundColor:"var(--surface-highlight)"},whileTap:{scale:.98},type:"button",onClick:A,disabled:y,className:"w-full bg-[var(--background)] border border-[var(--border)] text-[var(--text-primary)] font-medium py-3 rounded-xl transition-colors duration-300 flex items-center justify-center gap-3 disabled:opacity-70",children:[c.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),c.jsx("span",{children:"Google"})]})]}),c.jsxs("p",{className:"text-center mt-6 text-[var(--text-secondary)] text-sm",children:[t?"Already have an account?":"Don't have an account?",c.jsx("button",{onClick:()=>{a(!t),x("")},className:"text-primary font-bold hover:underline ml-1 focus:outline-none",children:t?"Sign In":"Sign Up"})]})]})]})]})},ok=()=>{const{user:n}=jt(),t=Nn(),[a,i]=N.useState(!1),[o,u]=N.useState(""),[d,f]=N.useState(""),[p,g]=N.useState(""),x=async y=>{if(y.preventDefault(),!!n){i(!0),g("");try{const{data:v,error:w}=await re.from("gyms").insert([{name:o,address:d,owner_id:n.id}]).select().maybeSingle();if(w)throw w;if(v){const{error:S}=await re.from("profiles").update({gym_id:v.id}).eq("id",n.id);if(S)throw S}t("/admin")}catch(v){console.error("Error creating gym:",v);const w=v instanceof Error?v.message:"Failed to create gym. Please try again.";g(w)}finally{i(!1)}}};return c.jsx("div",{className:"min-h-screen bg-[var(--background)] flex items-center justify-center p-4",children:c.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-8 shadow-xl",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center size-12 rounded-xl bg-primary/10 text-primary mb-4",children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"fitness_center"})}),c.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:"Welcome to Smart Gym!"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-2",children:"Let's set up your gym profile"})]}),p&&c.jsx("div",{className:"mb-6 p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-500 text-sm",children:p}),c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Gym Name"}),c.jsx("input",{type:"text",required:!0,value:o,onChange:y=>u(y.target.value),className:"w-full rounded-lg border border-[var(--border)] bg-[var(--background)] px-4 py-3 text-[var(--text-primary)] placeholder-gray-500 focus:border-primary focus:outline-none transition-colors",placeholder:"e.g. Iron Paradise Fitness"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Address"}),c.jsx("textarea",{required:!0,value:d,onChange:y=>f(y.target.value),className:"w-full rounded-lg border border-[var(--border)] bg-[var(--background)] px-4 py-3 text-[var(--text-primary)] placeholder-gray-500 focus:border-primary focus:outline-none transition-colors min-h-[100px] resize-none",placeholder:"Where is your gym located?"})]}),c.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 rounded-lg bg-primary font-bold text-white hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-primary/25",children:a?"Setting up...":"Complete Setup"})]})]})})},zi=[{code:"USD",symbol:"$",name:"US Dollar",flag:""},{code:"EUR",symbol:"",name:"Euro",flag:""},{code:"GBP",symbol:"",name:"British Pound",flag:""},{code:"INR",symbol:"",name:"Indian Rupee",flag:""},{code:"AED",symbol:".",name:"UAE Dirham",flag:""},{code:"AUD",symbol:"A$",name:"Australian Dollar",flag:""},{code:"CAD",symbol:"C$",name:"Canadian Dollar",flag:""},{code:"SGD",symbol:"S$",name:"Singapore Dollar",flag:""},{code:"JPY",symbol:"",name:"Japanese Yen",flag:""},{code:"CNY",symbol:"",name:"Chinese Yuan",flag:""},{code:"BRL",symbol:"R$",name:"Brazilian Real",flag:""},{code:"MXN",symbol:"MX$",name:"Mexican Peso",flag:""},{code:"ZAR",symbol:"R",name:"South African Rand",flag:""},{code:"NGN",symbol:"",name:"Nigerian Naira",flag:""},{code:"PKR",symbol:"",name:"Pakistani Rupee",flag:""},{code:"BDT",symbol:"",name:"Bangladeshi Taka",flag:""},{code:"IDR",symbol:"Rp",name:"Indonesian Rupiah",flag:""},{code:"PHP",symbol:"",name:"Philippine Peso",flag:""},{code:"THB",symbol:"",name:"Thai Baht",flag:""},{code:"KES",symbol:"KSh",name:"Kenyan Shilling",flag:""},{code:"SAR",symbol:"",name:"Saudi Riyal",flag:""},{code:"TRY",symbol:"",name:"Turkish Lira",flag:""},{code:"CHF",symbol:"Fr",name:"Swiss Franc",flag:""},{code:"SEK",symbol:"kr",name:"Swedish Krona",flag:""},{code:"NOK",symbol:"kr",name:"Norwegian Krone",flag:""}];function Ov(n){return zi.find(t=>t.code===n)??zi[0]}const ow=N.createContext(void 0),ck=({children:n})=>{const{gymId:t}=ra(),[a,i]=N.useState(zi[0]);N.useEffect(()=>{t&&re.from("gyms").select("currency").eq("id",t).single().then(({data:d})=>{d?.currency&&i(Ov(d.currency))})},[t]);const o=async d=>{if(!t)return;const f=Ov(d);i(f),await re.from("gyms").update({currency:d}).eq("id",t)},u=d=>{const f=a.symbol;return d>=1e6?`${f}${(d/1e6).toFixed(1)}M`:d>=1e3?`${f}${(d/1e3).toFixed(1)}K`:`${f}${d.toFixed(0)}`};return c.jsx(ow.Provider,{value:{currency:a,setCurrency:o,formatAmount:u},children:n})},Ii=()=>{const n=N.useContext(ow);if(!n)throw new Error("useCurrency must be used within CurrencyProvider");return n},Dv={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Xs={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},uk=()=>{const{gymId:n}=ra(),{currency:t}=Ii(),[a,i]=N.useState({activeMembers:0,monthlyRevenue:0,expiringSoon:0,attendanceToday:0}),[o,u]=N.useState([]),[d,f]=N.useState([]);N.useEffect(()=>{n&&p()},[n]);const p=async()=>{try{const y=new Date,v=new Date(y.getFullYear(),y.getMonth(),1).toISOString(),w=new Date(y.getFullYear(),y.getMonth(),y.getDate()).toISOString(),{count:S}=await re.from("members").select("*",{count:"exact",head:!0}).eq("gym_id",n).eq("status","Active"),{data:T}=await re.from("payments").select("amount").eq("gym_id",n).gte("payment_date",v),j=T?.reduce((B,$)=>B+(Number($.amount)||0),0)||0,C=new Date(y);C.setDate(y.getDate()+7);const{count:A}=await re.from("members").select("*",{count:"exact",head:!0}).eq("gym_id",n).gt("expiry_date",y.toISOString()).lte("expiry_date",C.toISOString()),{count:E}=await re.from("attendance").select("*",{count:"exact",head:!0}).eq("gym_id",n).gte("check_in_time",w);i({activeMembers:S||0,monthlyRevenue:j,expiringSoon:A||0,attendanceToday:E||0});const{data:M}=await re.from("leads").select("id, name, email, created_at, status").eq("gym_id",n).order("created_at",{ascending:!1}).limit(5);M&&f(M),await g()}catch(y){console.error("Error fetching dashboard data:",y)}},g=async()=>{const y=[],v=new Date;for(let T=5;T>=0;T--){const j=new Date(v.getFullYear(),v.getMonth()-T,1);y.push({name:j.toLocaleString("default",{month:"short"}),date:j,revenue:0})}const w=y[0].date.toISOString(),{data:S}=await re.from("payments").select("amount, payment_date").eq("gym_id",n).gte("payment_date",w);S&&S.forEach(T=>{const j=new Date(T.payment_date),C=y.findIndex(A=>A.date.getMonth()===j.getMonth()&&A.date.getFullYear()===j.getFullYear());C!==-1&&(y[C].revenue+=Number(T.amount))}),u(y.map(T=>({month:T.name,revenue:T.revenue})))},x=(y,v)=>{if(o.length<2)return"";const w=Math.max(...o.map(T=>T.revenue),100);return o.map((T,j)=>{const C=j/(o.length-1)*y,A=v-T.revenue/w*(v*.8)-v*.1;return[C,A]}).reduce((T,j,C,A)=>{if(C===0)return`M ${j[0]},${j[1]}`;const E=A[C-1][0]+(j[0]-A[C-1][0])/2;return`${T} C ${E},${A[C-1][1]} ${E},${j[1]} ${j[0]},${j[1]}`},"")};return c.jsxs(ne.div,{variants:Dv,initial:"hidden",animate:"show",className:"flex-1 overflow-y-auto p-4 lg:p-8 pb-20 text-[var(--text-primary)] custom-scrollbar",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs(ne.div,{variants:Xs,className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 hover:border-[#3b543b] transition-colors relative group overflow-hidden",children:[c.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:c.jsx("span",{className:"material-symbols-outlined text-6xl text-[var(--text-primary)]",children:"groups"})}),c.jsxs("div",{className:"flex flex-col gap-1 relative z-10",children:[c.jsx("p",{className:"text-[var(--text-secondary)] text-sm font-medium",children:"Active Members"}),c.jsxs("div",{className:"flex items-end gap-3",children:[c.jsx("h3",{className:"text-[var(--text-primary)] text-3xl font-bold",children:a.activeMembers}),c.jsxs("span",{className:"text-primary text-sm font-medium mb-1 flex items-center bg-primary/10 px-1.5 py-0.5 rounded",children:[c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"trending_up"}),"Live"]})]})]})]}),c.jsxs(ne.div,{variants:Xs,className:"bg-[var(--surface)] border border-primary/30 rounded-2xl p-6 shadow-[0_0_20px_rgba(19,236,19,0.05)] relative overflow-hidden group",children:[c.jsx("div",{className:"absolute -right-6 -top-6 size-24 bg-primary/10 rounded-full blur-xl group-hover:bg-primary/20 transition-all"}),c.jsxs("div",{className:"flex flex-col gap-1 relative z-10",children:[c.jsx("p",{className:"text-primary text-sm font-medium",children:"Monthly Revenue"}),c.jsxs("div",{className:"flex items-end gap-3",children:[c.jsxs("h3",{className:"text-[var(--text-primary)] text-3xl font-bold",children:[t.symbol,a.monthlyRevenue.toLocaleString()]}),c.jsxs("span",{className:"text-primary text-sm font-medium mb-1 flex items-center bg-primary/10 px-1.5 py-0.5 rounded",children:[c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"payments"}),"MTD"]})]})]})]}),c.jsxs(ne.div,{variants:Xs,className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 hover:border-[#ef4444]/50 transition-colors relative group",children:[c.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:c.jsx("span",{className:"material-symbols-outlined text-6xl text-[#ef4444]",children:"warning"})}),c.jsxs("div",{className:"flex flex-col gap-1 relative z-10",children:[c.jsx("p",{className:"text-[#ef4444] text-sm font-medium",children:"Expiring Soon"}),c.jsxs("div",{className:"flex items-end gap-3",children:[c.jsx("h3",{className:"text-[var(--text-primary)] text-3xl font-bold",children:a.expiringSoon}),c.jsx("span",{className:"text-[#ef4444] text-sm font-medium mb-1 flex items-center bg-[#ef4444]/10 px-1.5 py-0.5 rounded",children:"Needs Action"})]})]})]}),c.jsxs(ne.div,{variants:Xs,className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 hover:border-[#3b543b] transition-colors relative group",children:[c.jsx("div",{className:"absolute right-0 top-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:c.jsx("span",{className:"material-symbols-outlined text-6xl text-[var(--text-primary)]",children:"how_to_reg"})}),c.jsxs("div",{className:"flex flex-col gap-1 relative z-10",children:[c.jsx("p",{className:"text-[var(--text-secondary)] text-sm font-medium",children:"Attendance Today"}),c.jsxs("div",{className:"flex items-end gap-3",children:[c.jsx("h3",{className:"text-[var(--text-primary)] text-3xl font-bold",children:a.attendanceToday}),c.jsxs("span",{className:"text-primary text-sm font-medium mb-1 flex items-center bg-primary/10 px-1.5 py-0.5 rounded",children:[c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"today"}),"Today"]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs(ne.div,{variants:Xs,className:"lg:col-span-2 bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-[var(--text-primary)] text-lg font-bold",children:"Revenue Overview"}),c.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:"Income analytics for the last 6 months"})]}),c.jsxs("button",{className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)] text-sm bg-[var(--surface-highlight)] px-3 py-1.5 rounded-lg flex items-center gap-1 transition-colors",children:["Last 6 Months ",c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"keyboard_arrow_down"})]})]}),c.jsxs("div",{className:"flex-1 w-full min-h-[300px] relative",children:[c.jsxs("svg",{className:"w-full h-full overflow-visible",viewBox:"0 0 800 300",preserveAspectRatio:"none",children:[c.jsx("line",{stroke:"var(--border)",strokeDasharray:"4 4",strokeWidth:"1",x1:"0",x2:"800",y1:"225",y2:"225"}),c.jsx("line",{stroke:"var(--border)",strokeDasharray:"4 4",strokeWidth:"1",x1:"0",x2:"800",y1:"150",y2:"150"}),c.jsx("line",{stroke:"var(--border)",strokeDasharray:"4 4",strokeWidth:"1",x1:"0",x2:"800",y1:"75",y2:"75"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#13ec13",stopOpacity:"0.2"}),c.jsx("stop",{offset:"100%",stopColor:"#13ec13",stopOpacity:"0"})]})}),c.jsx("path",{d:`${x(800,300)} V 300 H 0 Z`,fill:"url(#chartGradient)"}),c.jsx("path",{className:"drop-shadow-[0_0_10px_rgba(19,236,19,0.5)]",d:x(800,300),fill:"none",stroke:"#13ec13",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3"}),o.map((y,v)=>{const w=Math.max(...o.map(j=>j.revenue),100),S=v/(o.length-1)*800,T=300-y.revenue/w*(300*.8)-300*.1;return c.jsx("circle",{cx:S,cy:T,r:"4",fill:"var(--surface)",stroke:"#13ec13",strokeWidth:"2"},v)})]}),c.jsx("div",{className:"flex justify-between w-full text-[var(--text-secondary)] text-xs font-medium mt-4 absolute bottom-[-20px] left-0 right-0",children:o.map((y,v)=>c.jsx("div",{className:"flex flex-col items-center",style:{width:`${100/o.length}%`},children:c.jsx("span",{children:y.month})},v))})]})]}),c.jsxs(ne.div,{variants:Xs,className:"lg:col-span-1 bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-[var(--text-primary)] text-lg font-bold",children:"New Leads"}),c.jsx("a",{href:"/admin/leads",className:"text-primary text-sm hover:underline",children:"View All"})]}),c.jsx(ne.div,{variants:Dv,initial:"hidden",animate:"show",className:"flex flex-col gap-2 overflow-y-auto",children:d.length>0?d.map(y=>c.jsxs(ne.div,{variants:Xs,className:"group flex items-center justify-between p-3 rounded-xl hover:bg-[var(--surface-highlight)] transition-colors cursor-pointer border border-transparent hover:border-[var(--border)]",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"size-10 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white uppercase",children:y.name?y.name.substring(0,2):y.email?y.email.substring(0,2):"??"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[var(--text-primary)] text-sm font-medium group-hover:text-primary transition-colors truncate w-32",children:y.name||y.email}),c.jsx("p",{className:"text-[var(--text-secondary)] text-xs",children:new Date(y.created_at).toLocaleDateString()})]})]}),c.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium border ${y.status==="New"?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-[var(--surface-highlight)] text-[var(--text-secondary)]"}`,children:y.status})]},y.id)):c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:"No new leads within the last 30 days."})})})]})]}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-[var(--border)] flex justify-between items-center text-[var(--text-secondary)] text-xs",children:[c.jsxs("p",{children:[" ",new Date().getFullYear()," FitLogic Pro System. All rights reserved."]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Privacy"}),c.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Terms"}),c.jsx("a",{className:"hover:text-primary transition-colors",href:"#",children:"Support"})]})]})]})},dk=()=>{const{gymId:n}=jt(),[t,a]=N.useState([]),[i,o]=N.useState(!0),[u,d]=N.useState("");N.useEffect(()=>{(async()=>{if(n)try{const{data:v,error:w}=await re.from("members").select("id, user_id, gym_id, status, membership_plan, join_date, expiry_date").eq("gym_id",n);if(w)throw w;if(!v||v.length===0){a([]),o(!1);return}const S=v.map(A=>A.user_id),{data:T}=await re.from("profiles").select("id, email, role").in("id",S),j=new Map((T||[]).map(A=>[A.id,A])),C=v.map(A=>({...A,expiry_date:A.expiry_date??"",profile:j.get(A.user_id)??void 0}));a(C)}catch(v){console.error("Error fetching members:",v)}finally{o(!1)}})()},[n]);const f=t.filter(y=>y.profile?.email?.toLowerCase().includes(u.toLowerCase())||y.membership_plan?.toLowerCase().includes(u.toLowerCase())),p=async y=>{if(window.confirm("Are you sure you want to delete this member? This action cannot be undone."))try{const{error:v}=await re.from("members").delete().eq("id",y);if(v)throw v;a(t.filter(w=>w.id!==y))}catch(v){console.error("Error deleting member:",v),alert("Failed to delete member. Please try again.")}},g=y=>y.substring(0,2).toUpperCase(),x={total:t.length,active:t.filter(y=>y.status==="active").length,expired:t.filter(y=>y.status==="expired").length,frozen:t.filter(y=>y.status==="frozen").length};return c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8 xl:px-12",children:[c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)] tracking-tight",children:"Member Directory"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Manage gym access, memberships, and billing status."})]}),c.jsxs("button",{className:"bg-primary hover:bg-[#0fd60f] text-black px-5 py-2.5 rounded-lg text-sm font-semibold shadow-lg shadow-primary/20 flex items-center gap-2 transition-all active:scale-95",children:[c.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"}),"Add Member"]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-xl p-4 flex flex-col",children:[c.jsx("span",{className:"text-[var(--text-secondary)] text-xs font-medium uppercase tracking-wider mb-1",children:"Total Members"}),c.jsx("span",{className:"text-2xl font-bold text-[var(--text-primary)]",children:x.total})]}),c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-xl p-4 flex flex-col",children:[c.jsx("span",{className:"text-emerald-400/80 text-xs font-medium uppercase tracking-wider mb-1",children:"Active"}),c.jsx("span",{className:"text-2xl font-bold text-[var(--text-primary)]",children:x.active})]}),c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-xl p-4 flex flex-col",children:[c.jsx("span",{className:"text-primary/80 text-xs font-medium uppercase tracking-wider mb-1",children:"Expired"}),c.jsx("span",{className:"text-2xl font-bold text-[var(--text-primary)]",children:x.expired})]}),c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-xl p-4 flex flex-col",children:[c.jsx("span",{className:"text-blue-400/80 text-xs font-medium uppercase tracking-wider mb-1",children:"Frozen"}),c.jsx("span",{className:"text-2xl font-bold text-[var(--text-primary)]",children:x.frozen})]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center bg-[var(--surface-highlight)] p-2 rounded-xl border border-[var(--border)]",children:[c.jsxs("div",{className:"flex p-1 bg-[var(--surface)]/50 rounded-lg self-stretch lg:self-auto overflow-x-auto",children:[c.jsx("button",{className:"px-4 py-2 text-sm font-medium text-[var(--text-primary)] bg-[var(--surface-highlight)] shadow rounded-md whitespace-nowrap transition-all",children:"All Members"}),c.jsx("button",{className:"px-4 py-2 text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] rounded-md whitespace-nowrap transition-all hover:bg-white/5",children:"Active"}),c.jsx("button",{className:"px-4 py-2 text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] rounded-md whitespace-nowrap transition-all hover:bg-white/5",children:"Expired"}),c.jsx("button",{className:"px-4 py-2 text-sm font-medium text-[var(--text-secondary)] hover:text-[var(--text-primary)] rounded-md whitespace-nowrap transition-all hover:bg-white/5",children:"Frozen"})]}),c.jsx("div",{className:"flex items-center gap-3 w-full lg:w-auto",children:c.jsxs("div",{className:"relative group w-full lg:w-80",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx("span",{className:"material-symbols-outlined text-[var(--text-secondary)] group-focus-within:text-primary transition-colors",children:"search"})}),c.jsx("input",{className:"block w-full pl-10 pr-3 py-2.5 border-none rounded-lg leading-5 bg-[var(--surface)] text-[var(--text-primary)] placeholder-[var(--text-secondary)] focus:outline-none focus:ring-2 focus:ring-primary/50 sm:text-sm transition-shadow",placeholder:"Search by name, email, or phone...",type:"text",value:u,onChange:y=>d(y.target.value)})]})})]}),c.jsx("div",{className:"bg-[var(--surface)] rounded-xl border border-[var(--border)] overflow-hidden shadow-xl",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-[var(--surface-highlight)] border-b border-[var(--border)]",children:[c.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-wider",children:"Member"}),c.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-wider",children:"Contact"}),c.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-wider",children:"Plan Type"}),c.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-wider",children:"Join Date"}),c.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-wider text-center",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-wider text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-[var(--border)]",children:i?c.jsx("tr",{children:c.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-[var(--text-secondary)]",children:[c.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl",children:"progress_activity"}),c.jsx("p",{className:"mt-2 text-sm font-medium",children:"Loading members..."})]})}):f.length>0?f.map(y=>c.jsxs("tr",{className:"group hover:bg-[var(--surface-highlight)]/30 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-inner",children:g(y.profile?.email||"U")}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"text-sm font-medium text-[var(--text-primary)]",children:y.profile?.email.split("@")[0]}),c.jsxs("div",{className:"text-xs text-[var(--text-secondary)]",children:["ID: #",y.id.substring(0,6)]})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-[var(--text-secondary)] flex flex-col gap-0.5",children:c.jsxs("span",{className:"flex items-center gap-1.5 truncate w-48",children:[c.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"mail"})," ",y.profile?.email]})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-[var(--surface-highlight)] text-[var(--text-primary)] border border-[var(--border)]",children:y.membership_plan})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--text-secondary)]",children:new Date(y.join_date).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:c.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${y.status==="active"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":y.status==="expired"?"bg-primary/10 text-primary border border-primary/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:[y.status==="active"&&c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"}),y.status.charAt(0).toUpperCase()+y.status.slice(1)]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)] p-1.5 rounded hover:bg-white/10 transition-colors",children:c.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit"})}),c.jsx("button",{onClick:()=>p(y.id),className:"text-primary hover:text-[#0fd60f] p-1.5 rounded hover:bg-primary/10 transition-colors",title:"Delete Member",children:c.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})})]})})]},y.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-[var(--text-secondary)]",children:c.jsx("p",{className:"text-sm font-medium",children:"No members found."})})})})]})})})]}),c.jsx("div",{className:"h-12"})]})},hk=()=>{const{currency:n}=Ii(),t=n.symbol;return c.jsx("div",{className:"flex-1 p-4 lg:p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)]",children:"Payments & Billing"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Track revenue, invoices, and member dues."})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Total Revenue"}),c.jsxs("p",{className:"text-3xl font-bold text-[var(--text-primary)] mt-2",children:[t,"0.00"]})]}),c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Pending Dues"}),c.jsxs("p",{className:"text-3xl font-bold text-primary mt-2",children:[t,"0.00"]})]}),c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6",children:[c.jsx("h3",{className:"text-sm font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Net Profit"}),c.jsxs("p",{className:"text-3xl font-bold text-emerald-400 mt-2",children:[t,"0.00"]})]})]})]})})},fk=()=>c.jsx("div",{className:"flex-1 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)]",children:"Trainer Directory"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Manage gym staff and personal trainers."})]}),c.jsxs("button",{className:"bg-primary hover:bg-[#0fd60f] text-[#052e16] px-5 py-2.5 rounded-xl text-sm font-bold transition-all shadow-lg shadow-primary/20 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-lg",children:"person_add"}),"Add Trainer"]})]}),c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-12 flex flex-col items-center justify-center text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-[var(--text-secondary)] mb-4 opacity-20",children:"fitness_center"}),c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:"No Trainers Yet"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-2 max-w-xs",children:"Start by adding your first trainer to manage assignments and performance."})]})]})}),mk=()=>c.jsx("div",{className:"flex-1 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)]",children:"Attendance Tracking"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Real-time gym occupancy and check-in logs."})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-3 bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 min-h-[400px]",children:[c.jsx("h3",{className:"font-bold text-[var(--text-primary)] mb-4",children:"Daily Logs"}),c.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:"Waiting for first check-in of the day..."})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-primary font-bold",children:"Live Status"}),c.jsx("p",{className:"text-primary/70 text-sm mt-1",children:"Gym is currently quiet."})]})})]})]})}),pk={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},Ws={hidden:{opacity:0,y:16},show:{opacity:1,y:0,transition:{duration:.35}}},gk=()=>{const{gymId:n}=jt(),[t,a]=N.useState({revenue:0,activeMembers:0,avgVisitDuration:0,engagement:{daily:0,weekly:0,inactive:0,score:0},peakHours:[],weeklyTrend:[]}),[i,o]=N.useState(!0);N.useEffect(()=>{(async()=>{if(n)try{const p=new Date,g=new Date(p);g.setDate(p.getDate()-30);const{data:x}=await re.from("payments").select("amount").eq("gym_id",n).eq("status","paid"),y=(x||[]).reduce((ie,Ue)=>ie+Number(Ue.amount),0),{count:v}=await re.from("members").select("*",{count:"exact",head:!0}).eq("gym_id",n).eq("status","Active"),w=v||1,{data:S}=await re.from("attendance").select("member_id, check_in_time, check_out_time").eq("gym_id",n).gte("check_in_time",g.toISOString()),T=S||[];let j=0,C=0;T.forEach(ie=>{if(ie.check_out_time&&ie.check_in_time){const Ue=(new Date(ie.check_out_time).getTime()-new Date(ie.check_in_time).getTime())/6e4;Ue>0&&Ue<300&&(j+=Ue,C++)}});const A=C>0?Math.round(j/C):0,E=p.getTime(),M=new Set(T.filter(ie=>new Date(ie.check_in_time).getTime()>E-864e5).map(ie=>ie.member_id)).size,B=new Set(T.filter(ie=>new Date(ie.check_in_time).getTime()>E-6048e5).map(ie=>ie.member_id)).size,$=new Set(T.map(ie=>ie.member_id)).size,Y=Math.max(0,w-$),F=new Array(24).fill(0);T.forEach(ie=>{F[new Date(ie.check_in_time).getHours()]++});const W=Math.max(...F,1),me=[6,8,10,12,14,16,18,20,22].map(ie=>{const Ue=F[ie],nt=Math.round(Ue/W*100);return{time:`${ie>12?ie-12:ie}${ie>=12?"pm":"am"}`,count:Ue,heightPct:Math.max(8,nt),isPeak:nt===100&&Ue>0}}),Pe=[];for(let ie=3;ie>=0;ie--){const Ue=new Date(p);Ue.setDate(p.getDate()-ie*7-6),Ue.setHours(0,0,0,0);const nt=new Date(p);nt.setDate(p.getDate()-ie*7),nt.setHours(23,59,59,999);const yt=T.filter(H=>{const K=new Date(H.check_in_time);return K>=Ue&&K<=nt}).length;Pe.push({week:`Week ${4-ie}`,count:yt})}a({revenue:y,activeMembers:w,avgVisitDuration:A,engagement:{daily:Math.round(M/w*100),weekly:Math.round(B/w*100),inactive:Math.round(Y/w*100),score:Math.min(100,Math.round(B/w*100))},peakHours:me,weeklyTrend:Pe})}catch(p){console.error("Analytics fetch error:",p)}finally{o(!1)}})()},[n]);const u=Math.max(...t.weeklyTrend.map(f=>f.count),1),{currency:d}=Ii();return c.jsx(ne.div,{variants:pk,initial:"hidden",animate:"show",style:{padding:"1rem"},children:c.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[c.jsxs(ne.div,{variants:Ws,style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[c.jsx("div",{style:{background:"rgba(19,236,91,0.15)",padding:"8px",borderRadius:"10px",color:"#13ec5b",flexShrink:0},children:c.jsx("span",{className:"material-symbols-outlined",children:"monitoring"})}),c.jsx("h2",{style:{color:"var(--text-primary)",fontSize:"clamp(1.1rem, 4vw, 1.4rem)",fontWeight:700,margin:0},children:"Performance Analytics"})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"16px",marginBottom:"24px"},children:[c.jsxs(ne.div,{variants:Ws,style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"16px",padding:"24px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[c.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Total Revenue"}),c.jsx("div",{style:{background:"rgba(19,236,91,0.15)",padding:"6px",borderRadius:"8px",color:"#13ec5b"},children:c.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"18px"},children:"attach_money"})})]}),c.jsx("div",{style:{color:"var(--text-primary)",fontSize:"2rem",fontWeight:800,lineHeight:1},children:i?"":`${d.symbol}${yk(t.revenue)}`}),c.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px",marginTop:"6px"},children:"Total collected"})]}),c.jsxs(ne.div,{variants:Ws,style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"16px",padding:"24px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[c.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Active Members"}),c.jsx("div",{style:{background:"rgba(19,236,91,0.15)",padding:"6px",borderRadius:"8px",color:"#13ec5b"},children:c.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"18px"},children:"group"})})]}),c.jsx("div",{style:{color:"var(--text-primary)",fontSize:"2rem",fontWeight:800,lineHeight:1},children:i?"":t.activeMembers}),c.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px",marginTop:"6px"},children:"Current members"})]}),c.jsxs(ne.div,{variants:Ws,style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"16px",padding:"24px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[c.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Avg Visit Duration"}),c.jsx("div",{style:{background:"rgba(19,236,91,0.15)",padding:"6px",borderRadius:"8px",color:"#13ec5b"},children:c.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"18px"},children:"timer"})})]}),c.jsx("div",{style:{color:"var(--text-primary)",fontSize:"2rem",fontWeight:800,lineHeight:1},children:i?"":`${t.avgVisitDuration}m`}),c.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"13px",marginTop:"6px"},children:"Based on check-outs"})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",marginBottom:"24px"},children:[c.jsxs(ne.div,{variants:Ws,style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"16px",padding:"24px"},children:[c.jsx("h3",{style:{color:"var(--text-primary)",fontSize:"1rem",fontWeight:700,margin:"0 0 4px 0"},children:"Attendance Trend"}),c.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"13px",margin:"0 0 20px 0"},children:"Weekly check-ins for the last 4 weeks"}),c.jsx("div",{style:{height:"160px",display:"flex",alignItems:"flex-end",gap:"12px"},children:t.weeklyTrend.length>0?t.weeklyTrend.map((f,p)=>{const g=Math.max(6,Math.round(f.count/u*100));return c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",height:"100%",justifyContent:"flex-end"},children:[c.jsx("div",{style:{width:"100%",height:`${g}%`,background:"rgba(19,236,91,0.25)",borderRadius:"6px 6px 0 0",transition:"height 0.4s ease"}}),c.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"12px",whiteSpace:"nowrap"},children:f.week})]},p)}):[1,2,3,4].map(f=>c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",height:"100%",justifyContent:"flex-end"},children:[c.jsx("div",{style:{width:"100%",height:"30%",background:"var(--surface-highlight)",borderRadius:"6px 6px 0 0",animation:"pulse 1.5s infinite"}}),c.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"12px"},children:""})]},f))})]}),c.jsxs(ne.div,{variants:Ws,style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"16px",padding:"24px"},children:[c.jsx("h3",{style:{color:"var(--text-primary)",fontSize:"1rem",fontWeight:700,margin:"0 0 4px 0"},children:"Engagement Score"}),c.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"13px",margin:"0 0 20px 0"},children:"Active member participation"}),c.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:c.jsx("div",{style:{width:"152px",height:"152px",borderRadius:"50%",flexShrink:0,background:`conic-gradient(#13ec5b 0% ${t.engagement.score}%, #1e3a2a ${t.engagement.score}% 100%)`,position:"relative"},children:c.jsxs("div",{style:{position:"absolute",inset:"16px",background:"var(--surface)",borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[c.jsxs("span",{style:{color:"var(--text-primary)",fontSize:"1.8rem",fontWeight:800,lineHeight:1},children:[t.engagement.score,"%"]}),c.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"10px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.06em",marginTop:"2px"},children:"Weekly Active"})]})})}),[{label:"Daily Users",val:t.engagement.daily,color:"#13ec5b"},{label:"Weekly Users",val:t.engagement.weekly,color:"rgba(19,236,91,0.5)"},{label:"Inactive (30d)",val:t.engagement.inactive,color:"#1e3a2a"}].map(f=>c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[c.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"3px",background:f.color,flexShrink:0}}),c.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"13px"},children:f.label})]}),c.jsxs("span",{style:{color:"var(--text-primary)",fontSize:"13px",fontWeight:700},children:[f.val,"%"]})]},f.label))]})]}),c.jsxs(ne.div,{variants:Ws,style:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[c.jsx("h3",{style:{color:"var(--text-primary)",fontSize:"1rem",fontWeight:700,margin:"0 0 4px 0"},children:"Peak Hour Traffic"}),c.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"13px",margin:"0 0 20px 0"},children:"Check-in distribution by hour (last 30 days)"}),c.jsx("div",{style:{overflowX:"auto",overflowY:"visible",WebkitOverflowScrolling:"touch"},children:c.jsx("div",{style:{minWidth:"480px",height:"180px",display:"flex",alignItems:"flex-end",gap:"8px"},children:t.peakHours.length>0?t.peakHours.map((f,p)=>c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",height:"100%",justifyContent:"flex-end"},children:[c.jsx("div",{style:{width:"100%",height:`${f.heightPct}%`,background:f.isPeak?"#13ec5b":"#1e3a2a",borderRadius:"6px 6px 0 0",boxShadow:f.isPeak?"0 0 12px rgba(19,236,91,0.4)":"none",transition:"height 0.4s ease"}}),c.jsx("span",{style:{color:f.isPeak?"#13ec5b":"var(--text-tertiary)",fontSize:"11px",fontWeight:f.isPeak?700:400,whiteSpace:"nowrap"},children:f.time})]},p)):Array.from({length:9}).map((f,p)=>c.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",height:"100%",justifyContent:"flex-end"},children:[c.jsx("div",{style:{width:"100%",height:"30%",background:"var(--surface-highlight)",borderRadius:"6px 6px 0 0"}}),c.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"11px"},children:""})]},p))})})]})]})})};function yk(n){return n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toFixed(0)}const xk=()=>{const{gymId:n}=ra(),{currency:t}=Ii(),[a,i]=N.useState("profile"),[o,u]=N.useState(!1),[d,f]=N.useState({name:"",address:"",phone:"",website:"",contact_email:""}),[p,g]=N.useState([]),[x,y]=N.useState(null),[v,w]=N.useState(!1);N.useEffect(()=>{n&&(S(),T())},[n]);const S=async()=>{try{const{data:E,error:M}=await re.from("gyms").select("name, address").eq("id",n).single();if(M)throw M;E&&f(B=>({...B,...E}))}catch(E){console.error("Error fetching gym details:",E)}},T=async()=>{try{const{data:E,error:M}=await re.from("membership_plans").select("*").eq("gym_id",n).order("price",{ascending:!0});if(M)throw M;if(E){const B=E.map($=>({...$,features:typeof $.features=="string"?JSON.parse($.features):$.features}));g(B)}}catch(E){console.error("Error fetching plans:",E)}},j=async E=>{E.preventDefault(),u(!0);try{const{error:M}=await re.from("gyms").update({name:d.name,address:d.address}).eq("id",n);if(M)throw M;alert("Gym profile updated successfully!")}catch(M){console.error("Error updating profile:",M),alert("Failed to update profile.")}finally{u(!1)}},C=async E=>{if(E.preventDefault(),!!x){u(!0);try{const M={gym_id:n,name:x.name,price:x.price,period:x.period,features:JSON.stringify(Array.isArray(x.features)?x.features:typeof x.features=="string"?x.features.split(",").map(B=>B.trim()):[]),active:x.active??!0};if(x.id){const{error:B}=await re.from("membership_plans").update(M).eq("id",x.id);if(B)throw B}else{const{error:B}=await re.from("membership_plans").insert(M);if(B)throw B}w(!1),y(null),T()}catch(M){console.error("Error saving plan:",M),alert("Failed to save plan.")}finally{u(!1)}}},A=async E=>{if(confirm("Are you sure you want to delete this plan?"))try{const{error:M}=await re.from("membership_plans").delete().eq("id",E);if(M)throw M;T()}catch(M){console.error("Error deleting plan:",M),alert("Failed to delete plan.")}};return c.jsxs("div",{className:"flex-1 p-4 lg:p-8 overflow-y-auto h-full custom-scrollbar",children:[c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)] tracking-tight",children:"Gym Management"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Configure your facility details and offerings."})]}),c.jsx("div",{className:"flex p-1 bg-[var(--surface)] border border-[var(--border)] rounded-xl",children:["profile","plans","facilities"].map(E=>c.jsx("button",{onClick:()=>i(E),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize transition-all ${a===E?"bg-primary text-black shadow-md":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:E},E))})]}),c.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[a==="profile"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("form",{onSubmit:j,className:"lg:col-span-2 bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-6",children:"General Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Gym Name"}),c.jsx("input",{type:"text",value:d.name,onChange:E=>f({...d,name:E.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Contact Email"}),c.jsx("input",{type:"email",value:d.contact_email,onChange:E=>f({...d,contact_email:E.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]}),c.jsxs("div",{className:"space-y-2 md:col-span-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Address"}),c.jsx("input",{type:"text",value:d.address,onChange:E=>f({...d,address:E.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Phone"}),c.jsx("input",{type:"tel",value:d.phone,onChange:E=>f({...d,phone:E.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Website"}),c.jsx("input",{type:"url",value:d.website,onChange:E=>f({...d,website:E.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]})]}),c.jsx("div",{className:"pt-4 flex justify-end",children:c.jsx("button",{type:"submit",disabled:o,className:"bg-primary hover:bg-[#0fd60f] text-[#052e16] px-8 py-3 rounded-xl font-bold shadow-lg shadow-primary/20 transition-all active:scale-95 disabled:opacity-50",children:o?"Saving...":"Save Changes"})})]}),c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-8 flex flex-col items-center text-center space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Branding"}),c.jsxs("div",{className:"relative group cursor-pointer",children:[c.jsx("div",{className:"size-32 rounded-full bg-[var(--background)] border-2 border-dashed border-[var(--border)] flex items-center justify-center overflow-hidden",children:c.jsx("span",{className:"material-symbols-outlined text-4xl text-[var(--text-secondary)] group-hover:text-primary transition-colors",children:"add_a_photo"})}),c.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"Change Logo"})})]}),c.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:["Upload your gym logo.",c.jsx("br",{}),"Recommended size: 512x512px."]})]})]}),a==="plans"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[p.map(E=>c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-6 relative group hover:border-primary/50 transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:E.name}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:E.period})]}),c.jsxs("div",{className:"bg-[var(--background)] px-3 py-1 rounded-lg",children:[c.jsxs("span",{className:"text-lg font-bold text-primary",children:[t.symbol,E.price]}),c.jsxs("span",{className:"text-xs text-[var(--text-secondary)]",children:["/",E.period==="Monthly"?"mo":E.period==="Yearly"?"yr":"qtr"]})]})]}),c.jsx("div",{className:"space-y-3 mb-8",children:(Array.isArray(E.features)?E.features:[]).map((M,B)=>c.jsxs("div",{className:"flex items-center gap-3 text-sm text-[var(--text-secondary)]",children:[c.jsx("span",{className:"material-symbols-outlined text-green-500 text-lg",children:"check_circle"}),M]},B))}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{y(E),w(!0)},className:"flex-1 bg-[var(--surface-highlight)] hover:bg-[var(--border)] text-[var(--text-primary)] py-2.5 rounded-xl font-bold text-sm transition-colors",children:"Edit"}),c.jsx("button",{onClick:()=>A(E.id),className:"size-10 flex items-center justify-center bg-red-500/10 hover:bg-red-500/20 text-red-500 rounded-xl transition-colors",children:c.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]},E.id)),c.jsxs("button",{onClick:()=>{y({features:[]}),w(!0)},className:"bg-[var(--surface-highlight)]/30 border-2 border-dashed border-[var(--border)] rounded-3xl p-6 flex flex-col items-center justify-center text-center hover:bg-[var(--surface-highlight)]/50 hover:border-primary/50 transition-all min-h-[300px] group",children:[c.jsx("div",{className:"size-16 rounded-full bg-[var(--surface)] flex items-center justify-center mb-4 text-[var(--text-secondary)] group-hover:text-primary group-hover:scale-110 transition-all shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})}),c.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Add New Plan"}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-2",children:"Create a new membership tier."})]})]}),a==="facilities"&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[c.jsx("div",{className:"size-20 rounded-full bg-[var(--surface-highlight)] flex items-center justify-center mb-6",children:c.jsx("span",{className:"material-symbols-outlined text-4xl text-[var(--text-secondary)]",children:"construction"})}),c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Facilities Management Coming Soon"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-2 max-w-md",children:"Managing equipment, room booking, and maintenance schedules will be available in the next update."})]})]},a)]}),v&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-4",children:x?.id?"Edit Plan":"New Plan"}),c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Name"}),c.jsx("input",{type:"text",required:!0,value:x?.name||"",onChange:E=>y({...x,name:E.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Price"}),c.jsx("input",{type:"number",required:!0,value:x?.price||"",onChange:E=>y({...x,price:parseFloat(E.target.value)}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Period"}),c.jsxs("select",{value:x?.period||"Monthly",onChange:E=>y({...x,period:E.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]",children:[c.jsx("option",{value:"Monthly",children:"Monthly"}),c.jsx("option",{value:"Quarterly",children:"Quarterly"}),c.jsx("option",{value:"Yearly",children:"Yearly"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Features (comma separated)"}),c.jsx("textarea",{value:Array.isArray(x?.features)?x?.features.join(", "):x?.features||"",onChange:E=>y({...x,features:E.target.value.split(",").map(M=>M.trim())}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)] h-24 resize-none",placeholder:"Gym Access, Towel Service, ..."})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 bg-transparent hover:bg-[var(--surface-highlight)] text-[var(--text-secondary)] py-2 rounded-lg font-bold text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 bg-primary text-[#052e16] py-2 rounded-lg font-bold text-sm",children:"Save"})]})]})]})})]})},vk=()=>{const{gymId:n}=ra(),[t,a]=N.useState("leads"),[i,o]=N.useState([]),[u,d]=N.useState([]),[f,p]=N.useState(!1),[g,x]=N.useState(!1),[y,v]=N.useState({status:"New",source:"Manual"});N.useEffect(()=>{n&&(w(),S())},[n]);const w=async()=>{try{const{data:j,error:C}=await re.from("leads").select("*").eq("gym_id",n).order("created_at",{ascending:!1});if(C)throw C;j&&o(j)}catch(j){console.error("Error fetching leads:",j)}},S=async()=>{try{const{data:j,error:C}=await re.from("campaigns").select("*").eq("gym_id",n).order("created_at",{ascending:!1});if(C)throw C;j&&d(j)}catch(j){console.error("Error fetching campaigns:",j)}},T=async j=>{j.preventDefault(),p(!0);try{const{error:C}=await re.from("leads").insert({gym_id:n,name:y.name,email:y.email,phone:y.phone,source:y.source,status:y.status||"New"});if(C)throw C;x(!1),v({status:"New",source:"Manual"}),w()}catch(C){console.error("Error adding lead:",C),alert("Failed to add lead.")}finally{p(!1)}};return c.jsxs("div",{className:"flex-1 p-4 lg:p-8 overflow-y-auto h-full custom-scrollbar",children:[c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)] tracking-tight",children:"Leads & Marketing"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Acquire new members and manage campaigns."})]}),c.jsxs("div",{className:"flex gap-2 bg-[var(--surface)] p-1 rounded-xl border border-[var(--border)]",children:[c.jsx("button",{onClick:()=>a("leads"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${t==="leads"?"bg-primary text-black shadow-lg":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:"Leads"}),c.jsx("button",{onClick:()=>a("marketing"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all ${t==="marketing"?"bg-primary text-black shadow-lg":"text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:"Marketing"})]})]}),c.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:t==="leads"?c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"p-6 border-b border-[var(--border)] flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Recent Leads"}),c.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 bg-[var(--surface-highlight)] hover:bg-[var(--border)] text-[var(--text-primary)] px-4 py-2 rounded-xl text-xs font-bold transition-colors",children:[c.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"}),"Add New Lead"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-[var(--surface-highlight)] text-[var(--text-secondary)] text-xs uppercase tracking-wider font-semibold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Name"}),c.jsx("th",{className:"px-6 py-4",children:"Contact"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4",children:"Source"}),c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-[var(--border)]",children:i.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-[var(--text-secondary)]",children:"No leads found. Add one to get started!"})}):i.map(j=>c.jsxs("tr",{className:"group hover:bg-[var(--surface-highlight)] transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"font-bold text-[var(--text-primary)]",children:j.name||"Unnamed Lead"})}),c.jsxs("td",{className:"px-6 py-4 text-sm text-[var(--text-secondary)]",children:[c.jsx("div",{children:j.email}),c.jsx("div",{className:"text-xs opacity-70",children:j.phone})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${j.status==="New"?"bg-blue-500/10 text-blue-500 border-blue-500/20":j.status==="Contacted"?"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":j.status==="Trial"?"bg-purple-500/10 text-purple-500 border-purple-500/20":"bg-green-500/10 text-green-500 border-green-500/20"}`,children:j.status})}),c.jsx("td",{className:"px-6 py-4 text-sm text-[var(--text-secondary)]",children:j.source}),c.jsx("td",{className:"px-6 py-4 text-sm text-[var(--text-secondary)]",children:new Date(j.created_at).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("button",{className:"text-[var(--text-secondary)] hover:text-primary transition-colors",children:c.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})})})]},j.id))})]})})]}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.map(j=>c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-6 hover:shadow-lg transition-all group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`size-10 rounded-xl flex items-center justify-center ${j.type==="Email"?"bg-blue-500/10 text-blue-500":j.type==="SMS"?"bg-green-500/10 text-green-500":"bg-pink-500/10 text-pink-500"}`,children:c.jsx("span",{className:"material-symbols-outlined",children:j.type==="Email"?"mail":j.type==="SMS"?"sms":"share"})}),c.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-lg ${j.status==="Active"?"bg-green-500/10 text-green-500":"bg-[var(--surface-highlight)] text-[var(--text-secondary)]"}`,children:j.status})]}),c.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-1",children:j.name}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-6",children:"Targeting members and leads."}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-[var(--background)] rounded-xl p-3",children:[c.jsx("p",{className:"text-xs text-[var(--text-secondary)] font-medium mb-1",children:"Sent"}),c.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:j.sent_count})]}),c.jsxs("div",{className:"bg-[var(--background)] rounded-xl p-3",children:[c.jsx("p",{className:"text-xs text-[var(--text-secondary)] font-medium mb-1",children:"Engaged"}),c.jsx("p",{className:"text-lg font-bold text-primary",children:j.clicked_count})]})]})]},j.id)),c.jsxs("button",{className:"bg-[var(--surface-highlight)]/30 border border-dashed border-[var(--border)] rounded-3xl p-6 flex flex-col items-center justify-center text-center hover:bg-[var(--surface-highlight)]/50 transition-all min-h-[200px]",children:[c.jsx("div",{className:"size-12 rounded-full bg-[var(--surface)] flex items-center justify-center mb-4 text-primary shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined",children:"add"})}),c.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"New Campaign"}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Create an email or SMS blast."})]})]})},t)]}),g&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-4",children:"Add New Lead"}),c.jsxs("form",{onSubmit:T,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Name"}),c.jsx("input",{type:"text",required:!0,value:y.name||"",onChange:j=>v({...y,name:j.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Email"}),c.jsx("input",{type:"email",required:!0,value:y.email||"",onChange:j=>v({...y,email:j.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:y.phone||"",onChange:j=>v({...y,phone:j.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Source"}),c.jsxs("select",{value:y.source||"Manual",onChange:j=>v({...y,source:j.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]",children:[c.jsx("option",{value:"Manual",children:"Manual"}),c.jsx("option",{value:"Website",children:"Website"}),c.jsx("option",{value:"Referral",children:"Referral"}),c.jsx("option",{value:"Social",children:"Social"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Status"}),c.jsxs("select",{value:y.status||"New",onChange:j=>v({...y,status:j.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]",children:[c.jsx("option",{value:"New",children:"New"}),c.jsx("option",{value:"Contacted",children:"Contacted"}),c.jsx("option",{value:"Trial",children:"Trial"}),c.jsx("option",{value:"Converted",children:"Converted"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 bg-transparent hover:bg-[var(--surface-highlight)] text-[var(--text-secondary)] py-2 rounded-lg font-bold text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:f,className:"flex-1 bg-primary text-[#052e16] py-2 rounded-lg font-bold text-sm disabled:opacity-50",children:f?"Adding...":"Add Lead"})]})]})]})})]})},bk=()=>{const{gymId:n}=ra(),[t,a]=N.useState([]),[i,o]=N.useState(!1),[u,d]=N.useState(!1),[f,p]=N.useState({name:"",description:"",trigger_type:"New Membership",action_type:"Send Email"});N.useEffect(()=>{n&&g()},[n]);const g=async()=>{try{const{data:S,error:T}=await re.from("automation_workflows").select("*").eq("gym_id",n).order("created_at",{ascending:!1});if(T)throw T;if(S){const j=S.map(C=>({...C,icon:x(C.trigger_type),color:y(C.trigger_type)}));a(j)}}catch(S){console.error("Error fetching workflows:",S)}},x=S=>S.includes("Birthday")?"cake":S.includes("Payment")?"credit_card_off":S.includes("Inactivity")?"fitness_center":"waving_hand",y=S=>S.includes("Birthday")?"text-pink-500 bg-pink-500/10":S.includes("Payment")?"text-red-500 bg-red-500/10":S.includes("Inactivity")?"text-blue-500 bg-blue-500/10":"text-yellow-500 bg-yellow-500/10",v=async(S,T)=>{try{a(t.map(C=>C.id===S?{...C,is_active:!T}:C));const{error:j}=await re.from("automation_workflows").update({is_active:!T}).eq("id",S);if(j)throw j}catch(j){console.error("Error toggling workflow:",j),alert("Failed to update workflow."),g()}},w=async S=>{S.preventDefault(),o(!0);try{const{error:T}=await re.from("automation_workflows").insert({gym_id:n,name:f.name,description:f.description,trigger_type:f.trigger_type,action_type:f.action_type,is_active:!0,stats:{runs:0,lastRun:null}});if(T)throw T;d(!1),p({name:"",description:"",trigger_type:"New Membership",action_type:"Send Email"}),g()}catch(T){console.error("Error creating workflow:",T),alert("Failed to create workflow.")}finally{o(!1)}};return c.jsxs("div",{className:"flex-1 p-4 lg:p-8 overflow-y-auto h-full custom-scrollbar",children:[c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)] tracking-tight",children:"Workflow Automation"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Automate routine tasks and member engagement."})]}),c.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-primary hover:bg-[#0fd60f] text-[#052e16] px-5 py-2.5 rounded-xl text-sm font-bold transition-all shadow-[0_8px_20px_rgba(19,236,19,0.15)] active:scale-95",children:[c.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),"Create Workflow"]})]}),c.jsx("div",{className:"space-y-4",children:t.length===0?c.jsxs("div",{className:"text-center py-12 bg-[var(--surface)] rounded-2xl border border-[var(--border)]",children:[c.jsx("div",{className:"size-16 rounded-full bg-[var(--surface-highlight)] flex items-center justify-center mx-auto mb-4",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-[var(--text-secondary)]",children:"auto_fix_high"})}),c.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"No workflows yet"}),c.jsx("p",{className:"text-[var(--text-secondary)]",children:"Create your first automation to save time."})]}):t.map(S=>c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 flex flex-col md:flex-row items-start md:items-center gap-6 hover:shadow-md transition-shadow group",children:[c.jsx("div",{className:`size-14 rounded-2xl flex items-center justify-center shrink-0 ${S.color||"bg-gray-500/10 text-gray-500"}`,children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:S.icon||"settings"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] flex items-center gap-3",children:[S.name,!S.is_active&&c.jsx("span",{className:"px-2 py-0.5 rounded-md bg-[var(--surface-highlight)] text-[var(--text-secondary)] text-[10px] font-bold uppercase tracking-wider",children:"Paused"})]}),c.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1 mb-3",children:S.description}),c.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-xs font-medium text-[var(--text-secondary)]",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined text-sm",children:"bolt"}),c.jsxs("span",{children:["Trigger: ",c.jsx("span",{className:"text-[var(--text-primary)]",children:S.trigger_type})]})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"}),c.jsxs("span",{children:["Action: ",c.jsx("span",{className:"text-[var(--text-primary)]",children:S.action_type})]})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined text-sm",children:"history"}),c.jsxs("span",{children:["Ran ",S.stats?.runs||0," times  Last: ",S.stats?.lastRun||"Never"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 self-end md:self-center",children:[c.jsx("button",{className:"size-10 rounded-xl hover:bg-[var(--surface-highlight)] flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors",children:c.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),c.jsx("div",{onClick:()=>v(S.id,S.is_active),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 relative ${S.is_active?"bg-primary/20":"bg-[var(--surface-highlight)]"}`,children:c.jsx("div",{className:`size-4 rounded-full shadow-sm transition-all duration-300 ${S.is_active?"bg-primary translate-x-6":"bg-[var(--text-secondary)] translate-x-0"}`})})]})]},S.id))})]}),u&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-4",children:"Create Workflow"}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Name"}),c.jsx("input",{type:"text",required:!0,value:f.name||"",onChange:S=>p({...f,name:S.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]",placeholder:"e.g., Welcome Email"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Description"}),c.jsx("textarea",{value:f.description||"",onChange:S=>p({...f,description:S.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)] resize-none h-20",placeholder:"What does this automation do?"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Trigger"}),c.jsxs("select",{value:f.trigger_type||"",onChange:S=>p({...f,trigger_type:S.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]",children:[c.jsx("option",{value:"New Membership",children:"New Membership"}),c.jsx("option",{value:"Payment Failed",children:"Payment Failed"}),c.jsx("option",{value:"Birthday",children:"Birthday"}),c.jsx("option",{value:"Inactivity",children:"Inactivity"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider mb-1",children:"Action"}),c.jsxs("select",{value:f.action_type||"",onChange:S=>p({...f,action_type:S.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-lg px-3 py-2 text-[var(--text-primary)]",children:[c.jsx("option",{value:"Send Email",children:"Send Email"}),c.jsx("option",{value:"Send SMS",children:"Send SMS"}),c.jsx("option",{value:"Push Notification",children:"Push Notification"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 bg-transparent hover:bg-[var(--surface-highlight)] text-[var(--text-secondary)] py-2 rounded-lg font-bold text-sm",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-primary text-[#052e16] py-2 rounded-lg font-bold text-sm disabled:opacity-50",children:i?"Creating...":"Create Workflow"})]})]})]})})]})},wk=()=>{const{user:n,refreshAuth:t}=ra(),{role:a}=ra(),{currency:i,setCurrency:o}=Ii(),[u,d]=N.useState("profile"),[f,p]=N.useState(!1),[g,x]=N.useState(""),[y,v]=N.useState({full_name:"",role:"",email:"",phone:"",dob:"",location:"",avatar_url:""}),[w,S]=N.useState({new:"",confirm:""});N.useEffect(()=>{n&&T()},[n]);const T=async()=>{try{const{data:A,error:E}=await re.from("profiles").select("*").eq("id",n?.id).single();if(E)throw E;A&&v({full_name:A.full_name||"",role:A.role||"Member",email:A.email||n?.email||"",phone:A.phone||"",dob:A.dob||"",location:A.location||"",avatar_url:A.avatar_url||""})}catch(A){console.error("Error fetching profile:",A)}},j=async A=>{A.preventDefault(),p(!0);try{const{error:E}=await re.from("profiles").update({full_name:y.full_name,phone:y.phone,dob:y.dob||null,location:y.location}).eq("id",n?.id);if(E)throw E;alert("Profile updated successfully!"),t()}catch(E){console.error("Error updating profile:",E),alert("Failed to update profile.")}finally{p(!1)}},C=async A=>{if(A.preventDefault(),w.new!==w.confirm){alert("Passwords do not match!");return}p(!0);try{const{error:E}=await re.auth.updateUser({password:w.new});if(E)throw E;alert("Password updated successfully!"),S({new:"",confirm:""})}catch(E){console.error("Error updating password:",E),alert("Failed to update password.")}finally{p(!1)}};return c.jsx("div",{className:"flex-1 p-4 lg:p-8 overflow-y-auto h-full custom-scrollbar",children:c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)] tracking-tight",children:"System Settings"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Manage your account and app preferences."})]})}),c.jsx("div",{className:"flex border-b border-[var(--border)]",children:["profile","preferences","security"].map(A=>c.jsx("button",{onClick:()=>d(A),className:`px-6 py-3 text-sm font-bold capitalize border-b-2 transition-all ${u===A?"border-primary text-primary":"border-transparent text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:A},A))}),c.jsxs(ne.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},children:[u==="profile"&&c.jsxs("div",{className:"max-w-3xl space-y-8",children:[c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-8 flex items-center gap-6",children:[c.jsxs("div",{className:"relative group cursor-pointer",children:[c.jsx("div",{className:"size-24 rounded-full bg-gradient-to-tr from-gray-700 to-gray-600 border-4 border-[var(--surface)] shadow-lg flex items-center justify-center text-2xl font-bold text-white overflow-hidden",children:y.avatar_url?c.jsx("img",{src:y.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):y.full_name?y.full_name.charAt(0).toUpperCase():n?.email?.charAt(0).toUpperCase()}),c.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("span",{className:"material-symbols-outlined text-white",children:"edit"})}),c.jsx("span",{className:"absolute bottom-1 right-1 size-5 bg-green-500 border-2 border-[var(--surface)] rounded-full"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:y.full_name||"Admin User"}),c.jsxs("p",{className:"text-[var(--text-secondary)] capitalize",children:[y.role,"  ",n?.email]})]}),c.jsx("button",{className:"ml-auto flex items-center gap-2 bg-[var(--surface-highlight)] hover:bg-[var(--border)] text-[var(--text-primary)] px-4 py-2 rounded-xl text-sm font-bold transition-colors",children:"Upload New Photo"})]}),c.jsxs("form",{onSubmit:j,className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-8 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Full Name"}),c.jsx("input",{type:"text",value:y.full_name,onChange:A=>v({...y,full_name:A.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Role"}),c.jsx("input",{type:"text",value:y.role,disabled:!0,className:"w-full bg-[var(--background)]/50 border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-secondary)] cursor-not-allowed uppercase"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Email Address"}),c.jsx("input",{type:"email",value:y.email,disabled:!0,className:"w-full bg-[var(--background)]/50 border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-secondary)] cursor-not-allowed"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Phone"}),c.jsx("input",{type:"tel",value:y.phone,onChange:A=>v({...y,phone:A.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Date of Birth"}),c.jsx("input",{type:"date",value:y.dob,onChange:A=>v({...y,dob:A.target.value}),className:"w-full bg-[var(--background)] border-2 border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors accent-primary"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Location"}),c.jsx("input",{type:"text",value:y.location,onChange:A=>v({...y,location:A.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]})]}),c.jsx("div",{className:"pt-4 flex justify-end",children:c.jsx("button",{type:"submit",disabled:f,className:"bg-primary hover:bg-[#0fd60f] text-[#052e16] px-8 py-3 rounded-xl font-bold shadow-lg shadow-primary/20 transition-all active:scale-95 disabled:opacity-50",children:f?"Saving...":"Save Changes"})})]})]}),u==="preferences"&&c.jsxs("div",{className:"max-w-3xl space-y-8",children:[c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:"App Appearance"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-[var(--background)] rounded-2xl border border-[var(--border)]",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"size-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500",children:c.jsx("span",{className:"material-symbols-outlined",children:"dark_mode"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-[var(--text-primary)]",children:"Theme Mode"}),c.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Select your preferred interface theme."})]})]}),c.jsxs("div",{className:"flex bg-[var(--surface-highlight)] p-1 rounded-lg",children:[c.jsx("button",{className:"px-3 py-1.5 rounded-md text-xs font-bold text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"Light"}),c.jsx("button",{className:"px-3 py-1.5 rounded-md text-xs font-bold bg-[var(--surface)] text-[var(--text-primary)] shadow-sm",children:"Dark"}),c.jsx("button",{className:"px-3 py-1.5 rounded-md text-xs font-bold text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:"System"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-[var(--background)] rounded-2xl border border-[var(--border)]",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"size-10 rounded-full bg-purple-500/10 flex items-center justify-center text-purple-500",children:c.jsx("span",{className:"material-symbols-outlined",children:"palette"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-[var(--text-primary)]",children:"Accent Color"}),c.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Choose the primary brand color."})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"size-6 rounded-full bg-[#13ec13] ring-2 ring-offset-2 ring-offset-[var(--background)] ring-[#13ec13]"}),c.jsx("button",{className:"size-6 rounded-full bg-blue-500 hover:scale-110 transition-transform"}),c.jsx("button",{className:"size-6 rounded-full bg-purple-500 hover:scale-110 transition-transform"}),c.jsx("button",{className:"size-6 rounded-full bg-orange-500 hover:scale-110 transition-transform"})]})]})]})]}),(a==="admin"||a==="gym_admin")&&c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-8 space-y-5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"size-10 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-400",children:c.jsx("span",{className:"material-symbols-outlined",children:"currency_exchange"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Currency"}),c.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Sets the currency symbol across all pages for your gym. Members will see this currency."})]}),c.jsx("span",{className:"ml-auto text-xs font-bold px-2.5 py-1 rounded-lg bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",children:"Admin Only"})]}),c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--background)] rounded-2xl border border-primary/30",children:[c.jsx("span",{className:"text-2xl",children:zi.find(A=>A.code===i.code)?.flag}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-[var(--text-primary)]",children:i.name}),c.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[i.code,"  ",i.symbol]})]}),c.jsx("span",{className:"ml-auto text-xs font-bold text-primary",children:"Active"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] text-lg",children:"search"}),c.jsx("input",{type:"text",placeholder:"Search currency...",value:g,onChange:A=>x(A.target.value),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl pl-10 pr-4 py-2.5 text-sm text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-72 overflow-y-auto custom-scrollbar pr-1",children:zi.filter(A=>A.name.toLowerCase().includes(g.toLowerCase())||A.code.toLowerCase().includes(g.toLowerCase())).map(A=>c.jsxs("button",{onClick:()=>o(A.code),className:`flex items-center gap-3 p-3 rounded-xl border text-left transition-all ${i.code===A.code?"border-primary bg-primary/10 text-[var(--text-primary)]":"border-[var(--border)] bg-[var(--background)] text-[var(--text-secondary)] hover:border-primary/40 hover:text-[var(--text-primary)]"}`,children:[c.jsx("span",{className:"text-xl shrink-0",children:A.flag}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-sm font-bold truncate",children:A.name}),c.jsxs("p",{className:"text-xs opacity-70",children:[A.code,"  ",A.symbol]})]}),i.code===A.code&&c.jsx("span",{className:"material-symbols-outlined text-primary ml-auto text-lg shrink-0",children:"check_circle"})]},A.code))})]})]}),u==="security"&&c.jsx("div",{className:"max-w-3xl space-y-8",children:c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-8 space-y-6",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)]",children:"Login & Security"}),c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"New Password"}),c.jsx("input",{type:"password",required:!0,placeholder:"New password",value:w.new,onChange:A=>S({...w,new:A.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Confirm Password"}),c.jsx("input",{type:"password",required:!0,placeholder:"Confirm password",value:w.confirm,onChange:A=>S({...w,confirm:A.target.value}),className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary transition-colors"})]})]}),c.jsx("div",{className:"pt-2",children:c.jsx("button",{type:"submit",disabled:f,className:"bg-[var(--surface-highlight)] hover:bg-[var(--border)] text-[var(--text-primary)] px-6 py-2.5 rounded-xl font-bold text-sm transition-colors border border-[var(--border)] disabled:opacity-50",children:f?"Updating...":"Update Password"})})]})]})})]},u)]})})},Sk=()=>{const{user:n,refreshAuth:t}=jt(),a=Nn(),[i,o]=N.useState([]),[u,d]=N.useState(!0),[f,p]=N.useState(""),[g,x]=N.useState(null);N.useEffect(()=>{(async()=>{try{const{data:S,error:T}=await re.from("gyms").select("id, name, address");if(T)throw T;o(S||[])}catch(S){console.error("Error fetching gyms:",S)}finally{d(!1)}})()},[]);const y=async w=>{if(console.log("Selecting gym:",w),!n){console.error("No user found");return}x(w);try{console.log("Updating profile...");const{error:S}=await re.from("profiles").update({gym_id:w}).eq("id",n.id);if(S)throw console.error("Profile update error:",S),S;console.log("Checking existing member...");const{data:T,error:j}=await re.from("members").select("id").eq("user_id",n.id).eq("gym_id",w).maybeSingle();if(j&&console.error("Member fetch error:",j),T)console.log("Member already exists");else{console.log("Inserting new member...");const{error:C}=await re.from("members").insert({user_id:n.id,gym_id:w,status:"active",join_date:new Date().toISOString(),membership_plan:"Basic"});if(C)throw console.error("Member insert error:",C),C}console.log("Refreshing auth..."),await t(),console.log("Navigating to choose-goals..."),a("/choose-goals")}catch(S){console.error("Error selecting gym:",S),alert(`Failed to select gym: ${S.message||"Unknown error"}`)}finally{x(null)}},v=i.filter(w=>w.name.toLowerCase().includes(f.toLowerCase())||w.address.toLowerCase().includes(f.toLowerCase()));return c.jsx("div",{className:"min-h-screen bg-[var(--background)] flex flex-col items-center justify-center p-4",children:c.jsxs(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-2xl",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("h1",{className:"text-4xl font-extrabold text-[var(--text-primary)] tracking-tight",children:"Find Your Gym"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-3 text-lg",children:"Select the gym you want to join to continue"})]}),c.jsxs("div",{className:"relative mb-8",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 material-symbols-outlined text-[var(--text-secondary)]",children:"search"}),c.jsx("input",{type:"text",placeholder:"Search by name or location...",value:f,onChange:w=>p(w.target.value),className:"w-full bg-[var(--surface)] border border-[var(--border)] rounded-2xl pl-12 pr-4 py-4 text-[var(--text-primary)] focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all shadow-xl"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:u?c.jsxs("div",{className:"col-span-full py-20 text-center text-[var(--text-secondary)]",children:[c.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl text-primary",children:"progress_activity"}),c.jsx("p",{className:"mt-4 font-medium",children:"Finding nearby gyms..."})]}):v.length>0?v.map(w=>c.jsxs(ne.div,{whileHover:{y:-4},onClick:()=>!g&&y(w.id),className:"bg-[var(--surface)] border border-[var(--border)] p-6 rounded-2xl cursor-pointer hover:border-primary/50 transition-all flex flex-col gap-3 group",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] group-hover:text-primary transition-colors",children:w.name}),g===w.id&&c.jsx("span",{className:"material-symbols-outlined animate-spin text-primary",children:"progress_activity"})]}),c.jsxs("p",{className:"text-sm text-[var(--text-secondary)] flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-sm",children:"location_on"}),w.address]}),c.jsx("div",{className:"mt-2 text-xs font-bold text-primary uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity",children:"Select Gym"})]},w.id)):c.jsx("div",{className:"col-span-full py-12 text-center text-[var(--text-secondary)] border border-dashed border-[var(--border)] rounded-2xl",children:c.jsx("p",{children:"No gyms found matching your search."})})})]})})},_k=()=>{const{user:n,gymId:t,refreshAuth:a}=jt(),i=Nn(),[o,u]=N.useState([]),[d,f]=N.useState(!0),[p,g]=N.useState(!1);N.useEffect(()=>{(async()=>{if(t)try{const{data:v,error:w}=await re.from("membership_plans").select("*").eq("gym_id",t);w?(console.error("Error fetching plans:",w),u([{id:"basic",name:"Basic",price:29,duration:"Month",features:["Gym Access","Lockers"]},{id:"pro",name:"Pro",price:59,duration:"Month",features:["Gym Access","Trainer Support","Pool"]}])):u(v||[])}catch(v){console.error("Exception fetching plans:",v)}finally{f(!1)}})()},[t]);const x=async y=>{if(!(!n||!t)){g(!0);try{const{error:v}=await re.from("members").insert([{user_id:n.id,gym_id:t,membership_plan:y.name,status:"active",join_date:new Date().toISOString(),expiry_date:new Date(Date.now()+2592e6).toISOString()}]);if(v)throw v;await a(),i("/dashboard")}catch(v){console.error("Error joining gym:",v),alert("Failed to subscribe to plan. Please try again.")}finally{g(!1)}}};return t?c.jsx("div",{className:"min-h-screen bg-[var(--background)] flex flex-col items-center justify-center p-4",children:c.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-5xl",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-extrabold text-[var(--text-primary)]",children:"Choose Your Plan"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-3 text-lg text-pretty",children:"Select a membership plan to activate your account"})]}),d?c.jsx("div",{className:"py-20 text-center",children:c.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl text-primary",children:"progress_activity"})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-center",children:o.map((y,v)=>c.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-[var(--surface)] border border-[var(--border)] rounded-3xl p-8 flex flex-col hover:border-primary/50 transition-all shadow-xl group",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-[var(--text-primary)] mb-2",children:y.name}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsxs("span",{className:"text-4xl font-extrabold text-primary",children:["$",y.price]}),c.jsxs("span",{className:"text-[var(--text-secondary)] text-sm font-medium",children:["/",y.duration.toLowerCase()]})]})]}),c.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:(y.features||[]).map((w,S)=>c.jsxs("li",{className:"flex items-center gap-3 text-sm text-[var(--text-secondary)]",children:[c.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"check_circle"}),w]},S))}),c.jsx("button",{onClick:()=>!p&&x(y),disabled:p,className:"w-full py-4 rounded-2xl bg-primary text-black font-bold hover:bg-green-600 transition-all shadow-lg shadow-primary/20 disabled:opacity-50",children:p?"Processing...":"Select Plan"})]},y.id))})]})}):c.jsx("button",{onClick:()=>i("/choose-gym"),children:"Go back to gym selection"})},jk=[{id:"weight_loss",label:"Lose Weight",icon:"monitor_weight"},{id:"muscle_build",label:"Build Muscle",icon:"fitness_center"},{id:"endurance",label:"Improve Endurance",icon:"directions_run"},{id:"flexibility",label:"Flexibility & Mobility",icon:"self_improvement"}],Tk=[{id:"arms",label:"Arms"},{id:"chest",label:"Chest"},{id:"back",label:"Back"},{id:"legs",label:"Legs"},{id:"abs",label:"Abs / Core"},{id:"full_body",label:"Full Body"}],Nk=()=>{const{user:n,refreshAuth:t}=jt();console.log("ChooseGoals component mounted");const a=Nn(),[i,o]=N.useState([]),[u,d]=N.useState([]),[f,p]=N.useState(!1),g=(y,v,w)=>{y.includes(w)?v(y.filter(S=>S!==w)):v([...y,w])},x=async()=>{if(n){p(!0);try{const y={goals:i,targets:u},{error:v}=await re.from("profiles").update({fitness_goals:y,onboarding_completed:!0}).eq("id",n.id);if(v)throw v;await t(),a("/dashboard")}catch(y){console.error("Error saving goals:",y),alert("Failed to save goals. Please try again.")}finally{p(!1)}}};return c.jsx("div",{className:"min-h-screen bg-[var(--background)] flex flex-col items-center justify-center p-4",children:c.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-8 shadow-xl",children:[c.jsx("h1",{className:"text-3xl font-extrabold text-[var(--text-primary)] mb-2 text-center",children:"What are your goals?"}),c.jsx("p",{className:"text-[var(--text-secondary)] text-center mb-8",children:"Let us know what you want to achieve so we can tailor your experience."}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-primary",children:"flag"}),"Primary Focus"]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:jk.map(y=>c.jsxs("button",{onClick:()=>g(i,o,y.id),className:`flex items-center gap-4 p-4 rounded-xl border transition-all ${i.includes(y.id)?"border-primary bg-primary/10 text-primary":"border-[var(--border)] hover:border-primary/50 text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:[c.jsx("span",{className:"material-symbols-outlined",children:y.icon}),c.jsx("span",{className:"font-medium",children:y.label})]},y.id))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-[var(--text-primary)] mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-primary",children:"accessibility_new"}),"Target Areas"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Tk.map(y=>c.jsx("button",{onClick:()=>g(u,d,y.id),className:`px-4 py-2 rounded-full border text-sm font-medium transition-all ${u.includes(y.id)?"border-primary bg-primary text-white":"border-[var(--border)] hover:border-primary/50 text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,children:y.label},y.id))})]})]}),c.jsx("div",{className:"mt-10 flex justify-end gap-4",children:c.jsx("button",{className:"px-6 py-3 rounded-xl font-bold bg-primary text-white shadow-lg hover:shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed",onClick:x,disabled:f||i.length===0,children:f?"Saving...":"Finish Setup"})})]})})},Ek=()=>{const{user:n,gymId:t}=jt(),[a,i]=N.useState(null),[o,u]=N.useState(!0),[d,f]=N.useState(!1),[p,g]=N.useState(!1),[x,y]=N.useState(""),[v,w]=N.useState(!1),[S,T]=N.useState({full_name:"",phone:"",location:""});N.useEffect(()=>{(async()=>{if(!(!n||!t))try{const{data:$,error:Y}=await re.from("profiles").select("full_name, email, phone, location, fitness_goals, gyms(name)").eq("id",n.id).single();if(Y)throw Y;const{data:F,error:W}=await re.from("members").select("join_date, membership_plan, status").eq("user_id",n.id).eq("gym_id",t).single();if(W&&W.code!=="PGRST116")throw W;const me={full_name:$.full_name||"",email:$.email||n.email||"",phone:$.phone||"",location:$.location||"",fitness_goals:{goals:$.fitness_goals?.goals??[],targets:$.fitness_goals?.targets??[]},gym_name:$.gyms?.name||(Array.isArray($.gyms)?$.gyms[0]?.name:"Unknown Gym"),join_date:F?.join_date||new Date().toISOString(),membership_plan:F?.membership_plan||"None",status:F?.status||"active"};i(me),T({full_name:me.full_name,phone:me.phone,location:me.location})}catch($){console.error("Error fetching profile:",$)}finally{u(!1)}})()},[n,t]);const j=async()=>{if(n){if(!S.full_name.trim()){y("Name cannot be empty.");return}g(!0),y("");try{const{error:B}=await re.from("profiles").update({full_name:S.full_name.trim(),phone:S.phone.trim(),location:S.location.trim()}).eq("id",n.id);if(B)throw B;i($=>$&&{...$,full_name:S.full_name.trim(),phone:S.phone.trim()||"Not set",location:S.location.trim()||"Not set"}),f(!1),w(!0),setTimeout(()=>w(!1),3e3)}catch(B){const $=B instanceof Error?B.message:"Failed to save.";y($)}finally{g(!1)}}},C=()=>{a&&T({full_name:a.full_name,phone:a.phone==="Not set"?"":a.phone,location:a.location==="Not set"?"":a.location}),y(""),f(!1)},A=B=>({weight_loss:"Lose Weight",muscle_build:"Build Muscle",endurance:"Endurance",flexibility:"Flexibility",arms:"Arms",chest:"Chest",back:"Back",legs:"Legs",abs:"Abs",full_body:"Full Body"})[B]||B;if(o)return c.jsx("div",{className:"p-8 flex items-center justify-center min-h-[300px]",children:c.jsx("span",{className:"material-symbols-outlined animate-spin text-primary text-4xl",children:"progress_activity"})});if(!a)return c.jsx("div",{className:"p-8 text-center text-[var(--text-secondary)]",children:"Profile not found."});const E=a.full_name||"Member",M=E[0].toUpperCase();return c.jsx("div",{className:"p-4 lg:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("header",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:"My Profile"}),c.jsx("p",{className:"text-[var(--text-secondary)]",children:"Manage your personal information and goals"})]}),c.jsx(Ci,{children:v&&c.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-3 bg-green-500/10 border border-green-500/30 text-green-400 rounded-xl px-4 py-3 text-sm font-medium",children:[c.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"check_circle"}),"Profile updated successfully!"]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"col-span-1 bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 flex flex-col items-center text-center shadow-sm",children:[c.jsx("div",{className:"size-24 rounded-full bg-primary/20 flex items-center justify-center text-primary text-4xl font-bold mb-4",children:M}),c.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)]",children:E}),c.jsx("span",{className:"px-3 py-1 rounded-full bg-green-500/10 text-green-500 text-xs font-bold uppercase mt-2 border border-green-500/20",children:a.status}),c.jsxs("div",{className:"w-full mt-6 pt-6 border-t border-[var(--border)] space-y-3 text-left",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase tracking-wider font-bold",children:"Gym"}),c.jsxs("p",{className:"text-[var(--text-primary)] font-medium flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"fitness_center"}),a.gym_name]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase tracking-wider font-bold",children:"Membership"}),c.jsx("p",{className:"text-[var(--text-primary)] font-medium",children:a.membership_plan})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase tracking-wider font-bold",children:"Member Since"}),c.jsx("p",{className:"text-[var(--text-primary)] font-medium",children:new Date(a.join_date).toLocaleDateString()})]})]})]}),c.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-6",children:[c.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-5",children:[c.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Personal Details"}),d?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:C,className:"text-sm font-semibold text-[var(--text-secondary)] hover:text-[var(--text-primary)] px-3 py-1.5 rounded-lg hover:bg-[var(--surface-highlight)] transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:j,disabled:p,className:"flex items-center gap-1.5 bg-primary text-black text-sm font-bold px-4 py-1.5 rounded-lg hover:bg-[#0fd60f] transition-colors disabled:opacity-60",children:[p?c.jsx("span",{className:"material-symbols-outlined animate-spin text-[16px]",children:"progress_activity"}):c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"check"}),"Save"]})]}):c.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-1.5 text-primary text-sm font-semibold hover:bg-primary/10 px-3 py-1.5 rounded-lg transition-colors",children:[c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"edit"}),"Edit"]})]}),c.jsx(Ci,{mode:"wait",children:d?c.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[x&&c.jsxs("p",{className:"text-red-400 text-sm flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"error"}),x]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"sm:col-span-2",children:[c.jsxs("label",{className:"text-xs text-[var(--text-secondary)] font-semibold uppercase tracking-wider block mb-1.5",children:["Full Name ",c.jsx("span",{className:"text-red-400",children:"*"})]}),c.jsx("input",{type:"text",value:S.full_name,onChange:B=>T($=>({...$,full_name:B.target.value})),placeholder:"e.g. Aditya Kumar",className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all placeholder-[var(--text-secondary)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-semibold uppercase tracking-wider block mb-1.5",children:"Phone"}),c.jsx("input",{type:"tel",value:S.phone,onChange:B=>T($=>({...$,phone:B.target.value})),placeholder:"e.g. +91 98765 43210",className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all placeholder-[var(--text-secondary)]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-semibold uppercase tracking-wider block mb-1.5",children:"Location"}),c.jsx("input",{type:"text",value:S.location,onChange:B=>T($=>({...$,location:B.target.value})),placeholder:"e.g. Kanpur, UP",className:"w-full bg-[var(--background)] border border-[var(--border)] rounded-xl px-4 py-3 text-[var(--text-primary)] focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all placeholder-[var(--text-secondary)]"})]})]}),c.jsxs("p",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-1",children:[c.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"lock"}),"Email cannot be changed here."]})]},"edit"):c.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-3 rounded-xl bg-[var(--background)] border border-[var(--border)]",children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)]",children:"Full Name"}),c.jsx("p",{className:"text-[var(--text-primary)] font-medium",children:a.full_name||c.jsx("span",{className:"italic text-[var(--text-secondary)]",children:"Not set"})})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-[var(--background)] border border-[var(--border)]",children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)]",children:"Email"}),c.jsx("p",{className:"text-[var(--text-primary)] font-medium truncate",children:a.email})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-[var(--background)] border border-[var(--border)]",children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)]",children:"Phone"}),c.jsx("p",{className:"text-[var(--text-primary)] font-medium",children:a.phone||c.jsx("span",{className:"italic text-[var(--text-secondary)]",children:"Not set"})})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-[var(--background)] border border-[var(--border)]",children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)]",children:"Location"}),c.jsx("p",{className:"text-[var(--text-primary)] font-medium",children:a.location||c.jsx("span",{className:"italic text-[var(--text-secondary)]",children:"Not set"})})]})]},"view")})]}),c.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-6 shadow-sm",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsx("h3",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Fitness Goals"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase tracking-wider font-bold mb-2 block",children:"Primary Focus"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(a.fitness_goals?.goals??[]).length>0?(a.fitness_goals?.goals??[]).map(B=>c.jsxs("span",{className:"px-3 py-1 bg-blue-500/10 text-blue-500 border border-blue-500/20 rounded-lg text-sm font-medium flex items-center gap-1",children:[c.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"check_circle"}),A(B)]},B)):c.jsx("p",{className:"text-[var(--text-secondary)] italic text-sm",children:"No goals set"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase tracking-wider font-bold mb-2 block",children:"Target Areas"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(a.fitness_goals?.targets??[]).length>0?(a.fitness_goals?.targets??[]).map(B=>c.jsx("span",{className:"px-3 py-1 bg-purple-500/10 text-purple-500 border border-purple-500/20 rounded-lg text-sm font-medium",children:A(B)},B)):c.jsx("p",{className:"text-[var(--text-secondary)] italic text-sm",children:"No target areas set"})})]})]})]})]})]})]})})},Ak="modulepreload",Ck=function(n){return"/"+n},Mv={},cw=function(t,a,i){let o=Promise.resolve();if(a&&a.length>0){let g=function(x){return Promise.all(x.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var d=g;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");o=g(a.map(x=>{if(x=Ck(x),x in Mv)return;Mv[x]=!0;const y=x.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":Ak,y||(w.as="script"),w.crossOrigin="",w.href=x,p&&w.setAttribute("nonce",p),document.head.appendChild(w),y)return new Promise((S,T)=>{w.addEventListener("load",S),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return o.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return t().catch(u)})},Lv={arms:[{name:"Bicep Curls",desc:"Classic curl for peak bicep development",icon:"fitness_center",sets:"412"},{name:"Tricep Dips",desc:"Bodyweight movement for strong triceps",icon:"fitness_center",sets:"315"},{name:"Hammer Curls",desc:"Targets brachialis for arm thickness",icon:"fitness_center",sets:"312"}],chest:[{name:"Bench Press",desc:"King of chest exercises for mass",icon:"fitness_center",sets:"410"},{name:"Push-Ups",desc:"Bodyweight classic for chest activation",icon:"fitness_center",sets:"320"},{name:"Cable Flyes",desc:"Isolation for inner chest definition",icon:"fitness_center",sets:"315"}],back:[{name:"Pull-Ups",desc:"Best compound for lat width",icon:"fitness_center",sets:"48"},{name:"Barbell Rows",desc:"Thickness builder for mid-back",icon:"fitness_center",sets:"410"},{name:"Lat Pulldowns",desc:"Machine-assisted lat development",icon:"fitness_center",sets:"312"}],legs:[{name:"Squats",desc:"King of all exercises for leg mass",icon:"fitness_center",sets:"410"},{name:"Leg Press",desc:"Heavy compound for quads and glutes",icon:"fitness_center",sets:"412"},{name:"Romanian Deadlift",desc:"Hamstring and glute developer",icon:"fitness_center",sets:"312"}],abs:[{name:"Plank",desc:"Core stability and endurance",icon:"fitness_center",sets:"360s"},{name:"Crunches",desc:"Classic upper ab isolation",icon:"fitness_center",sets:"420"},{name:"Leg Raises",desc:"Lower ab and hip flexor strength",icon:"fitness_center",sets:"315"}],full_body:[{name:"Deadlift",desc:"Total body strength builder",icon:"fitness_center",sets:"46"},{name:"Burpees",desc:"Full body cardio and conditioning",icon:"fitness_center",sets:"315"},{name:"Kettlebell Swings",desc:"Explosive power and endurance",icon:"fitness_center",sets:"420"}]},Uv={weight_loss:[{title:"Calorie Deficit",tip:"Aim for 300500 kcal below your TDEE daily for steady fat loss.",icon:"local_fire_department",color:"text-orange-400"},{title:"High Protein",tip:"Eat 1.62.2g of protein per kg of bodyweight to preserve muscle.",icon:"egg",color:"text-yellow-400"},{title:"Hydration",tip:"Drink 34 litres of water daily. Often hunger is just thirst.",icon:"water_drop",color:"text-blue-400"}],muscle_build:[{title:"Calorie Surplus",tip:"Eat 200300 kcal above TDEE to fuel muscle growth without excess fat.",icon:"restaurant",color:"text-green-400"},{title:"Protein Timing",tip:"Consume 3040g protein within 2 hours post-workout for recovery.",icon:"egg",color:"text-yellow-400"},{title:"Complex Carbs",tip:"Oats, rice, and sweet potatoes fuel your training sessions.",icon:"grain",color:"text-amber-400"}],endurance:[{title:"Carb Loading",tip:"Increase carb intake before long sessions to maximize glycogen stores.",icon:"grain",color:"text-amber-400"},{title:"Electrolytes",tip:"Replenish sodium, potassium, and magnesium after intense cardio.",icon:"water_drop",color:"text-blue-400"},{title:"Recovery Meals",tip:"Eat a balanced meal with carbs + protein within 45 min post-workout.",icon:"restaurant",color:"text-green-400"}],flexibility:[{title:"Anti-Inflammatory",tip:"Eat turmeric, ginger, and omega-3s to reduce joint inflammation.",icon:"spa",color:"text-purple-400"},{title:"Collagen Support",tip:"Vitamin C + collagen-rich foods support tendon and ligament health.",icon:"egg",color:"text-yellow-400"},{title:"Stay Hydrated",tip:"Dehydration reduces muscle elasticity. Drink consistently throughout the day.",icon:"water_drop",color:"text-blue-400"}]},Rk=[{title:"Sleep 79 Hours",tip:"Growth hormone peaks during deep sleep. Prioritize recovery.",icon:"bedtime",color:"text-indigo-400"},{title:"Active Recovery",tip:"Light walks or stretching on rest days improve blood flow and reduce soreness.",icon:"directions_walk",color:"text-teal-400"},{title:"Stress Management",tip:"High cortisol from stress can hinder muscle growth and fat loss.",icon:"self_improvement",color:"text-pink-400"}],Zd=({icon:n,title:t,subtitle:a,badge:i,color:o="text-primary",delay:u=0})=>c.jsxs(ne.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:u,duration:.35},className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-5 flex gap-4 items-start hover:border-primary/30 transition-all group",children:[c.jsx("div",{className:"size-11 rounded-xl bg-[var(--background)] flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform",children:c.jsx("span",{className:`material-symbols-outlined ${o}`,children:n})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("h4",{className:"font-bold text-[var(--text-primary)] text-sm",children:t}),i&&c.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full bg-primary/10 text-primary border border-primary/20",children:i})]}),c.jsx("p",{className:"text-[var(--text-secondary)] text-xs mt-1 leading-relaxed",children:a})]})]}),zv=()=>{const{user:n,gymName:t}=jt(),[a,i]=_o.useState({goals:[],targets:[]}),[o,u]=_o.useState(!0);_o.useEffect(()=>{(async()=>{if(!n)return;const{supabase:w}=await cw(async()=>{const{supabase:T}=await Promise.resolve().then(()=>iw);return{supabase:T}},[]),{data:S}=await w.from("profiles").select("fitness_goals").eq("id",n.id).single();i({goals:S?.fitness_goals?.goals??[],targets:S?.fitness_goals?.targets??[]}),u(!1)})()},[n]);const d=new Date().getHours(),f=d<12?"Good Morning":d<17?"Good Afternoon":"Good Evening",p=a.targets.flatMap(v=>Lv[v]??[]).slice(0,6),g=p.length>0?p:Lv.full_body,x=a.goals.flatMap(v=>Uv[v]??[]).slice(0,3),y=x.length>0?x:Uv.muscle_build;return c.jsxs("div",{className:"p-4 lg:p-8 max-w-5xl mx-auto space-y-10",children:[c.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border border-primary/20 rounded-3xl p-6 flex items-center gap-5",children:[c.jsx("div",{className:"size-16 rounded-2xl bg-primary/20 flex items-center justify-center shrink-0",children:c.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"waving_hand"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-[var(--text-secondary)] text-sm font-medium",children:[f," "]}),c.jsx("h1",{className:"text-2xl font-extrabold text-[var(--text-primary)]",children:n?.email?.split("@")[0]??"Member"}),c.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-0.5",children:t?`Training at ${t}`:"Ready to crush today's workout?"})]})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("span",{className:"material-symbols-outlined text-primary",children:"fitness_center"}),c.jsxs("h2",{className:"text-lg font-bold text-[var(--text-primary)]",children:["Recommended Exercises",a.targets.length>0&&c.jsx("span",{className:"ml-2 text-xs font-normal text-[var(--text-secondary)]",children:" based on your target areas"})]})]}),o?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[1,2,3,4].map(v=>c.jsx("div",{className:"h-20 bg-[var(--surface)] rounded-2xl animate-pulse border border-[var(--border)]"},v))}):c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:g.map((v,w)=>c.jsx(Zd,{icon:v.icon,title:v.name,subtitle:v.desc,badge:v.sets,delay:w*.06},v.name+w))})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("span",{className:"material-symbols-outlined text-orange-400",children:"restaurant"}),c.jsxs("h2",{className:"text-lg font-bold text-[var(--text-primary)]",children:["Nutrition Suggestions",a.goals.length>0&&c.jsx("span",{className:"ml-2 text-xs font-normal text-[var(--text-secondary)]",children:" tailored to your goals"})]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:y.map((v,w)=>c.jsx(Zd,{icon:v.icon,title:v.title,subtitle:v.tip,color:v.color,delay:w*.08},v.title))})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("span",{className:"material-symbols-outlined text-teal-400",children:"favorite"}),c.jsx("h2",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Health & Recovery Tips"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:Rk.map((v,w)=>c.jsx(Zd,{icon:v.icon,title:v.title,subtitle:v.tip,color:v.color,delay:w*.08},v.title))})]})]})},Bv={arms:[{day:"Monday",focus:"Biceps",exercises:[{name:"Barbell Curl",sets:4,reps:"1012",rest:"60s",tip:"Keep elbows pinned to your sides"},{name:"Hammer Curl",sets:3,reps:"12",rest:"60s",tip:"Neutral grip for brachialis"},{name:"Concentration Curl",sets:3,reps:"15",rest:"45s",tip:"Full range of motion"}]},{day:"Wednesday",focus:"Triceps",exercises:[{name:"Close-Grip Bench Press",sets:4,reps:"810",rest:"90s",tip:"Elbows tucked in"},{name:"Tricep Dips",sets:3,reps:"1215",rest:"60s",tip:"Lean slightly forward"},{name:"Overhead Tricep Extension",sets:3,reps:"12",rest:"60s",tip:"Keep upper arms vertical"}]},{day:"Friday",focus:"Arms (Full)",exercises:[{name:"Superset: Curl + Pushdown",sets:4,reps:"10 each",rest:"90s",tip:"Minimal rest between exercises"},{name:"Preacher Curl",sets:3,reps:"12",rest:"60s",tip:"Slow eccentric for growth"},{name:"Skull Crushers",sets:3,reps:"10",rest:"75s",tip:"Lower bar to forehead slowly"}]},{day:"Tuesday",focus:"Rest / Cardio",exercises:[{name:"Light Cardio",sets:1,reps:"30 min",rest:"",tip:"Keep heart rate at 120140 bpm"}]},{day:"Thursday",focus:"Rest / Stretch",exercises:[{name:"Full Body Stretch",sets:1,reps:"20 min",rest:"",tip:"Hold each stretch 30 seconds"}]},{day:"Saturday",focus:"Active Recovery",exercises:[{name:"Walk / Yoga",sets:1,reps:"45 min",rest:"",tip:"Keep it light and enjoyable"}]},{day:"Sunday",focus:"Rest",exercises:[{name:"Full Rest",sets:1,reps:"",rest:"",tip:"Sleep 8 hours, eat well"}]}],chest:[{day:"Monday",focus:"Upper Chest",exercises:[{name:"Incline Bench Press",sets:4,reps:"810",rest:"90s",tip:"3045 incline for upper chest"},{name:"Incline Dumbbell Fly",sets:3,reps:"12",rest:"60s",tip:"Slight bend in elbows"},{name:"Cable Crossover (High)",sets:3,reps:"15",rest:"60s",tip:"Pull downward for upper chest"}]},{day:"Thursday",focus:"Lower Chest",exercises:[{name:"Flat Bench Press",sets:4,reps:"810",rest:"90s",tip:"Drive through your heels"},{name:"Decline Push-Ups",sets:3,reps:"1520",rest:"60s",tip:"Feet elevated on bench"},{name:"Dips",sets:3,reps:"12",rest:"75s",tip:"Lean forward for chest emphasis"}]},{day:"Tuesday",focus:"Rest / Cardio",exercises:[{name:"Light Cardio",sets:1,reps:"30 min",rest:"",tip:"Steady state cardio"}]},{day:"Wednesday",focus:"Active Recovery",exercises:[{name:"Stretching",sets:1,reps:"20 min",rest:"",tip:"Focus on chest and shoulders"}]},{day:"Friday",focus:"Full Chest",exercises:[{name:"Push-Up Variations",sets:4,reps:"1520",rest:"60s",tip:"Wide, narrow, and diamond"},{name:"Pec Deck Machine",sets:3,reps:"15",rest:"60s",tip:"Squeeze at peak contraction"}]},{day:"Saturday",focus:"Active Recovery",exercises:[{name:"Walk / Yoga",sets:1,reps:"45 min",rest:"",tip:"Light movement only"}]},{day:"Sunday",focus:"Rest",exercises:[{name:"Full Rest",sets:1,reps:"",rest:"",tip:"Recovery is growth"}]}],legs:[{day:"Monday",focus:"Quads",exercises:[{name:"Barbell Squat",sets:4,reps:"810",rest:"120s",tip:"Break parallel for full activation"},{name:"Leg Press",sets:4,reps:"12",rest:"90s",tip:"Feet shoulder-width apart"},{name:"Leg Extension",sets:3,reps:"15",rest:"60s",tip:"Pause at top for quad squeeze"}]},{day:"Thursday",focus:"Hamstrings & Glutes",exercises:[{name:"Romanian Deadlift",sets:4,reps:"10",rest:"90s",tip:"Hinge at hips, slight knee bend"},{name:"Lying Leg Curl",sets:3,reps:"12",rest:"60s",tip:"Full range of motion"},{name:"Hip Thrust",sets:4,reps:"12",rest:"75s",tip:"Drive hips up explosively"}]},{day:"Tuesday",focus:"Rest / Cardio",exercises:[{name:"Light Cardio",sets:1,reps:"30 min",rest:"",tip:"Cycling is easy on legs"}]},{day:"Wednesday",focus:"Active Recovery",exercises:[{name:"Stretching",sets:1,reps:"20 min",rest:"",tip:"Focus on hip flexors and hamstrings"}]},{day:"Friday",focus:"Full Legs",exercises:[{name:"Lunges",sets:3,reps:"12 each",rest:"60s",tip:"Keep front knee over ankle"},{name:"Calf Raises",sets:4,reps:"20",rest:"45s",tip:"Full range, slow eccentric"}]},{day:"Saturday",focus:"Active Recovery",exercises:[{name:"Walk / Yoga",sets:1,reps:"45 min",rest:"",tip:"Light movement only"}]},{day:"Sunday",focus:"Rest",exercises:[{name:"Full Rest",sets:1,reps:"",rest:"",tip:"Sleep 8 hours"}]}],back:[{day:"Monday",focus:"Lat Width",exercises:[{name:"Pull-Ups",sets:4,reps:"610",rest:"90s",tip:"Full hang at bottom, chin over bar"},{name:"Lat Pulldown",sets:4,reps:"12",rest:"75s",tip:"Pull to upper chest, not behind neck"},{name:"Straight-Arm Pulldown",sets:3,reps:"15",rest:"60s",tip:"Feel the lat stretch at top"}]},{day:"Thursday",focus:"Back Thickness",exercises:[{name:"Barbell Row",sets:4,reps:"810",rest:"90s",tip:"Pull to lower chest, not waist"},{name:"Seated Cable Row",sets:3,reps:"12",rest:"75s",tip:"Keep chest up, squeeze shoulder blades"},{name:"Single-Arm Dumbbell Row",sets:3,reps:"12 each",rest:"60s",tip:"Full range of motion"}]},{day:"Tuesday",focus:"Rest / Cardio",exercises:[{name:"Light Cardio",sets:1,reps:"30 min",rest:"",tip:"Steady state cardio"}]},{day:"Wednesday",focus:"Active Recovery",exercises:[{name:"Stretching",sets:1,reps:"20 min",rest:"",tip:"Focus on lats and thoracic spine"}]},{day:"Friday",focus:"Full Back",exercises:[{name:"Deadlift",sets:4,reps:"56",rest:"120s",tip:"Brace core, neutral spine"},{name:"Face Pulls",sets:3,reps:"15",rest:"60s",tip:"Great for rear delts and posture"}]},{day:"Saturday",focus:"Active Recovery",exercises:[{name:"Walk / Yoga",sets:1,reps:"45 min",rest:"",tip:"Light movement only"}]},{day:"Sunday",focus:"Rest",exercises:[{name:"Full Rest",sets:1,reps:"",rest:"",tip:"Recovery is growth"}]}],abs:[{day:"Monday",focus:"Upper Abs",exercises:[{name:"Crunches",sets:4,reps:"20",rest:"45s",tip:"Exhale at top, slow eccentric"},{name:"Cable Crunch",sets:3,reps:"15",rest:"60s",tip:"Round the spine, don't pull with arms"},{name:"Decline Sit-Up",sets:3,reps:"15",rest:"60s",tip:"Add weight for progression"}]},{day:"Wednesday",focus:"Lower Abs",exercises:[{name:"Hanging Leg Raise",sets:4,reps:"12",rest:"60s",tip:"Control the descent"},{name:"Reverse Crunch",sets:3,reps:"15",rest:"45s",tip:"Curl hips toward chest"},{name:"Mountain Climbers",sets:3,reps:"30s",rest:"45s",tip:"Keep hips level"}]},{day:"Friday",focus:"Core Stability",exercises:[{name:"Plank",sets:4,reps:"60s",rest:"45s",tip:"Squeeze glutes and abs throughout"},{name:"Side Plank",sets:3,reps:"45s each",rest:"45s",tip:"Stack feet or stagger for balance"},{name:"Ab Wheel Rollout",sets:3,reps:"10",rest:"60s",tip:"Brace core before rolling out"}]},{day:"Tuesday",focus:"Rest / Cardio",exercises:[{name:"Light Cardio",sets:1,reps:"30 min",rest:"",tip:"Steady state cardio"}]},{day:"Thursday",focus:"Active Recovery",exercises:[{name:"Stretching",sets:1,reps:"20 min",rest:"",tip:"Focus on hip flexors and lower back"}]},{day:"Saturday",focus:"Active Recovery",exercises:[{name:"Walk / Yoga",sets:1,reps:"45 min",rest:"",tip:"Light movement only"}]},{day:"Sunday",focus:"Rest",exercises:[{name:"Full Rest",sets:1,reps:"",rest:"",tip:"Sleep 8 hours"}]}],full_body:[{day:"Monday",focus:"Push",exercises:[{name:"Bench Press",sets:4,reps:"810",rest:"90s",tip:"Chest, shoulders, triceps"},{name:"Overhead Press",sets:3,reps:"10",rest:"90s",tip:"Keep core braced"},{name:"Tricep Pushdown",sets:3,reps:"15",rest:"60s",tip:"Elbows fixed at sides"}]},{day:"Tuesday",focus:"Pull",exercises:[{name:"Deadlift",sets:4,reps:"6",rest:"120s",tip:"Neutral spine throughout"},{name:"Pull-Ups",sets:3,reps:"8",rest:"90s",tip:"Full range of motion"},{name:"Barbell Row",sets:3,reps:"10",rest:"90s",tip:"Pull to lower chest"}]},{day:"Wednesday",focus:"Legs",exercises:[{name:"Squat",sets:4,reps:"10",rest:"120s",tip:"Break parallel"},{name:"Romanian Deadlift",sets:3,reps:"12",rest:"90s",tip:"Hinge at hips"},{name:"Calf Raises",sets:4,reps:"20",rest:"45s",tip:"Full range"}]},{day:"Thursday",focus:"Rest / Cardio",exercises:[{name:"Light Cardio",sets:1,reps:"30 min",rest:"",tip:"Active recovery"}]},{day:"Friday",focus:"Full Body",exercises:[{name:"Burpees",sets:4,reps:"15",rest:"60s",tip:"Explosive jump at top"},{name:"Kettlebell Swings",sets:4,reps:"20",rest:"60s",tip:"Hip hinge, not squat"},{name:"Farmer's Walk",sets:3,reps:"40m",rest:"90s",tip:"Heavy weight, tall posture"}]},{day:"Saturday",focus:"Active Recovery",exercises:[{name:"Walk / Yoga",sets:1,reps:"45 min",rest:"",tip:"Light movement only"}]},{day:"Sunday",focus:"Rest",exercises:[{name:"Full Rest",sets:1,reps:"",rest:"",tip:"Sleep 8 hours"}]}]},Pv=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],kk={Rest:"bg-gray-500/10 text-gray-400 border-gray-500/20","Rest / Cardio":"bg-blue-500/10 text-blue-400 border-blue-500/20","Active Recovery":"bg-teal-500/10 text-teal-400 border-teal-500/20"},Ok=n=>kk[n]??"bg-primary/10 text-primary border-primary/20",Dk=()=>{const{user:n}=jt(),[t,a]=N.useState([]),[i,o]=N.useState(!0),[u,d]=N.useState(null);N.useEffect(()=>{const y=new Date().toLocaleDateString("en-US",{weekday:"long"});d(y)},[]),N.useEffect(()=>{(async()=>{if(!n)return;const{supabase:v}=await cw(async()=>{const{supabase:S}=await Promise.resolve().then(()=>iw);return{supabase:S}},void 0),{data:w}=await v.from("profiles").select("fitness_goals").eq("id",n.id).single();a(w?.fitness_goals?.targets??[]),o(!1)})()},[n]);const f=t[0]??"full_body",g=[...Bv[f]??Bv.full_body].sort((y,v)=>Pv.indexOf(y.day)-Pv.indexOf(v.day)),x=new Date().toLocaleDateString("en-US",{weekday:"long"});return c.jsxs("div",{className:"p-4 lg:p-8 max-w-3xl mx-auto space-y-6",children:[c.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[c.jsx("h1",{className:"text-3xl font-extrabold text-[var(--text-primary)]",children:"Weekly Workout Plan"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:i?"Loading your plan...":t.length>0?`Customized for: ${t.map(y=>y.replace("_"," ")).join(", ")}`:"Full body training program"})]}),!i&&c.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"grid grid-cols-3 gap-3",children:[{label:"Training Days",value:g.filter(y=>!y.focus.includes("Rest")&&!y.focus.includes("Recovery")).length,icon:"calendar_month"},{label:"Rest Days",value:g.filter(y=>y.focus.includes("Rest")||y.focus.includes("Recovery")).length,icon:"bedtime"},{label:"Total Exercises",value:g.reduce((y,v)=>y+v.exercises.length,0),icon:"fitness_center"}].map(y=>c.jsxs("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-2xl p-4 text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-primary text-xl",children:y.icon}),c.jsx("p",{className:"text-2xl font-extrabold text-[var(--text-primary)] mt-1",children:y.value}),c.jsx("p",{className:"text-[var(--text-secondary)] text-xs",children:y.label})]},y.label))}),i?c.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(y=>c.jsx("div",{className:"h-16 bg-[var(--surface)] rounded-2xl animate-pulse border border-[var(--border)]"},y))}):c.jsx("div",{className:"space-y-3",children:g.map((y,v)=>{const w=y.day===x,S=u===y.day,T=y.focus.includes("Rest")||y.focus.includes("Recovery");return c.jsxs(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:v*.05},className:`bg-[var(--surface)] border rounded-2xl overflow-hidden transition-all ${w?"border-primary/50 shadow-lg shadow-primary/10":"border-[var(--border)]"}`,children:[c.jsxs("button",{onClick:()=>d(S?null:y.day),className:"w-full flex items-center justify-between p-4 text-left hover:bg-[var(--background)] transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[w&&c.jsx("span",{className:"size-2 rounded-full bg-primary animate-pulse shrink-0"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:y.day}),w&&c.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full bg-primary text-[#052e16]",children:"TODAY"})]}),c.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full border mt-1 inline-block ${Ok(y.focus)}`,children:y.focus})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[!T&&c.jsxs("span",{className:"text-xs text-[var(--text-secondary)]",children:[y.exercises.length," exercises"]}),c.jsx("span",{className:`material-symbols-outlined text-[var(--text-secondary)] transition-transform ${S?"rotate-180":""}`,children:"expand_more"})]})]}),c.jsx(Ci,{children:S&&c.jsx(ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25},className:"overflow-hidden",children:c.jsx("div",{className:"px-4 pb-4 space-y-2 border-t border-[var(--border)] pt-3",children:y.exercises.map((j,C)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-[var(--background)] border border-[var(--border)]",children:[c.jsx("div",{className:"size-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0 mt-0.5",children:c.jsx("span",{className:"text-primary text-xs font-bold",children:C+1})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-semibold text-[var(--text-primary)] text-sm",children:j.name}),c.jsx("p",{className:"text-[var(--text-secondary)] text-xs mt-0.5 italic",children:j.tip})]}),j.sets>1?c.jsxs("div",{className:"text-right shrink-0",children:[c.jsxs("p",{className:"text-primary font-bold text-sm",children:[j.sets,"  ",j.reps]}),c.jsxs("p",{className:"text-[var(--text-secondary)] text-xs",children:["Rest ",j.rest]})]}):c.jsx("div",{className:"text-right shrink-0",children:c.jsx("p",{className:"text-teal-400 font-bold text-sm",children:j.reps})})]},j.name))})})})]},y.day)})})]})},Vv=[{to:"/member/home",icon:"home",label:"Home"},{to:"/member/exercises",icon:"fitness_center",label:"Exercises"},{to:"/member/profile",icon:"person",label:"Profile"}],Mk=()=>{const{gymName:n,userName:t,signOut:a}=jt(),i=Nn(),o=async()=>{await a(),i("/login")};return c.jsxs("div",{className:"flex min-h-screen bg-[var(--background)]",children:[c.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-[var(--surface)] border-r border-[var(--border)] p-5 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"size-10 rounded-xl bg-primary/20 flex items-center justify-center",children:c.jsx("span",{className:"material-symbols-outlined text-primary text-xl",children:"fitness_center"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-[var(--text-primary)] text-sm leading-tight",children:"Smart Gym"}),c.jsx("p",{className:"text-[var(--text-secondary)] text-xs truncate max-w-[130px]",children:n||"Member"})]})]}),c.jsx("nav",{className:"flex flex-col gap-1 flex-1",children:Vv.map(u=>c.jsxs(Mo,{to:u.to,className:({isActive:d})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium text-sm transition-all ${d?"bg-primary text-[#052e16] shadow-lg shadow-primary/20":"text-[var(--text-secondary)] hover:bg-[var(--background)] hover:text-[var(--text-primary)]"}`,children:[c.jsx("span",{className:"material-symbols-outlined text-[20px]",children:u.icon}),u.label]},u.to))}),c.jsxs("div",{className:"border-t border-[var(--border)] pt-4 mt-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"size-9 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold text-sm",children:(t||"M")[0].toUpperCase()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-[var(--text-primary)] text-sm font-semibold truncate",children:t||"Member"}),c.jsx("p",{className:"text-[var(--text-secondary)] text-xs",children:"Active Member"})]})]}),c.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-[var(--text-secondary)] hover:text-red-400 hover:bg-red-500/10 transition-all",children:[c.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"logout"}),"Sign Out"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[c.jsx("main",{className:"flex-1 overflow-y-auto pb-20 md:pb-0",children:c.jsx($h,{})}),c.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[var(--surface)] border-t border-[var(--border)] flex z-50",children:Vv.map(u=>c.jsx(Mo,{to:u.to,className:({isActive:d})=>`flex-1 flex flex-col items-center justify-center py-3 gap-1 text-xs font-medium transition-all ${d?"text-primary":"text-[var(--text-secondary)]"}`,children:({isActive:d})=>c.jsxs(c.Fragment,{children:[c.jsx(ne.span,{className:"material-symbols-outlined text-[22px]",animate:{scale:d?1.15:1},transition:{type:"spring",stiffness:400,damping:20},children:u.icon}),u.label]})},u.to))})]})]})},Lk=()=>c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[c.jsx("div",{className:"size-20 bg-primary/20 text-primary rounded-3xl flex items-center justify-center mb-6",children:c.jsx("span",{className:"material-symbols-outlined text-4xl",children:"fitness_center"})}),c.jsx("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:"Trainer Dashboard"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-4 max-w-md",children:"Welcome to your specialized trainer view. Here you can manage your assigned members and workouts."}),c.jsxs("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl",children:[c.jsxs("div",{className:"p-6 bg-[var(--surface)] border border-[var(--border)] rounded-2xl",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"My Members"}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Manage your client list and progress."})]}),c.jsxs("div",{className:"p-6 bg-[var(--surface)] border border-[var(--border)] rounded-2xl",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"Workouts"}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Create and assign workout plans."})]})]})]}),Uk=()=>c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[c.jsx("div",{className:"size-20 bg-primary/20 text-primary rounded-3xl flex items-center justify-center mb-6",children:c.jsx("span",{className:"material-symbols-outlined text-4xl",children:"admin_panel_settings"})}),c.jsx("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:"Platform Administration"}),c.jsx("p",{className:"text-[var(--text-secondary)] mt-4 max-w-md",children:"This is the master control panel for the entire SaaS platform. Manage gyms, subscription plans, and platform-wide analytics."}),c.jsxs("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-3 gap-4 w-full max-w-4xl",children:[c.jsxs("div",{className:"p-6 bg-[var(--surface)] border border-[var(--border)] rounded-2xl",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"Manage Gyms"}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"View and manage all registered gyms."})]}),c.jsxs("div",{className:"p-6 bg-[var(--surface)] border border-[var(--border)] rounded-2xl",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"Global Revenue"}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Track income across all tenants."})]}),c.jsxs("div",{className:"p-6 bg-[var(--surface)] border border-[var(--border)] rounded-2xl",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"System Health"}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Monitor server and database performance."})]})]})]}),zk=ne(ot),Bk=()=>c.jsxs("div",{className:"bg-[var(--background)] text-[var(--text-primary)] font-display overflow-x-hidden min-h-screen flex flex-col",children:[c.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-[var(--border)] px-10 py-3 bg-[var(--surface)]",children:[c.jsxs("div",{className:"flex items-center gap-4 text-[var(--text-primary)]",children:[c.jsx("div",{className:"size-8 text-primary",children:c.jsx("span",{className:"material-symbols-outlined text-[32px]",children:"fitness_center"})}),c.jsx("h2",{className:"text-[var(--text-primary)] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Smart Gym"})]}),c.jsxs("div",{className:"hidden md:flex flex-1 justify-end gap-8",children:[c.jsxs("div",{className:"flex items-center gap-9",children:[c.jsx(ot,{className:"text-[var(--text-primary)] text-sm font-medium leading-normal hover:text-primary transition-colors",to:"/admin",children:"Dashboard"}),c.jsx(ot,{className:"text-[var(--text-primary)] text-sm font-medium leading-normal hover:text-primary transition-colors",to:"/admin/members",children:"Members"}),c.jsx(ot,{className:"text-[var(--text-primary)] text-sm font-medium leading-normal hover:text-primary transition-colors",to:"/admin/analytics",children:"Analytics"}),c.jsx(ot,{className:"text-[var(--text-primary)] text-sm font-medium leading-normal hover:text-primary transition-colors",to:"#",children:"Settings"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[var(--surface-highlight)] text-[var(--text-primary)] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5 hover:bg-gray-200 dark:hover:bg-[#3e4856] transition-colors",children:c.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"notifications"})}),c.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[var(--surface-highlight)] text-[var(--text-primary)] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5 hover:bg-gray-200 dark:hover:bg-[#3e4856] transition-colors",children:c.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"help"})})]}),c.jsx("div",{className:"flex items-center justify-center bg-gray-300 dark:bg-gray-700 rounded-full size-10",children:c.jsx("span",{className:"material-symbols-outlined text-gray-600 dark:text-gray-300",children:"person"})})]})]}),c.jsxs("main",{className:"flex-grow flex items-center justify-center p-4 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl -z-10 pointer-events-none"}),c.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-primary/10 rounded-full blur-3xl -z-10 pointer-events-none"}),c.jsxs("div",{className:"flex flex-col items-center max-w-2xl w-full text-center space-y-8 animate-fade-in-up",children:[c.jsx("div",{className:"relative w-full max-w-[400px] aspect-video flex items-center justify-center mb-4 text-[var(--text-tertiary)] opacity-80",children:c.jsxs("svg",{height:"240",viewBox:"0 0 240 240",width:"240",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:[c.jsx("rect",{height:"160",rx:"2",stroke:"currentColor",strokeWidth:"2",width:"10",x:"60",y:"40"}),c.jsx("rect",{height:"160",rx:"2",stroke:"currentColor",strokeWidth:"2",width:"10",x:"170",y:"40"}),c.jsx("path",{d:"M65 50 H175",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"}),c.jsx("path",{d:"M40 200 H80",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"}),c.jsx("path",{d:"M160 200 H200",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"}),c.jsx("path",{d:"M70 100 H75 V90",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"}),c.jsx("path",{d:"M165 100 H170 V90",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"}),c.jsx("rect",{height:"10",rx:"2",stroke:"currentColor",strokeWidth:"2",width:"60",x:"90",y:"140"}),c.jsx("path",{d:"M100 150 V200",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"}),c.jsx("path",{d:"M140 150 V200",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"}),c.jsx("path",{d:"M30 200 H210",opacity:"0.5",stroke:"currentColor",strokeDasharray:"4 4",strokeWidth:"1"})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-[120px] font-extrabold leading-none tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-[var(--text-primary)] to-[var(--text-secondary)] opacity-20 select-none",children:"404"}),c.jsx("h2",{className:"text-3xl font-bold text-[var(--text-primary)] tracking-tight",children:"Looks like this rep doesn't exist."}),c.jsx("p",{className:"text-[var(--text-secondary)] max-w-md mx-auto text-base",children:"The page you are looking for might have been moved, deleted, or possibly never existed in our training plan."})]}),c.jsx("div",{className:"pt-4",children:c.jsxs(zk,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"group relative inline-flex items-center justify-center px-8 py-3 text-sm font-bold text-primary transition-all duration-200 bg-transparent border-2 border-primary/30 rounded-lg hover:bg-primary hover:text-white hover:border-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-offset-[var(--background)]",to:"/admin",children:[c.jsx("span",{className:"mr-2 material-symbols-outlined text-[20px] group-hover:-translate-x-1 transition-transform",children:"arrow_back"}),"Back to Dashboard"]})})]})]}),c.jsxs("footer",{className:"flex flex-col gap-6 px-5 py-8 text-center border-t border-solid border-[var(--border)] bg-[var(--surface)]",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6",children:[c.jsx(ot,{className:"text-[var(--text-secondary)] text-sm font-medium hover:text-primary transition-colors",to:"#",children:"Support"}),c.jsx(ot,{className:"text-[var(--text-secondary)] text-sm font-medium hover:text-primary transition-colors",to:"#",children:"Privacy Policy"}),c.jsx(ot,{className:"text-[var(--text-secondary)] text-sm font-medium hover:text-primary transition-colors",to:"#",children:"Terms of Service"})]}),c.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:" 2024 Smart Gym Automation Systems. All rights reserved."})]})]}),mi=({allowedRoles:n})=>{const{user:t,role:a,gymId:i,hasMembership:o,loading:u}=jt(),d=yn();if(u)return c.jsx("div",{className:"min-h-screen bg-[#111813] flex items-center justify-center",children:c.jsx("span",{className:"material-symbols-outlined text-[#13ec5b] text-4xl animate-spin",children:"progress_activity"})});if(!t)return c.jsx(ln,{to:"/login",state:{from:d},replace:!0});if(a==="gym_admin"){if(!i&&d.pathname!=="/onboarding")return c.jsx(ln,{to:"/onboarding",replace:!0});if(i&&d.pathname==="/onboarding")return c.jsx(ln,{to:"/admin",replace:!0})}if(a==="member"){const p=["/choose-gym","/choose-plan","/choose-goals"].includes(d.pathname);if(!i&&d.pathname!=="/choose-gym")return c.jsx(ln,{to:"/choose-gym",replace:!0});if(i&&!o&&!p)return c.jsx(ln,{to:"/choose-plan",replace:!0});if(i&&o&&p)return c.jsx(ln,{to:"/member/home",replace:!0})}return n&&a&&!n.includes(a)?(console.log("Redirecting: Role not allowed",a,n),a==="gym_admin"?c.jsx(ln,{to:"/admin",replace:!0}):a==="member"?c.jsx(ln,{to:"/dashboard",replace:!0}):a==="trainer"?c.jsx(ln,{to:"/trainer",replace:!0}):a==="super_admin"||a==="platform_admin"?c.jsx(ln,{to:"/platform-admin",replace:!0}):c.jsx(ln,{to:"/",replace:!0})):c.jsx($h,{})},eh={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},Pk={hidden:{opacity:0,x:-10},show:{opacity:1,x:0}},Sn=({icon:n,text:t,to:a,badge:i,end:o,onClick:u})=>c.jsx(ne.div,{variants:Pk,children:c.jsx(Mo,{to:a,end:o,onClick:u,className:({isActive:d})=>`relative flex items-center justify-between px-4 py-2.5 rounded-xl transition-all duration-200 group ${d?"bg-primary/10 text-primary shadow-[0_0_20px_rgba(19,236,19,0.05)]":"text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--surface-highlight)]"}`,children:({isActive:d})=>c.jsxs(c.Fragment,{children:[d&&c.jsx(ne.div,{layoutId:"activeSidebar",className:"absolute left-0 w-1 h-5 bg-primary rounded-full",transition:{type:"spring",stiffness:300,damping:30}}),c.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[c.jsx("span",{className:`material-symbols-outlined text-[22px] transition-transform duration-300 ${d?"filled":"group-hover:scale-110"}`,children:n}),c.jsx("span",{className:"text-sm font-medium tracking-tight whitespace-nowrap",children:t})]}),i&&c.jsx("span",{className:"bg-primary/20 text-primary text-[10px] font-bold px-1.5 py-0.5 rounded-md relative z-10",children:i})]})})}),Hv=({onNavClick:n})=>{const{gymName:t,userName:a,signOut:i}=jt(),o=Nn(),u=async()=>{await i(),o("/login")};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",children:[c.jsx("div",{className:"size-11 rounded-2xl bg-gradient-to-br from-primary to-[#0b8a0b] flex items-center justify-center text-black font-extrabold text-xl shadow-[0_8px_20px_rgba(19,236,19,0.2)] group-hover:scale-105 transition-transform",children:t?t.charAt(0).toUpperCase():"F"}),c.jsxs("div",{className:"flex flex-col min-w-0",children:[c.jsx("h1",{className:"text-[var(--text-primary)] text-base font-bold leading-tight tracking-tight truncate",children:t||"Smart Gym"}),c.jsx("p",{className:"text-[var(--text-secondary)] text-[10px] font-bold uppercase tracking-[0.1em] opacity-70",children:"Admin Console"})]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-3 space-y-6 pb-8 custom-scrollbar",children:[c.jsxs("div",{children:[c.jsx("p",{className:"px-4 text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-[0.2em] mb-3 opacity-50",children:"Core Management"}),c.jsxs(ne.nav,{variants:eh,initial:"hidden",animate:"show",className:"space-y-1",children:[c.jsx(Sn,{icon:"dashboard",text:"Dashboard",to:"/admin",end:!0,onClick:n}),c.jsx(Sn,{icon:"groups",text:"Members",to:"/admin/members",onClick:n}),c.jsx(Sn,{icon:"payments",text:"Payments & Billing",to:"/admin/payments",onClick:n}),c.jsx(Sn,{icon:"fitness_center",text:"Trainers",to:"/admin/trainers",onClick:n}),c.jsx(Sn,{icon:"how_to_reg",text:"Attendance",to:"/admin/attendance",onClick:n})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"px-4 text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-[0.2em] mb-3 opacity-50",children:"Growth & Strategy"}),c.jsxs(ne.nav,{variants:eh,initial:"hidden",animate:"show",className:"space-y-1",children:[c.jsx(Sn,{icon:"analytics",text:"Analytics",to:"/admin/analytics",onClick:n}),c.jsx(Sn,{icon:"campaign",text:"Leads & Marketing",to:"/admin/leads",onClick:n}),c.jsx(Sn,{icon:"notifications_active",text:"Automation",to:"/admin/automation",onClick:n})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"px-4 text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-[0.2em] mb-3 opacity-50",children:"Infrastructure"}),c.jsxs(ne.nav,{variants:eh,initial:"hidden",animate:"show",className:"space-y-1",children:[c.jsx(Sn,{icon:"settings_applications",text:"Gym Management",to:"/admin/management",onClick:n}),c.jsx(Sn,{icon:"settings",text:"Settings",to:"/admin/settings",onClick:n})]})]})]}),c.jsx("div",{className:"p-4 border-t border-[var(--border)] bg-[var(--background)]/50",children:c.jsxs("div",{className:"flex items-center gap-3 px-2 py-2 rounded-xl hover:bg-[var(--surface-highlight)] transition-colors cursor-pointer group",children:[c.jsx("div",{className:"size-9 rounded-full bg-gradient-to-tr from-gray-700 to-gray-600 border border-[var(--border)] flex items-center justify-center text-xs font-bold text-[var(--text-primary)]",children:a?a.split(" ").map(d=>d[0]).join(""):"A"}),c.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[c.jsx("span",{className:"text-[var(--text-primary)] text-sm font-bold truncate group-hover:text-primary transition-colors",children:a||"Gym Admin"}),c.jsx("span",{className:"text-[var(--text-secondary)] text-[10px] font-medium opacity-70",children:"Gym Manager"})]}),c.jsx("button",{onClick:u,title:"Sign Out",className:"text-[var(--text-secondary)] hover:text-red-400 transition-colors",children:c.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"logout"})})]})})]})},Vk=()=>{const[n,t]=N.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsx("aside",{className:"hidden lg:flex w-64 bg-[var(--surface)] border-r border-[var(--border)] flex-col h-full shrink-0 relative z-30",children:c.jsx(Hv,{})}),c.jsx("button",{onClick:()=>t(!0),className:"lg:hidden fixed top-4 left-4 z-50 size-10 bg-[var(--surface)] border border-[var(--border)] rounded-xl flex items-center justify-center text-[var(--text-primary)] shadow-lg","aria-label":"Open menu",children:c.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"menu"})}),c.jsx(Ci,{children:n&&c.jsxs(c.Fragment,{children:[c.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"lg:hidden fixed inset-0 bg-black/60 z-40"}),c.jsxs(ne.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"lg:hidden fixed left-0 top-0 bottom-0 w-72 bg-[var(--surface)] border-r border-[var(--border)] flex flex-col z-50 shadow-2xl",children:[c.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 size-8 flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:c.jsx("span",{className:"material-symbols-outlined",children:"close"})}),c.jsx(Hv,{onNavClick:()=>t(!1)})]})]})})]})},Hk=()=>{const n=yn(),{gymName:t}=jt(),a=()=>{const i=n.pathname;return i==="/admin"?"Dashboard Overview":i.includes("/members")?"Member Management":i.includes("/payments")?"Payments & Billing":i.includes("/trainers")?"Trainer Directory":i.includes("/attendance")?"Attendance Tracking":i.includes("/analytics")?"Business Analytics":i.includes("/management")?"Gym Configuration":i.includes("/leads")?"Leads & Marketing":i.includes("/automation")?"Workflow Automation":i.includes("/settings")?"System Settings":"Admin Console"};return c.jsxs("div",{className:"bg-[var(--background)] text-[var(--text-primary)] font-display antialiased h-screen flex overflow-hidden",children:[c.jsx(Vk,{}),c.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden bg-[var(--background)] relative",children:[c.jsxs("header",{className:"h-16 lg:h-20 border-b border-[var(--border)] flex items-center justify-between px-4 lg:px-8 bg-[var(--background)]/80 backdrop-blur-md sticky top-0 z-20",children:[c.jsxs("div",{className:"flex flex-col pl-12 lg:pl-0",children:[c.jsx("h2",{className:"text-[var(--text-primary)] text-lg lg:text-2xl font-bold tracking-tight",children:a()}),c.jsxs("p",{className:"hidden sm:block text-[var(--text-secondary)] text-[10px] font-bold uppercase tracking-widest opacity-60",children:[t||"Smart Gym","  Management"]})]}),c.jsxs("div",{className:"flex items-center gap-3 lg:gap-6",children:[c.jsxs("div",{className:"relative w-40 md:w-64 group hidden sm:flex",children:[c.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)] group-focus-within:text-primary transition-colors",children:"search"}),c.jsx("input",{className:"w-full bg-[var(--surface)] border border-[var(--border)] rounded-xl py-2.5 pl-10 pr-4 text-sm text-[var(--text-primary)] focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary placeholder-[var(--text-secondary)] transition-all",placeholder:"Search...",type:"text"})]}),c.jsxs("button",{className:"relative p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors rounded-full hover:bg-[var(--surface-highlight)]",children:[c.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),c.jsx("span",{className:"absolute top-2 right-2 size-2 bg-primary rounded-full border-2 border-[var(--background)]"})]}),c.jsxs("button",{className:"bg-primary hover:bg-[#0fd60f] text-[#052e16] text-sm font-bold px-3 lg:px-5 py-2 lg:py-2.5 rounded-xl transition-all shadow-[0_8px_20px_rgba(19,236,19,0.15)] flex items-center gap-2 active:scale-95",children:[c.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"bolt"}),c.jsx("span",{className:"hidden sm:inline",children:"Quick Action"})]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto relative",children:c.jsx($h,{})})]})]})},qk=()=>c.jsxs(c.Fragment,{children:[c.jsx(QR,{}),c.jsxs("main",{className:"flex-1",children:[c.jsx(ek,{}),c.jsx(rk,{}),c.jsx("section",{className:"py-20 px-6 lg:px-10",children:c.jsxs("div",{className:"mx-auto max-w-5xl overflow-hidden rounded-3xl bg-primary relative",children:[c.jsx("div",{className:"absolute inset-0 bg-black opacity-10 mix-blend-overlay"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-between gap-8 px-8 py-16 text-center lg:flex-row lg:text-left lg:px-16",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"mb-4 text-3xl font-extrabold text-white md:text-4xl",children:"Ready to upgrade your gym?"}),c.jsx("p",{className:"text-lg text-blue-100",children:"Join 500+ gym owners streamlining their operations today."})]}),c.jsx("div",{className:"flex flex-col gap-4 sm:flex-row",children:c.jsx("button",{className:"flex h-12 items-center justify-center rounded-lg bg-white px-8 text-base font-bold text-primary transition-transform hover:scale-105 active:scale-95",children:"Start Free Trial"})})]})]})})]}),c.jsx(ik,{})]}),$k=()=>{const n=yn();return c.jsx("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-[var(--background)] text-[var(--text-primary)] font-display antialiased selection:bg-primary selection:text-white transition-colors duration-300",children:c.jsx(Ci,{mode:"wait",children:c.jsxs(qj,{location:n,children:[c.jsx(Ne,{path:"/",element:c.jsx(qk,{})}),c.jsx(Ne,{path:"/login",element:c.jsx(lk,{})}),c.jsxs(Ne,{element:c.jsx(mi,{allowedRoles:["gym_admin","member","trainer","super_admin","platform_admin"]}),children:[c.jsx(Ne,{path:"/onboarding",element:c.jsx(ok,{})}),c.jsx(Ne,{path:"/choose-gym",element:c.jsx(Sk,{})}),c.jsx(Ne,{path:"/choose-plan",element:c.jsx(_k,{})}),c.jsx(Ne,{path:"/choose-goals",element:c.jsx(Nk,{})})]}),c.jsx(Ne,{element:c.jsx(mi,{allowedRoles:["gym_admin"]}),children:c.jsxs(Ne,{element:c.jsx(Hk,{}),children:[c.jsx(Ne,{path:"/admin",element:c.jsx(uk,{})}),c.jsx(Ne,{path:"/admin/members",element:c.jsx(dk,{})}),c.jsx(Ne,{path:"/admin/payments",element:c.jsx(hk,{})}),c.jsx(Ne,{path:"/admin/trainers",element:c.jsx(fk,{})}),c.jsx(Ne,{path:"/admin/attendance",element:c.jsx(mk,{})}),c.jsx(Ne,{path:"/admin/analytics",element:c.jsx(gk,{})}),c.jsx(Ne,{path:"/admin/management",element:c.jsx(xk,{})}),c.jsx(Ne,{path:"/admin/leads",element:c.jsx(vk,{})}),c.jsx(Ne,{path:"/admin/automation",element:c.jsx(bk,{})}),c.jsx(Ne,{path:"/admin/settings",element:c.jsx(wk,{})})]})}),c.jsx(Ne,{element:c.jsx(mi,{allowedRoles:["member"]}),children:c.jsxs(Ne,{element:c.jsx(Mk,{}),children:[c.jsx(Ne,{path:"/member/home",element:c.jsx(zv,{})}),c.jsx(Ne,{path:"/member/exercises",element:c.jsx(Dk,{})}),c.jsx(Ne,{path:"/member/profile",element:c.jsx(Ek,{})}),c.jsx(Ne,{path:"/dashboard",element:c.jsx(zv,{})})]})}),c.jsx(Ne,{element:c.jsx(mi,{allowedRoles:["trainer"]}),children:c.jsx(Ne,{path:"/trainer",element:c.jsx(Lk,{})})}),c.jsx(Ne,{element:c.jsx(mi,{allowedRoles:["platform_admin","super_admin"]}),children:c.jsx(Ne,{path:"/platform-admin",element:c.jsx(Uk,{})})}),c.jsx(Ne,{path:"*",element:c.jsx(Bk,{})})]},n.pathname)})})};function Gk(){return c.jsx(h1,{basename:"/",children:c.jsx($k,{})})}$_.createRoot(document.getElementById("root")).render(c.jsx(WR,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:c.jsx(FR,{children:c.jsx(ck,{children:c.jsx(Gk,{})})})}));
